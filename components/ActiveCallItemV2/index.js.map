{"version":3,"sources":["components/ActiveCallItemV2/index.js"],"names":["WebphoneButtons","currentLocale","session","webphoneReject","webphoneHangup","webphoneResume","webphoneAnswer","webphoneHold","showMergeCall","showHold","disableMerge","onMergeCall","hangupFunc","endIcon","EndIcon","answerBtn","rejectTitle","i18n","getString","holdTitle","unholdTitle","callStatus","sessionStatus","connecting","VoicemailIcon","styles","webphoneButton","answerButton","e","stopPropagation","id","AnswerIcon","holdBtn","mergeBtn","holdButton","active","HoldIcon","mergeTitle","mergeButton","disabled","MergeIntoConferenceIcon","webphoneButtons","rejectButton","propTypes","PropTypes","string","isRequired","object","func","bool","defaultProps","undefined","i","RingoutButtons","showRingoutCallControl","disableLinks","sessionId","ringoutHangup","ringoutReject","ringoutTransfer","ringing","inbound","endButton","inComingCall","ringoutButton","hangupTitle","transferBtn","transferTitle","transferButton","TransferIcon","ringoutButtons","ActiveCallItem","props","onSelectContact","value","idx","getAvatarUrl","_userSelection","setState","selected","then","avatarUrl","_mounted","call","webphoneSession","updateSessionMatchedContact","getSelectedContactIdx","nextProps","contactMatches","getContactMatches","length","contact","contactMatch","findIndex","match","getSelectedContact","state","isLogging","extraNum","contactDisplay","webphoneToVoicemail","toVoicemailTimeout","setTimeout","isOnConferenceCall","conferenceCallParties","map","profile","setContact","clearTimeout","telephonyStatus","startTime","offset","showCallDetail","telephonyStatusInfo","callDetail","split","from","name","to","fromMatches","toMatches","phoneNumber","extensionNumber","direction","areaCode","countryCode","enableContactFallback","brand","showContactDisplayPlaceholder","sourceIcons","renderContactName","renderExtraButton","contactDisplayStyle","onClick","showAvatar","getPhoneNumber","fallbackContactName","getFallbackContactName","contactName","extraButton","hasCallControl","callItemContainer","wrapper","content","pointer","strechVertical","icon","getCallInfo","actionIconsBox","Component","shape","number","activityMatches","array"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAA0C;;AAE1C,SAASA,eAAT,OAYG;AAAA,MAXDC,aAWC,QAXDA,aAWC;AAAA,MAVDC,OAUC,QAVDA,OAUC;AAAA,MATDC,cASC,QATDA,cASC;AAAA,MARDC,cAQC,QARDA,cAQC;AAAA,MAPDC,cAOC,QAPDA,cAOC;AAAA,MANDC,cAMC,QANDA,cAMC;AAAA,MALDC,YAKC,QALDA,YAKC;AAAA,MAJDC,aAIC,QAJDA,aAIC;AAAA,MAHDC,QAGC,QAHDA,QAGC;AAAA,MAFDC,YAEC,QAFDA,YAEC;AAAA,MADDC,WACC,QADDA,WACC;;AACD,MAAI,CAACT,OAAL,EAAc;AACZ,WAAO,IAAP;AACD;AACD,MAAIU,aAAaR,cAAjB;AACA,MAAIS,UAAUC,aAAd;AACA,MAAIC,YAAY,IAAhB;;AAEA,MAAIC,cAAcC,eAAKC,SAAL,CAAe,QAAf,EAAyBjB,aAAzB,CAAlB;AACA,MAAMkB,YAAYF,eAAKC,SAAL,CAAe,MAAf,EAAuBjB,aAAvB,CAAlB;AACA,MAAMmB,cAAcH,eAAKC,SAAL,CAAe,QAAf,EAAyBjB,aAAzB,CAApB;;AAEA,MACE,+BAAUC,OAAV,KACAA,QAAQmB,UAAR,KAAuBC,wBAAcC,UAFvC,EAGE;AACAX,iBAAaT,cAAb;AACAU,cAAUW,mBAAV;AACAR,kBAAcC,eAAKC,SAAL,CAAe,aAAf,EAA8BjB,aAA9B,CAAd;AACAQ,eAAW,KAAX;AACAM,gBACE;AAAA;AAAA,QAAM,OAAOE,eAAKC,SAAL,CAAe,QAAf,EAAyBjB,aAAzB,CAAb,EAAsD,WAAWwB,iBAAOC,cAAxE;AACE,oCAAC,sBAAD;AACE,mBAAWD,iBAAOE,YADpB;AAEE,iBAAS,iBAACC,CAAD,EAAO;AACdA,YAAEC,eAAF;AACAvB,yBAAeJ,QAAQ4B,EAAvB;AACD,SALH;AAME,cAAMC,gBANR;AAOE,oBAAY;AAPd;AADF,KADF;AAaD;;AAED,MAAIC,gBAAJ;AACA,MAAIC,iBAAJ;;AAEA,MAAIxB,QAAJ,EAAc;AACZ,QAAI,8BAASP,OAAT,CAAJ,EAAuB;AACrB8B,gBACE;AAAA;AAAA,UAAM,OAAOZ,WAAb,EAA0B,WAAWK,iBAAOC,cAA5C;AACE,sCAAC,sBAAD;AACE,qBAAW,0BAAWD,iBAAOS,UAAlB,EAA8BT,iBAAOU,MAArC,CADb;AAEE,mBAAS,iBAACP,CAAD,EAAO;AACdA,cAAEC,eAAF;AACAxB,2BAAeH,QAAQ4B,EAAvB;AACD,WALH;AAME,qBAAW,GANb;AAOE,iBAAO,GAPT;AAQE,gBAAMM,cARR;AASE;AATF;AADF,OADF;AAeD,KAhBD,MAgBO;AACLJ,gBACE;AAAA;AAAA,UAAM,OAAOb,SAAb,EAAwB,WAAWM,iBAAOC,cAA1C;AACE,sCAAC,sBAAD;AACE,qBAAWD,iBAAOS,UADpB;AAEE,mBAAS,iBAACN,CAAD,EAAO;AACdA,cAAEC,eAAF;AACAtB,yBAAaL,QAAQ4B,EAArB;AACD,WALH;AAME,qBAAW,GANb;AAOE,iBAAO,GAPT;AAQE,gBAAMM,cARR;AASE;AATF;AADF,OADF;AAeD;AACF;;AAED,MAAI5B,aAAJ,EAAmB;AAAA;;AACjB,QAAM6B,aAAapB,eAAKC,SAAL,CAAe,mBAAf,EAAoCjB,aAApC,CAAnB;;AAEAgC,eACE;AAAA;AAAA,QAAM,OAAOI,UAAb,EAAyB,WAAWZ,iBAAOC,cAA3C;AACE,oCAAC,sBAAD;AACE,mBACE,wFACGD,iBAAOa,WADV,EACwB,IADxB,8CAEGb,iBAAOc,QAFV,EAEqB7B,YAFrB,gBAFJ;AAOE,iBAAS,iBAACkB,CAAD,EAAO;AACdA,YAAEC,eAAF;AACAlB,sBAAYT,QAAQ4B,EAApB;AACD,SAVH;AAWE,mBAAW,GAXb;AAYE,eAAO,GAZT;AAaE,cAAMU,iCAbR;AAcE,wBAdF;AAeE,kBAAU9B;AAfZ;AADF,KADF;AAqBD;;AAED,SACE;AAAA;AAAA,MAAK,WAAWe,iBAAOgB,eAAvB;AACGR,YADH;AAEGD,WAFH;AAGE;AAAA;AAAA,QAAM,OAAOhB,WAAb,EAA0B,WAAWS,iBAAOC,cAA5C;AACE,oCAAC,sBAAD;AACE,mBAAWD,iBAAOiB,YADpB;AAEE,iBAAS,iBAACd,CAAD,EAAO;AACdA,YAAEC,eAAF;AACAjB,qBAAWV,QAAQ4B,EAAnB;AACD,SALH;AAME,mBAAW,GANb;AAOE,eAAO,GAPT;AAQE,cAAMjB,OARR;AASE,oBAAY;AATd;AADF,KAHF;AAgBGE;AAhBH,GADF;AAoBD;;AAEDf,gBAAgB2C,SAAhB,GAA4B;AAC1B1C,iBAAe2C,oBAAUC,MAAV,CAAiBC,UADN;AAE1B5C,WAAS0C,oBAAUG,MAFO;AAG1B5C,kBAAgByC,oBAAUI,IAHA;AAI1B5C,kBAAgBwC,oBAAUI,IAJA;AAK1B3C,kBAAgBuC,oBAAUI,IALA;AAM1BzC,gBAAcqC,oBAAUI,IANE;AAO1BxC,iBAAeoC,oBAAUK,IAPC;AAQ1BxC,YAAUmC,oBAAUK,IARM;AAS1BvC,gBAAckC,oBAAUK,IATE;AAU1BtC,eAAaiC,oBAAUI,IAVG;AAW1B1C,kBAAgBsC,oBAAUI;AAXA,CAA5B;;AAcAhD,gBAAgBkD,YAAhB,GAA+B;AAC7BhD,WAASiD,SADoB;AAE7BhD,kBAAgBgD,SAFa;AAG7B/C,kBAAgB+C,SAHa;AAI7B9C,kBAAgB8C,SAJa;AAK7B5C,gBAAc4C,SALe;AAM7B3C,iBAAe,KANc;AAO7BC,YAAU,IAPmB;AAQ7BC,gBAAc,IARe;AAS7BC,eAAa;AAAA,WAAKyC,CAAL;AAAA,GATgB;AAU7B9C,kBAAgB;AAAA,WAAK8C,CAAL;AAAA;AAVa,CAA/B;;AAaA,SAASC,cAAT,QAUG;AAAA,MATDC,sBASC,SATDA,sBASC;AAAA,MARDrD,aAQC,SARDA,aAQC;AAAA,MAPDsD,YAOC,SAPDA,YAOC;AAAA,MANDC,SAMC,SANDA,SAMC;AAAA,MALDC,aAKC,SALDA,aAKC;AAAA,MAJDC,aAIC,SAJDA,aAIC;AAAA,MAHDC,eAGC,SAHDA,eAGC;AAAA,MAFDC,OAEC,SAFDA,OAEC;AAAA,MADDC,OACC,SADDA,OACC;;AACD,MAAI,CAACP,sBAAL,EAA6B,OAAO,IAAP;;AAE7B,MAAIQ,kBAAJ;AACA,MAAMC,eAAeF,WAAWD,OAAhC;AACA,MAAIG,YAAJ,EAAkB;AAAA;;AAChB,QAAM/C,cAAcC,eAAKC,SAAL,CAAe,QAAf,EAAyBjB,aAAzB,CAApB;AACA6D,gBACE;AAAA;AAAA,QAAM,OAAO9C,WAAb,EAA0B,WAAWS,iBAAOuC,aAA5C;AACE,oCAAC,sBAAD;AACE,kBAAUT,YADZ;AAEE,mBACE,0FACG9B,iBAAOqC,SADV,EACsB,IADtB,+CAEGrC,iBAAOc,QAFV,EAEqBgB,YAFrB,iBAHJ;AAQE,iBAAS,iBAAC3B,CAAD,EAAO;AACdA,YAAEC,eAAF;AACA6B,wBAAcF,SAAd;AACD,SAXH;AAYE,cAAM1C,aAZR;AAaE,oBAAY;AAbd;AADF,KADF;AAmBD,GArBD,MAqBO;AAAA;;AACL,QAAMmD,cAAchD,eAAKC,SAAL,CAAe,QAAf,EAAyBjB,aAAzB,CAApB;AACA6D,gBACE;AAAA;AAAA,QAAM,OAAOG,WAAb,EAA0B,WAAWxC,iBAAOuC,aAA5C;AACE,oCAAC,sBAAD;AACE,kBAAUT,YADZ;AAEE,mBACE,0FACG9B,iBAAOqC,SADV,EACsB,IADtB,+CAEGrC,iBAAOc,QAFV,EAEqBgB,YAFrB,iBAHJ;AAQE,iBAAS,iBAAC3B,CAAD,EAAO;AACdA,YAAEC,eAAF;AACA4B,wBAAcD,SAAd;AACD,SAXH;AAYE,cAAM1C,aAZR;AAaE,oBAAY;AAbd;AADF,KADF;AAmBD;;AAED,MAAIoD,oBAAJ;AACA,MAAIP,mBAAmB,CAACI,YAAxB,EAAsC;AAAA;;AACpC,QAAMI,gBAAgBlD,eAAKC,SAAL,CAAe,UAAf,EAA2BjB,aAA3B,CAAtB;;AAEAiE,kBACE;AAAA;AAAA,QAAM,OAAOC,aAAb,EAA4B,WAAW1C,iBAAOuC,aAA9C;AACE,oCAAC,sBAAD;AACE,kBAAUT,YADZ;AAEE,mBACE,0FACG9B,iBAAO2C,cADV,EAC2B,IAD3B,+CAEG3C,iBAAOc,QAFV,EAEqBgB,YAFrB,iBAHJ;AAQE,iBAAS,iBAAC3B,CAAD,EAAO;AACdA,YAAEC,eAAF;AACA8B,0BAAgBH,SAAhB;AACD,SAXH;AAYE,cAAMa;AAZR;AADF,KADF;AAkBD;;AAED,SACE;AAAA;AAAA,MAAK,WAAW5C,iBAAO6C,cAAvB;AACGR,aADH;AAEGI;AAFH,GADF;AAMD;;AAEDb,eAAeV,SAAf,GAA2B;AACzB1C,iBAAe2C,oBAAUC,MAAV,CAAiBC,UADP;AAEzBS,gBAAcX,oBAAUK,IAFC;AAGzBQ,iBAAeb,oBAAUI,IAHA;AAIzBW,mBAAiBf,oBAAUI,IAJF;AAKzBY,WAAShB,oBAAUK,IAAV,CAAeH,UALC;AAMzBe,WAASjB,oBAAUK,IAAV,CAAeH,UANC;AAOzBU,aAAWZ,oBAAUC,MAAV,CAAiBC,UAPH;AAQzBY,iBAAed,oBAAUI,IARA;AASzBM,0BAAwBV,oBAAUK,IAAV,CAAeH;AATd,CAA3B;;AAYAO,eAAeH,YAAf,GAA8B;AAC5BK,gBAAc,KADc;AAE5BE,iBAAeN,SAFa;AAG5BQ,mBAAiBR,SAHW;AAI5BO,iBAAeP;AAJa,CAA9B;;AAOA;;;;IAGqBoB,c;;;AACnB,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,sJACXA,KADW;;AAAA,UAqGnBC,eArGmB,GAqGD,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAChC,UAAI,CAACD,KAAD,IAAU,OAAO,MAAKF,KAAL,CAAWI,YAAlB,KAAmC,UAAjD,EAA6D;AAC3D;AACD;;AAED,YAAKC,cAAL,GAAsB,IAAtB;AACA,YAAKC,QAAL,CAAc;AACZC,kBAAUJ;AADE,OAAd;AAGA,UAAID,KAAJ,EAAW;AACT,cAAKF,KAAL,CAAWI,YAAX,CAAwBF,KAAxB,EAA+BM,IAA/B,CAAoC,UAACC,SAAD,EAAe;AACjD,cAAI,MAAKC,QAAT,EAAmB;AACjB,kBAAKJ,QAAL,CAAc,EAAEG,oBAAF,EAAd;AACD;AACF,SAJD;AAKA,YAAI,MAAKT,KAAL,CAAWW,IAAX,CAAgBC,eAApB,EAAqC;AACnC,gBAAKZ,KAAL,CAAWa,2BAAX,CAAuC,MAAKb,KAAL,CAAWW,IAAX,CAAgBC,eAAhB,CAAgCtD,EAAvE,EAA2E4C,KAA3E;AACD;AACF;AACF,KAxHkB;;AAAA,UA0HnBY,qBA1HmB,GA0HK,YAA4B;AAAA,UAA3BC,SAA2B,uEAAf,MAAKf,KAAU;;AAClD,UAAMgB,iBAAiB,MAAKC,iBAAL,CAAuBF,SAAvB,CAAvB;AACA,UAAIR,WAAW,IAAf;;AAEA,UAAI,CAACQ,UAAUJ,IAAV,CAAeC,eAApB,EAAqC;AACnCL,mBAAW,CAAX;AACD,OAFD,MAEO,IAAIS,kBAAkBA,eAAeE,MAArC,EAA6C;AAClD,YAAMC,UAAUJ,UAAUJ,IAAV,CAAeC,eAAf,CAA+BQ,YAA/C;AACA,YAAID,OAAJ,EAAa;AACXZ,qBAAWS,eAAeK,SAAf,CAAyB;AAAA,mBAClCC,MAAMhE,EAAN,KAAa6D,QAAQ7D,EADa;AAAA,WAAzB,CAAX;AAGD;AACD,YAAIiD,aAAa,CAAC,CAAd,IAAmB,CAACY,OAAxB,EAAiC;AAC/BZ,qBAAW,CAAX;AACD;AACF;AACD,aAAOA,QAAP;AACD,KA5IkB;;AAAA,UA8InBgB,kBA9ImB,GA8IE,YAAqE;AAAA,UAApEhB,QAAoE,uEAAzD,MAAKO,qBAAL,EAAyD;AAAA,UAA3BC,SAA2B,uEAAf,MAAKf,KAAU;;AACxF,UAAMgB,iBAAiB,MAAKC,iBAAL,CAAuBF,SAAvB,CAAvB;AACA,aAAQC,kBAAkBA,eAAeT,QAAf,CAAnB,IAAgD,IAAvD;AACD,KAjJkB;;AAEjB,UAAKiB,KAAL,GAAa;AACXjB,gBAAU,CADC;AAEXkB,iBAAW,KAFA;AAGXhB,iBAAW,IAHA;AAIXiB,gBAAU;AAJC,KAAb;AAMA,UAAKrB,cAAL,GAAsB,KAAtB;AACA,UAAKsB,cAAL,GAAsB,IAAtB;;AAEA,UAAKC,mBAAL,GAA2B,UAAC5C,SAAD,EAAe;AACxC,UAAI,OAAO,MAAKgB,KAAL,CAAW4B,mBAAlB,KAA0C,UAA9C,EAA0D;AACxD;AACD;AACD,YAAK5B,KAAL,CAAW4B,mBAAX,CAA+B5C,SAA/B;AACA,YAAK6C,kBAAL,GAA0BC,WAAW,YAAM;AACzC,cAAK9B,KAAL,CAAWrE,cAAX,CAA0BqD,SAA1B;AACD,OAFyB,EAEvB,IAFuB,CAA1B;AAGD,KARD;AAXiB;AAoBlB;;;;iCAEkC;AAAA,UAAxB+B,SAAwB,uEAAZ,KAAKf,KAAO;AAAA,UAE/B+B,kBAF+B,GAG7BhB,SAH6B,CAE/BgB,kBAF+B;AAAA,UAEXC,qBAFW,GAG7BjB,SAH6B,CAEXiB,qBAFW;;;AAKjC,UAAID,kBAAJ,EAAwB;AACtB,aAAKzB,QAAL,CAAc;AACZG,qBAAWuB,sBAAsBC,GAAtB,CAA0B;AAAA,mBAAWC,QAAQzB,SAAnB;AAAA,WAA1B,EAAwD,CAAxD,CADC;AAEZiB,oBAAUM,sBAAsBd,MAAtB,GAA+B,CAA/B,GAAmCc,sBAAsBd,MAAtB,GAA+B,CAAlE,GAAsE;AAFpE,SAAd;AAIA;AACD;;AAED,UAAMX,WAAW,KAAKO,qBAAL,CAA2BC,SAA3B,CAAjB;AACA,WAAKd,eAAL,CACE,KAAKsB,kBAAL,CACEhB,QADF,EAEEQ,SAFF,CADF,EAIER,QAJF;AAMD;;;wCAEmB;AAClB,WAAKG,QAAL,GAAgB,IAAhB;AACA,WAAKyB,UAAL;AACD;;;8CAEyBpB,S,EAAW;AACnC,UAAI,KAAKE,iBAAL,CAAuBF,SAAvB,MAAsC,KAAKE,iBAAL,EAA1C,EAAoE;AAClE,aAAKkB,UAAL,CAAgBpB,SAAhB;AACD;AACF;;;2CAEsB;AACrB,WAAKL,QAAL,GAAgB,KAAhB;AACA,UAAI,KAAKmB,kBAAT,EAA6B;AAC3BO,qBAAa,KAAKP,kBAAlB;AACA,aAAKA,kBAAL,GAA0B,IAA1B;AACD;AACF;;;kCAEa;AAAA,mBAUR,KAAK7B,KAVG;AAAA,+BAEVW,IAFU;AAAA,UAGR0B,eAHQ,eAGRA,eAHQ;AAAA,UAIRC,SAJQ,eAIRA,SAJQ;AAAA,UAKRC,MALQ,eAKRA,MALQ;AAAA,UAOVxD,YAPU,UAOVA,YAPU;AAAA,UAQVtD,aARU,UAQVA,aARU;AAAA,UASV+G,cATU,UASVA,cATU;;;AAYZ,UAAI,CAACA,cAAL,EAAqB;AACnB,eAAO,IAAP;AACD;;AAED,UAAMC,sBAAsBhG,eAAKC,SAAL,CAAe2F,eAAf,EAAgC5G,aAAhC,CAA5B;AACA,aACE;AAAA;AAAA,UAAK,WAAWwB,iBAAOyF,UAAvB;AAEI3D,uBACEtC,eAAKC,SAAL,CAAe,aAAf,EAA8BjB,aAA9B,CADF,GAEE,8BAAC,yBAAD,IAAiB,WAAW6G,SAA5B,EAAuC,QAAQC,MAA/C,GAJN;AAME;AAAA;AAAA,YAAM,WAAWtF,iBAAO0F,KAAxB;AAAA;AAAA,SANF;AAOE;AAAA;AAAA,YAAM,OAAOF,mBAAb;AACGA;AADH;AAPF,OADF;AAaD;;;6CAEwB;AACvB,aAAO,+BAAU,KAAKzC,KAAL,CAAWW,IAArB,IACJ,KAAKX,KAAL,CAAWW,IAAX,CAAgBiC,IAAhB,CAAqBC,IADjB,GAEJ,KAAK7C,KAAL,CAAWW,IAAX,CAAgBmC,EAAhB,CAAmBD,IAFtB;AAGD;;;wCAgDyC;AAAA,UAAxB9B,SAAwB,uEAAZ,KAAKf,KAAO;;AACxC,aAAO,+BAAUe,UAAUJ,IAApB,IACLI,UAAUJ,IAAV,CAAeoC,WADV,GAELhC,UAAUJ,IAAV,CAAeqC,SAFjB;AAGD;;;qCAEgB;AACf,aAAO,+BAAU,KAAKhD,KAAL,CAAWW,IAArB,IACJ,KAAKX,KAAL,CAAWW,IAAX,CAAgBiC,IAAhB,CAAqBK,WAArB,IAAoC,KAAKjD,KAAL,CAAWW,IAAX,CAAgBiC,IAAhB,CAAqBM,eADrD,GAEJ,KAAKlD,KAAL,CAAWW,IAAX,CAAgBmC,EAAhB,CAAmBG,WAAnB,IAAkC,KAAKjD,KAAL,CAAWW,IAAX,CAAgBmC,EAAhB,CAAmBI,eAFxD;AAGD;;;6BAEQ;AAAA;;AAAA,oBAmCH,KAAKlD,KAnCF;AAAA,iCAELW,IAFK;AAAA,UAGHwC,SAHG,gBAGHA,SAHG;AAAA,UAIHvC,eAJG,gBAIHA,eAJG;AAAA,UAKH5B,SALG,gBAKHA,SALG;AAAA,UAOLD,YAPK,WAOLA,YAPK;AAAA,UAQLtD,aARK,WAQLA,aARK;AAAA,UASL2H,QATK,WASLA,QATK;AAAA,UAULC,WAVK,WAULA,WAVK;AAAA,UAWLC,qBAXK,WAWLA,qBAXK;AAAA,UAYL7B,SAZK,WAYLA,SAZK;AAAA,UAaL8B,KAbK,WAaLA,KAbK;AAAA,UAcLC,6BAdK,WAcLA,6BAdK;AAAA,UAeL5H,cAfK,WAeLA,cAfK;AAAA,UAgBLC,cAhBK,WAgBLA,cAhBK;AAAA,UAiBL4H,WAjBK,WAiBLA,WAjBK;AAAA,UAkBLC,iBAlBK,WAkBLA,iBAlBK;AAAA,UAmBLC,iBAnBK,WAmBLA,iBAnBK;AAAA,UAoBLC,mBApBK,WAoBLA,mBApBK;AAAA,UAqBL7B,kBArBK,WAqBLA,kBArBK;AAAA,UAsBLhG,YAtBK,WAsBLA,YAtBK;AAAA,UAuBL8H,QAvBK,WAuBLA,OAvBK;AAAA,UAwBL7H,aAxBK,WAwBLA,aAxBK;AAAA,UAyBLC,QAzBK,WAyBLA,QAzBK;AAAA,UA0BL6H,UA1BK,WA0BLA,UA1BK;AAAA,UA2BL5H,YA3BK,WA2BLA,YA3BK;AAAA,UA4BLC,WA5BK,WA4BLA,WA5BK;AAAA,UA6BLqG,cA7BK,WA6BLA,cA7BK;AAAA,UA8BL1G,cA9BK,WA8BLA,cA9BK;AAAA,UA+BLmD,aA/BK,WA+BLA,aA/BK;AAAA,UAgCLE,eAhCK,WAgCLA,eAhCK;AAAA,UAiCLD,aAjCK,WAiCLA,aAjCK;AAAA,UAkCLJ,sBAlCK,WAkCLA,sBAlCK;AAAA,mBAqCyB,KAAK0C,KArC9B;AAAA,UAqCCf,SArCD,UAqCCA,SArCD;AAAA,UAqCYiB,QArCZ,UAqCYA,QArCZ;;AAsCP,UAAMuB,cAAc,KAAKc,cAAL,EAApB;AACA,UAAM/C,iBAAiB,KAAKC,iBAAL,EAAvB;AACA,UAAM+C,sBAAsB,KAAKC,sBAAL,EAA5B;AACA,UAAM7E,UAAU,+BAAU,KAAKY,KAAL,CAAWW,IAArB,CAAhB;AACA,UAAMtB,UAAU,+BAAU,KAAKW,KAAL,CAAWW,IAArB,CAAhB;AACA,UAAMuD,cAAc,OAAOR,iBAAP,KAA6B,UAA7B,GAClBA,kBAAkB,KAAK1D,KAAL,CAAWW,IAA7B,CADkB,GAElBhC,SAFF;AAGA,UAAMwF,cAAc,OAAOR,iBAAP,KAA6B,UAA7B,GAClB;AAAA;AAAA,UAAK,WAAW1G,iBAAOkH,WAAvB;AAAqCR,0BAAkB,KAAK3D,KAAL,CAAWW,IAA7B;AAArC,OADkB,GAElBhC,SAFF;AAGA,UAAMyF,iBAAiB,CAAC,EAAExD,mBAAmB9B,sBAArB,CAAxB;AACA,aACE;AAAA;AAAA,UAAK,WAAW7B,iBAAOoH,iBAAvB;AACE,sCAAC,qBAAD;AACE,wBAAcpH,iBAAOqH,OADvB;AAEE,mBAAS,0FACNrH,iBAAOsH,OADD,EACW,IADX,+CAENtH,iBAAOuH,OAFD,EAEWJ,cAFX,+CAGNnH,iBAAOc,QAHD,EAGYqG,kBAAkBrF,YAH9B,iBAFX;AAOE,mBAAS,0FACN9B,iBAAOuH,OADD,EACWJ,cADX,+CAENnH,iBAAOc,QAFD,EAEYqG,kBAAkBrF,YAF9B,iBAPX;AAWE,qBACE;AAAA;AAAA,cAAK,SAAS;AAAA,uBAAMqF,kBAAkBP,UAAxB;AAAA,eAAd;AACE,0CAAC,kBAAD;AACE,yBAAWV,SADb;AAEE,uBAAS/D,OAFX;AAGE,0BAHF;AAIE,sBAAQ,KAJV;AAKE,4BAAc3C,eAAKC,SAAL,CAAe,aAAf,EAA8BjB,aAA9B,CALhB;AAME,6BAAegB,eAAKC,SAAL,CAAe,cAAf,EAA+BjB,aAA/B,CANjB;AAOE,2BAAagB,eAAKC,SAAL,CAAe,YAAf,EAA6BjB,aAA7B,CAPf;AAQE,kCAAoBsG,kBARtB;AASE,0BAAY+B,UATd;AAUE,yBAAWrD,SAVb;AAWE,wBAAUiB;AAXZ;AADF,WAZJ;AA4BE,qBACE;AAAA;AAAA,cAAK,SAAS;AAAA,uBAAM0C,kBAAkBP,UAAxB;AAAA,eAAd,EAAiD,WAAW5G,iBAAOwH,cAAnE;AACE,0CAAC,wBAAD;AACE,kCAAoB1C,kBADtB;AAEE,2BAAamC,WAFf;AAGE,yBAAW,0BAAWjH,iBAAO0E,cAAlB,EAAkCiC,mBAAlC,CAHb;AAIE,8BAAgB5C,cAJlB;AAKE,wBAAU,KAAKQ,KAAL,CAAWjB,QALvB;AAME,+BAAiB,KAAKN,eANxB;AAOE,4BAPF;AAQE,6BAAehD,iBAAOyH,IARxB;AASE,yBAAWjD,aAAa,KAAKD,KAAL,CAAWC,SATrC;AAUE,4BAAcuC,mBAVhB;AAWE,qCAAuBV,qBAXzB;AAYE,wBAAUF,QAZZ;AAaE,2BAAaC,WAbf;AAcE,2BAAaJ,WAdf;AAeE,6BAAexH,aAfjB;AAgBE,qBAAO8H,KAhBT;AAiBE,+BAAiBC,6BAjBnB;AAkBE,wBAAU,KAlBZ;AAmBE,2BAAaC,WAnBf;AAoBE,+BAAiB;AApBnB,cADF;AAuBGjB,6BAAiB,KAAKmC,WAAL,EAAjB,GAAsC;AAvBzC,WA7BJ;AAuDE,sBACE;AAAA;AAAA,cAAK,WAAW1H,iBAAO2H,cAAvB;AAEIhE,8BACE,8BAAC,eAAD;AACE,uBAASA,eADX;AAEE,8BAAgB,KAAKgB,mBAFvB;AAGE,8BAAgBhG,cAHlB;AAIE,8BAAgBC,cAJlB;AAKE,4BAAcE,YALhB;AAME,6BAAeN,aANjB;AAOE,6BAAeO,aAPjB;AAQE,wBAAUC,QARZ;AASE,4BAAcC,YAThB;AAUE,2BAAaC,WAVf;AAWE,8BAAgBL;AAXlB,cADF,GAcE,8BAAC,cAAD;AACE,sCAAwBgD,sBAD1B;AAEE,yBAAWE,SAFb;AAGE,4BAAcD,YAHhB;AAIE,6BAAetD,aAJjB;AAKE,uBAAS2D,OALX;AAME,uBAASC,OANX;AAOE,6BAAeH,aAPjB;AAQE,6BAAeD,aARjB;AASE,+BAAiBE;AATnB,cAhBN;AA4BGgF;AA5BH;AAxDJ;AADF,OADF;AA4FD;;;EA9SyCU,gB;;kBAAvB9E,c;;;AAiTrBA,eAAe5B,SAAf,GAA2B;AACzBwC,QAAMvC,oBAAU0G,KAAV,CAAgB;AACpB3B,eAAW/E,oBAAUC,MAAV,CAAiBC,UADR;AAEpB+D,qBAAiBjE,oBAAUC,MAFP;AAGpBiE,eAAWlE,oBAAU2G,MAAV,CAAiBzG,UAHR;AAIpB0G,qBAAiB5G,oBAAU6G,KAAV,CAAgB3G,UAJb;AAKpByE,iBAAa3E,oBAAU6G,KAAV,CAAgB3G,UALT;AAMpB0E,eAAW5E,oBAAU6G,KAAV,CAAgB3G,UANP;AAOpBsE,UAAMxE,oBAAU0G,KAAV,CAAgB;AACpB7B,mBAAa7E,oBAAUC,MADH;AAEpB6E,uBAAiB9E,oBAAUC,MAFP;AAGpBwE,YAAMzE,oBAAUC;AAHI,KAAhB,EAIHC,UAXiB;AAYpBwE,QAAI1E,oBAAU0G,KAAV,CAAgB;AAClB7B,mBAAa7E,oBAAUC,MADL;AAElB6E,uBAAiB9E,oBAAUC,MAFT;AAGlBwE,YAAMzE,oBAAUC;AAHE,KAAhB,CAZgB;AAiBpBuC,qBAAiBxC,oBAAUG,MAjBP;AAkBpBS,eAAWZ,oBAAUC;AAlBD,GAAhB,EAmBHC,UApBsB;AAqBzB8E,YAAUhF,oBAAUC,MAAV,CAAiBC,UArBF;AAsBzB+E,eAAajF,oBAAUC,MAAV,CAAiBC,UAtBL;AAuBzB7C,iBAAe2C,oBAAUC,MAAV,CAAiBC,UAvBP;AAwBzBS,gBAAcX,oBAAUK,IAxBC;AAyBzBgD,aAAWrD,oBAAUK,IAzBI;AA0BzB9C,kBAAgByC,oBAAUI,IA1BD;AA2BzB5C,kBAAgBwC,oBAAUI,IA3BD;AA4BzB3C,kBAAgBuC,oBAAUI,IA5BD;AA6BzBoD,uBAAqBxD,oBAAUI,IA7BN;AA8BzBzC,gBAAcqC,oBAAUI,IA9BC;AA+BzB8E,yBAAuBlF,oBAAUK,IA/BR;AAgCzB8E,SAAOnF,oBAAUC,MAhCQ;AAiCzBmF,iCAA+BpF,oBAAUK,IAjChB;AAkCzBgF,eAAarF,oBAAUG,MAlCE;AAmCzBmF,qBAAmBtF,oBAAUI,IAnCJ;AAoCzBmF,qBAAmBvF,oBAAUI,IApCJ;AAqCzBoF,uBAAqBxF,oBAAUC,MArCN;AAsCzB0D,sBAAoB3D,oBAAUK,IAtCL;AAuCzBoF,WAASzF,oBAAUI,IAvCM;AAwCzBsF,cAAY1F,oBAAUK,IAxCG;AAyCzB2B,gBAAchC,oBAAUI,IAzCC;AA0CzBxC,iBAAeoC,oBAAUK,IA1CA;AA2CzBxC,YAAUmC,oBAAUK,IA3CK;AA4CzBvC,gBAAckC,oBAAUK,IA5CC;AA6CzBtC,eAAaiC,oBAAUI,IA7CE;AA8CzBgE,kBAAgBpE,oBAAUK,IA9CD;AA+CzBoC,+BAA6BzC,oBAAUI,IA/Cd;AAgDzB1C,kBAAgBsC,oBAAUI,IAhDD;AAiDzBS,iBAAeb,oBAAUI,IAjDA;AAkDzBW,mBAAiBf,oBAAUI,IAlDF;AAmDzBM,0BAAwBV,oBAAUK,IAnDT;AAoDzBS,iBAAed,oBAAUI;AApDA,CAA3B;;AAuDAuB,eAAerB,YAAf,GAA8B;AAC5B+C,aAAW,KADiB;AAE5B1C,gBAAc,KAFc;AAG5BpD,kBAAgBgD,SAHY;AAI5B/C,kBAAgB+C,SAJY;AAK5B9C,kBAAgB8C,SALY;AAM5BiD,uBAAqBjD,SANO;AAO5B5C,gBAAc4C,SAPc;AAQ5B2E,yBAAuB3E,SARK;AAS5B4E,SAAO,aATqB;AAU5BC,iCAA+B,IAVH;AAW5BC,eAAa9E,SAXe;AAY5B+E,qBAAmB/E,SAZS;AAa5BgF,qBAAmBhF,SAbS;AAc5BiF,uBAAqBjF,SAdO;AAe5BoD,sBAAoB,KAfQ;AAgB5B8B,WAASlF,SAhBmB;AAiB5BmF,cAAY,IAjBgB;AAkB5B1D,gBAAczB,SAlBc;AAmB5B3C,iBAAe,KAnBa;AAoB5BC,YAAU,IApBkB;AAqB5BC,gBAAc,KArBc;AAsB5BC,eAAa;AAAA,WAAKyC,CAAL;AAAA,GAtBe;AAuB5B4D,kBAAgB,KAvBY;AAwB5B3B,+BAA6B;AAAA,WAAKjC,CAAL;AAAA,GAxBD;AAyB5B9C,kBAAgB;AAAA,WAAK8C,CAAL;AAAA,GAzBY;AA0B5BK,iBAAeN,SA1Ba;AA2B5BQ,mBAAiBR,SA3BW;AA4B5BO,iBAAeP,SA5Ba;AA6B5BG,0BAAwB;AA7BI,CAA9B","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport sessionStatus from 'ringcentral-integration/modules/Webphone/sessionStatus';\nimport { isInbound, isRinging } from 'ringcentral-integration/lib/callLogHelpers';\nimport { isOnHold } from 'ringcentral-integration/modules/Webphone/webphoneHelper';\n\nimport CallIcon from '../CallIcon';\nimport ContactDisplay from '../ContactDisplay';\nimport CircleButton from '../CircleButton';\nimport EndIcon from '../../assets/images/End.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\nimport VoicemailIcon from '../../assets/images/Voicemail.svg';\nimport AnswerIcon from '../../assets/images/Answer.svg';\nimport MergeIntoConferenceIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport MediaObject from '../MediaObject';\nimport DurationCounter from '../DurationCounter';\n\nimport styles from './styles.scss';\nimport i18n from '../ActiveCallItem/i18n';// Reuse the exsisting translations\n\nfunction WebphoneButtons({\n  currentLocale,\n  session,\n  webphoneReject,\n  webphoneHangup,\n  webphoneResume,\n  webphoneAnswer,\n  webphoneHold,\n  showMergeCall,\n  showHold,\n  disableMerge,\n  onMergeCall,\n}) {\n  if (!session) {\n    return null;\n  }\n  let hangupFunc = webphoneHangup;\n  let endIcon = EndIcon;\n  let answerBtn = null;\n\n  let rejectTitle = i18n.getString('hangup', currentLocale);\n  const holdTitle = i18n.getString('hold', currentLocale);\n  const unholdTitle = i18n.getString('unhold', currentLocale);\n\n  if (\n    isInbound(session) &&\n    session.callStatus === sessionStatus.connecting\n  ) {\n    hangupFunc = webphoneReject;\n    endIcon = VoicemailIcon;\n    rejectTitle = i18n.getString('toVoicemail', currentLocale);\n    showHold = false;\n    answerBtn = (\n      <span title={i18n.getString('accept', currentLocale)} className={styles.webphoneButton}>\n        <CircleButton\n          className={styles.answerButton}\n          onClick={(e) => {\n            e.stopPropagation();\n            webphoneAnswer(session.id);\n          }}\n          icon={AnswerIcon}\n          showBorder={false}\n        />\n      </span>\n    );\n  }\n\n  let holdBtn;\n  let mergeBtn;\n\n  if (showHold) {\n    if (isOnHold(session)) {\n      holdBtn = (\n        <span title={unholdTitle} className={styles.webphoneButton}>\n          <CircleButton\n            className={classnames(styles.holdButton, styles.active)}\n            onClick={(e) => {\n              e.stopPropagation();\n              webphoneResume(session.id);\n            }}\n            iconWidth={260}\n            iconX={120}\n            icon={HoldIcon}\n            showBorder\n          />\n        </span>\n      );\n    } else {\n      holdBtn = (\n        <span title={holdTitle} className={styles.webphoneButton}>\n          <CircleButton\n            className={styles.holdButton}\n            onClick={(e) => {\n              e.stopPropagation();\n              webphoneHold(session.id);\n            }}\n            iconWidth={260}\n            iconX={120}\n            icon={HoldIcon}\n            showBorder\n          />\n        </span>\n      );\n    }\n  }\n\n  if (showMergeCall) {\n    const mergeTitle = i18n.getString('mergeToConference', currentLocale);\n\n    mergeBtn = (\n      <span title={mergeTitle} className={styles.webphoneButton}>\n        <CircleButton\n          className={\n            classnames({\n              [styles.mergeButton]: true,\n              [styles.disabled]: disableMerge\n            })\n          }\n          onClick={(e) => {\n            e.stopPropagation();\n            onMergeCall(session.id);\n          }}\n          iconWidth={260}\n          iconX={120}\n          icon={MergeIntoConferenceIcon}\n          showBorder\n          disabled={disableMerge}\n        />\n      </span>\n    );\n  }\n\n  return (\n    <div className={styles.webphoneButtons}>\n      {mergeBtn}\n      {holdBtn}\n      <span title={rejectTitle} className={styles.webphoneButton}>\n        <CircleButton\n          className={styles.rejectButton}\n          onClick={(e) => {\n            e.stopPropagation();\n            hangupFunc(session.id);\n          }}\n          iconWidth={260}\n          iconX={120}\n          icon={endIcon}\n          showBorder={false}\n        />\n      </span>\n      {answerBtn}\n    </div>\n  );\n}\n\nWebphoneButtons.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  session: PropTypes.object,\n  webphoneReject: PropTypes.func,\n  webphoneHangup: PropTypes.func,\n  webphoneResume: PropTypes.func,\n  webphoneHold: PropTypes.func,\n  showMergeCall: PropTypes.bool,\n  showHold: PropTypes.bool,\n  disableMerge: PropTypes.bool,\n  onMergeCall: PropTypes.func,\n  webphoneAnswer: PropTypes.func,\n};\n\nWebphoneButtons.defaultProps = {\n  session: undefined,\n  webphoneReject: undefined,\n  webphoneHangup: undefined,\n  webphoneResume: undefined,\n  webphoneHold: undefined,\n  showMergeCall: false,\n  showHold: true,\n  disableMerge: true,\n  onMergeCall: i => i,\n  webphoneAnswer: i => i,\n};\n\nfunction RingoutButtons({\n  showRingoutCallControl,\n  currentLocale,\n  disableLinks,\n  sessionId,\n  ringoutHangup,\n  ringoutReject,\n  ringoutTransfer,\n  ringing,\n  inbound,\n}) {\n  if (!showRingoutCallControl) return null;\n\n  let endButton;\n  const inComingCall = inbound && ringing;\n  if (inComingCall) {\n    const rejectTitle = i18n.getString('reject', currentLocale);\n    endButton = (\n      <span title={rejectTitle} className={styles.ringoutButton}>\n        <CircleButton\n          disabled={disableLinks}\n          className={\n            classnames({\n              [styles.endButton]: true,\n              [styles.disabled]: disableLinks\n            })\n          }\n          onClick={(e) => {\n            e.stopPropagation();\n            ringoutReject(sessionId);\n          }}\n          icon={EndIcon}\n          showBorder={false}\n        />\n      </span>\n    );\n  } else {\n    const hangupTitle = i18n.getString('hangup', currentLocale);\n    endButton = (\n      <span title={hangupTitle} className={styles.ringoutButton}>\n        <CircleButton\n          disabled={disableLinks}\n          className={\n            classnames({\n              [styles.endButton]: true,\n              [styles.disabled]: disableLinks\n            })\n          }\n          onClick={(e) => {\n            e.stopPropagation();\n            ringoutHangup(sessionId);\n          }}\n          icon={EndIcon}\n          showBorder={false}\n        />\n      </span>\n    );\n  }\n\n  let transferBtn;\n  if (ringoutTransfer && !inComingCall) {\n    const transferTitle = i18n.getString('transfer', currentLocale);\n\n    transferBtn = (\n      <span title={transferTitle} className={styles.ringoutButton}>\n        <CircleButton\n          disabled={disableLinks}\n          className={\n            classnames({\n              [styles.transferButton]: true,\n              [styles.disabled]: disableLinks\n            })\n          }\n          onClick={(e) => {\n            e.stopPropagation();\n            ringoutTransfer(sessionId);\n          }}\n          icon={TransferIcon}\n        />\n      </span>\n    );\n  }\n\n  return (\n    <div className={styles.ringoutButtons}>\n      {endButton}\n      {transferBtn}\n    </div>\n  );\n}\n\nRingoutButtons.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  disableLinks: PropTypes.bool,\n  ringoutHangup: PropTypes.func,\n  ringoutTransfer: PropTypes.func,\n  ringing: PropTypes.bool.isRequired,\n  inbound: PropTypes.bool.isRequired,\n  sessionId: PropTypes.string.isRequired,\n  ringoutReject: PropTypes.func,\n  showRingoutCallControl: PropTypes.bool.isRequired,\n};\n\nRingoutButtons.defaultProps = {\n  disableLinks: false,\n  ringoutHangup: undefined,\n  ringoutTransfer: undefined,\n  ringoutReject: undefined,\n};\n\n/**\n * TODO: Gradually replace <ActiveCallItem/> with this component\n */\nexport default class ActiveCallItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: 0,\n      isLogging: false,\n      avatarUrl: null,\n      extraNum: 0\n    };\n    this._userSelection = false;\n    this.contactDisplay = null;\n\n    this.webphoneToVoicemail = (sessionId) => {\n      if (typeof this.props.webphoneToVoicemail !== 'function') {\n        return;\n      }\n      this.props.webphoneToVoicemail(sessionId);\n      this.toVoicemailTimeout = setTimeout(() => {\n        this.props.webphoneReject(sessionId);\n      }, 3000);\n    };\n  }\n\n  setContact(nextProps = this.props) {\n    const {\n      isOnConferenceCall, conferenceCallParties\n    } = nextProps;\n\n    if (isOnConferenceCall) {\n      this.setState({\n        avatarUrl: conferenceCallParties.map(profile => profile.avatarUrl)[0],\n        extraNum: conferenceCallParties.length > 0 ? conferenceCallParties.length - 1 : 0\n      });\n      return;\n    }\n\n    const selected = this.getSelectedContactIdx(nextProps);\n    this.onSelectContact(\n      this.getSelectedContact(\n        selected,\n        nextProps),\n      selected,\n    );\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    this.setContact();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.getContactMatches(nextProps) !== this.getContactMatches()) {\n      this.setContact(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    if (this.toVoicemailTimeout) {\n      clearTimeout(this.toVoicemailTimeout);\n      this.toVoicemailTimeout = null;\n    }\n  }\n\n  getCallInfo() {\n    const {\n      call: {\n        telephonyStatus,\n        startTime,\n        offset,\n      },\n      disableLinks,\n      currentLocale,\n      showCallDetail,\n    } = this.props;\n\n    if (!showCallDetail) {\n      return null;\n    }\n\n    const telephonyStatusInfo = i18n.getString(telephonyStatus, currentLocale);\n    return (\n      <div className={styles.callDetail}>\n        {\n          disableLinks ?\n            i18n.getString('unavailable', currentLocale) :\n            <DurationCounter startTime={startTime} offset={offset} />\n        }\n        <span className={styles.split}>|</span>\n        <span title={telephonyStatusInfo}>\n          {telephonyStatusInfo}\n        </span>\n      </div>\n    );\n  }\n\n  getFallbackContactName() {\n    return isInbound(this.props.call) ?\n      (this.props.call.from.name) :\n      (this.props.call.to.name);\n  }\n\n  onSelectContact = (value, idx) => {\n    if (!value || typeof this.props.getAvatarUrl !== 'function') {\n      return;\n    }\n\n    this._userSelection = true;\n    this.setState({\n      selected: idx,\n    });\n    if (value) {\n      this.props.getAvatarUrl(value).then((avatarUrl) => {\n        if (this._mounted) {\n          this.setState({ avatarUrl });\n        }\n      });\n      if (this.props.call.webphoneSession) {\n        this.props.updateSessionMatchedContact(this.props.call.webphoneSession.id, value);\n      }\n    }\n  }\n\n  getSelectedContactIdx = (nextProps = this.props) => {\n    const contactMatches = this.getContactMatches(nextProps);\n    let selected = null;\n\n    if (!nextProps.call.webphoneSession) {\n      selected = 0;\n    } else if (contactMatches && contactMatches.length) {\n      const contact = nextProps.call.webphoneSession.contactMatch;\n      if (contact) {\n        selected = contactMatches.findIndex(match =>\n          match.id === contact.id\n        );\n      }\n      if (selected === -1 || !contact) {\n        selected = 0;\n      }\n    }\n    return selected;\n  }\n\n  getSelectedContact = (selected = this.getSelectedContactIdx(), nextProps = this.props) => {\n    const contactMatches = this.getContactMatches(nextProps);\n    return (contactMatches && contactMatches[selected]) || null;\n  }\n\n  getContactMatches(nextProps = this.props) {\n    return isInbound(nextProps.call) ?\n      nextProps.call.fromMatches :\n      nextProps.call.toMatches;\n  }\n\n  getPhoneNumber() {\n    return isInbound(this.props.call) ?\n      (this.props.call.from.phoneNumber || this.props.call.from.extensionNumber) :\n      (this.props.call.to.phoneNumber || this.props.call.to.extensionNumber);\n  }\n\n  render() {\n    const {\n      call: {\n        direction,\n        webphoneSession,\n        sessionId,\n      },\n      disableLinks,\n      currentLocale,\n      areaCode,\n      countryCode,\n      enableContactFallback,\n      isLogging,\n      brand,\n      showContactDisplayPlaceholder,\n      webphoneHangup,\n      webphoneResume,\n      sourceIcons,\n      renderContactName,\n      renderExtraButton,\n      contactDisplayStyle,\n      isOnConferenceCall,\n      webphoneHold,\n      onClick,\n      showMergeCall,\n      showHold,\n      showAvatar,\n      disableMerge,\n      onMergeCall,\n      showCallDetail,\n      webphoneAnswer,\n      ringoutHangup,\n      ringoutTransfer,\n      ringoutReject,\n      showRingoutCallControl,\n    } = this.props;\n\n    const { avatarUrl, extraNum } = this.state;\n    const phoneNumber = this.getPhoneNumber();\n    const contactMatches = this.getContactMatches();\n    const fallbackContactName = this.getFallbackContactName();\n    const ringing = isRinging(this.props.call);\n    const inbound = isInbound(this.props.call);\n    const contactName = typeof renderContactName === 'function' ?\n      renderContactName(this.props.call) :\n      undefined;\n    const extraButton = typeof renderExtraButton === 'function' ?\n      <div className={styles.extraButton}>{renderExtraButton(this.props.call)}</div> :\n      undefined;\n    const hasCallControl = !!(webphoneSession || showRingoutCallControl);\n    return (\n      <div className={styles.callItemContainer}>\n        <MediaObject\n          containerCls={styles.wrapper}\n          bodyCls={classnames({\n            [styles.content]: true,\n            [styles.pointer]: hasCallControl,\n            [styles.disabled]: hasCallControl && disableLinks\n          })}\n          leftCls={classnames({\n            [styles.pointer]: hasCallControl,\n            [styles.disabled]: hasCallControl && disableLinks\n          })}\n          mediaLeft={\n            <div onClick={() => hasCallControl && onClick()}>\n              <CallIcon\n                direction={direction}\n                ringing={ringing}\n                active\n                missed={false}\n                inboundTitle={i18n.getString('inboundCall', currentLocale)}\n                outboundTitle={i18n.getString('outboundCall', currentLocale)}\n                missedTitle={i18n.getString('missedCall', currentLocale)}\n                isOnConferenceCall={isOnConferenceCall}\n                showAvatar={showAvatar}\n                avatarUrl={avatarUrl}\n                extraNum={extraNum}\n              />\n            </div>\n          }\n          mediaBody={\n            <div onClick={() => hasCallControl && onClick()} className={styles.strechVertical}>\n              <ContactDisplay\n                isOnConferenceCall={isOnConferenceCall}\n                contactName={contactName}\n                className={classnames(styles.contactDisplay, contactDisplayStyle)}\n                contactMatches={contactMatches}\n                selected={this.state.selected}\n                onSelectContact={this.onSelectContact}\n                disabled\n                iconClassName={styles.icon}\n                isLogging={isLogging || this.state.isLogging}\n                fallBackName={fallbackContactName}\n                enableContactFallback={enableContactFallback}\n                areaCode={areaCode}\n                countryCode={countryCode}\n                phoneNumber={phoneNumber}\n                currentLocale={currentLocale}\n                brand={brand}\n                showPlaceholder={showContactDisplayPlaceholder}\n                showType={false}\n                sourceIcons={sourceIcons}\n                stopPropagation={false}\n              />\n              {showCallDetail ? this.getCallInfo() : null}\n            </div>\n          }\n          mediaRight={\n            <div className={styles.actionIconsBox}>\n              {\n                webphoneSession ?\n                  <WebphoneButtons\n                    session={webphoneSession}\n                    webphoneReject={this.webphoneToVoicemail}\n                    webphoneHangup={webphoneHangup}\n                    webphoneResume={webphoneResume}\n                    webphoneHold={webphoneHold}\n                    currentLocale={currentLocale}\n                    showMergeCall={showMergeCall}\n                    showHold={showHold}\n                    disableMerge={disableMerge}\n                    onMergeCall={onMergeCall}\n                    webphoneAnswer={webphoneAnswer}\n                  /> :\n                  <RingoutButtons\n                    showRingoutCallControl={showRingoutCallControl}\n                    sessionId={sessionId}\n                    disableLinks={disableLinks}\n                    currentLocale={currentLocale}\n                    ringing={ringing}\n                    inbound={inbound}\n                    ringoutReject={ringoutReject}\n                    ringoutHangup={ringoutHangup}\n                    ringoutTransfer={ringoutTransfer}\n                  />\n              }\n              {extraButton}\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n}\n\nActiveCallItem.propTypes = {\n  call: PropTypes.shape({\n    direction: PropTypes.string.isRequired,\n    telephonyStatus: PropTypes.string,\n    startTime: PropTypes.number.isRequired,\n    activityMatches: PropTypes.array.isRequired,\n    fromMatches: PropTypes.array.isRequired,\n    toMatches: PropTypes.array.isRequired,\n    from: PropTypes.shape({\n      phoneNumber: PropTypes.string,\n      extensionNumber: PropTypes.string,\n      name: PropTypes.string,\n    }).isRequired,\n    to: PropTypes.shape({\n      phoneNumber: PropTypes.string,\n      extensionNumber: PropTypes.string,\n      name: PropTypes.string,\n    }),\n    webphoneSession: PropTypes.object,\n    sessionId: PropTypes.string,\n  }).isRequired,\n  areaCode: PropTypes.string.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  disableLinks: PropTypes.bool,\n  isLogging: PropTypes.bool,\n  webphoneReject: PropTypes.func,\n  webphoneHangup: PropTypes.func,\n  webphoneResume: PropTypes.func,\n  webphoneToVoicemail: PropTypes.func,\n  webphoneHold: PropTypes.func,\n  enableContactFallback: PropTypes.bool,\n  brand: PropTypes.string,\n  showContactDisplayPlaceholder: PropTypes.bool,\n  sourceIcons: PropTypes.object,\n  renderContactName: PropTypes.func,\n  renderExtraButton: PropTypes.func,\n  contactDisplayStyle: PropTypes.string,\n  isOnConferenceCall: PropTypes.bool,\n  onClick: PropTypes.func,\n  showAvatar: PropTypes.bool,\n  getAvatarUrl: PropTypes.func,\n  showMergeCall: PropTypes.bool,\n  showHold: PropTypes.bool,\n  disableMerge: PropTypes.bool,\n  onMergeCall: PropTypes.func,\n  showCallDetail: PropTypes.bool,\n  updateSessionMatchedContact: PropTypes.func,\n  webphoneAnswer: PropTypes.func,\n  ringoutHangup: PropTypes.func,\n  ringoutTransfer: PropTypes.func,\n  showRingoutCallControl: PropTypes.bool,\n  ringoutReject: PropTypes.func,\n};\n\nActiveCallItem.defaultProps = {\n  isLogging: false,\n  disableLinks: false,\n  webphoneReject: undefined,\n  webphoneHangup: undefined,\n  webphoneResume: undefined,\n  webphoneToVoicemail: undefined,\n  webphoneHold: undefined,\n  enableContactFallback: undefined,\n  brand: 'RingCentral',\n  showContactDisplayPlaceholder: true,\n  sourceIcons: undefined,\n  renderContactName: undefined,\n  renderExtraButton: undefined,\n  contactDisplayStyle: undefined,\n  isOnConferenceCall: false,\n  onClick: undefined,\n  showAvatar: true,\n  getAvatarUrl: undefined,\n  showMergeCall: false,\n  showHold: true,\n  disableMerge: false,\n  onMergeCall: i => i,\n  showCallDetail: false,\n  updateSessionMatchedContact: i => i,\n  webphoneAnswer: i => i,\n  ringoutHangup: undefined,\n  ringoutTransfer: undefined,\n  ringoutReject: undefined,\n  showRingoutCallControl: false,\n};\n"]}