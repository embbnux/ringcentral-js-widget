{"version":3,"sources":["components/ContactDropdownList/index.js"],"names":["spliter","ContactInfo","name","entityType","titleEnabled","phoneSourceName","phoneSourceNames","getString","nameTitle","styles","nameSection","label","propTypes","PropTypes","string","isRequired","bool","defaultProps","undefined","ContactPhone","phoneType","phoneNumber","formatContactPhone","phoneTypeRenderer","phoneTypeName","phoneTypeNames","phoneNumberTitle","phoneNumberSection","func","ContactItem","currentLocale","active","onHover","onClick","ContactInfoRenderer","contactInfoRenderer","ContactPhoneRenderer","contactPhoneRenderer","className","contactItem","clickable","ContactDropdownList","nextProps","visibility","items","length","scrollDirection","selectedIndex","node","scrollTop","Math","floor","props","listRef","setSelectedIndex","addToRecipients","dropdownList","c","map","item","index","Component","arrayOf","shape","number"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styles from './styles.scss';\n\nimport phoneTypeNames from '../../lib/phoneTypeNames';\nimport phoneSourceNames from '../../lib/phoneSourceNames';\n\nconst spliter = '|';\n\nfunction ContactInfo({\n  name,\n  entityType,\n  titleEnabled,\n}) {\n  const phoneSourceName = phoneSourceNames.getString(entityType);\n  const nameTitle = `${name} ${spliter} ${phoneSourceName}`;\n  return (\n    <div className={styles.nameSection} title={titleEnabled && nameTitle}>\n      <span className={styles.name}>\n        {name}\n      </span>\n      <span className={styles.spliter}>{spliter}</span>\n      <span className={styles.label}>\n        {phoneSourceName}\n      </span>\n    </div>\n  );\n}\nContactInfo.propTypes = {\n  name: PropTypes.string.isRequired,\n  entityType: PropTypes.string.isRequired,\n  titleEnabled: PropTypes.bool,\n};\nContactInfo.defaultProps = {\n  titleEnabled: undefined,\n};\n\nfunction ContactPhone({\n  phoneType,\n  phoneNumber,\n  formatContactPhone,\n  titleEnabled,\n  phoneTypeRenderer,\n}) {\n  const phoneTypeName = phoneTypeRenderer ?\n    phoneTypeRenderer(phoneType) :\n    phoneTypeNames.getString(phoneType);\n  const phoneNumberTitle =\n    `${formatContactPhone(phoneNumber)} ${spliter} ${phoneTypeName}`;\n  return (\n    <div className={styles.phoneNumberSection} title={titleEnabled && phoneNumberTitle}>\n      <span>\n        {formatContactPhone(phoneNumber)}\n      </span>\n      <span className={styles.spliter}>{spliter}</span>\n      <span className={styles.label}>\n        {phoneTypeName}\n      </span>\n    </div>\n  );\n}\nContactPhone.propTypes = {\n  phoneType: PropTypes.string.isRequired,\n  phoneNumber: PropTypes.string.isRequired,\n  formatContactPhone: PropTypes.func.isRequired,\n  titleEnabled: PropTypes.bool,\n  phoneTypeRenderer: PropTypes.func,\n};\nContactPhone.defaultProps = {\n  titleEnabled: undefined,\n  phoneTypeRenderer: undefined,\n};\n\nfunction ContactItem({\n  currentLocale,\n  active,\n  onHover,\n  onClick,\n  name,\n  entityType,\n  phoneType,\n  phoneNumber,\n  formatContactPhone,\n  titleEnabled,\n  phoneTypeRenderer,\n  contactInfoRenderer: ContactInfoRenderer,\n  contactPhoneRenderer: ContactPhoneRenderer,\n}) {\n  const className = classnames(\n    styles.contactItem,\n    active ? styles.active : null,\n  );\n  if (!ContactInfoRenderer) {\n    ContactInfoRenderer = ContactInfo;\n  }\n  if (!ContactPhoneRenderer) {\n    ContactPhoneRenderer = ContactPhone;\n  }\n  return (\n    <li className={className} onMouseOver={onHover}>\n      <div className={styles.clickable} onClick={onClick}>\n        <ContactInfoRenderer\n          currentLocale={currentLocale}\n          name={name}\n          entityType={entityType}\n          phoneType={phoneType}\n          phoneNumber={phoneNumber}\n          formatContactPhone={formatContactPhone}\n          phoneTypeRenderer={phoneTypeRenderer}\n          titleEnabled={titleEnabled}\n        />\n        <ContactPhoneRenderer\n          currentLocale={currentLocale}\n          name={name}\n          entityType={entityType}\n          phoneType={phoneType}\n          phoneNumber={phoneNumber}\n          formatContactPhone={formatContactPhone}\n          phoneTypeRenderer={phoneTypeRenderer}\n          titleEnabled={titleEnabled}\n        />\n      </div>\n    </li>\n  );\n}\nContactItem.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  formatContactPhone: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  entityType: PropTypes.string.isRequired,\n  phoneType: PropTypes.string.isRequired,\n  phoneNumber: PropTypes.string.isRequired,\n  active: PropTypes.bool.isRequired,\n  onHover: PropTypes.func.isRequired,\n  titleEnabled: PropTypes.bool,\n  phoneTypeRenderer: PropTypes.func,\n  contactInfoRenderer: PropTypes.func,\n  contactPhoneRenderer: PropTypes.func,\n};\nContactItem.defaultProps = {\n  titleEnabled: undefined,\n  phoneTypeRenderer: undefined,\n  contactInfoRenderer: undefined,\n  contactPhoneRenderer: undefined,\n};\n\nclass ContactDropdownList extends Component {\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.visibility || nextProps.items.length === 0) {\n      return;\n    }\n    if (nextProps.scrollDirection === 'ArrowDown') {\n      if (nextProps.selectedIndex < nextProps.items.length) {\n        if (nextProps.selectedIndex > 4 && this.node) {\n          this.node.scrollTop += 53;\n          this.node.scrollTop = Math.floor(this.node.scrollTop / 53) * 53;\n        }\n      }\n    }\n    if (nextProps.scrollDirection === 'ArrowUp') {\n      if (nextProps.selectedIndex > -1) {\n        if ((nextProps.selectedIndex < nextProps.items.length - 4) && this.node) {\n          this.node.scrollTop -= 53;\n          this.node.scrollTop = Math.floor(this.node.scrollTop / 53) * 53;\n        }\n      }\n    }\n  }\n\n  render() {\n    const {\n      currentLocale,\n      className,\n      listRef,\n      items,\n      selectedIndex,\n      formatContactPhone,\n      setSelectedIndex,\n      addToRecipients,\n      titleEnabled,\n      visibility,\n      phoneTypeRenderer,\n      contactInfoRenderer,\n      contactPhoneRenderer,\n    } = this.props;\n    if (!visibility || items.length === 0) {\n      return null;\n    }\n    return (\n      <ul\n        className={classnames(styles.dropdownList, className)}\n        ref={(c) => {\n          this.node = c;\n          if (typeof listRef === 'function') {\n            listRef(c);\n          }\n        }}\n      >\n        {\n          items.map((item, index) => (\n            <ContactItem\n              currentLocale={currentLocale}\n              active={selectedIndex === index}\n              name={item.name}\n              entityType={item.entityType}\n              phoneType={item.phoneType}\n              phoneNumber={item.phoneNumber}\n              phoneTypeRenderer={phoneTypeRenderer}\n              formatContactPhone={formatContactPhone}\n              onHover={() => setSelectedIndex(index)}\n              onClick={() => addToRecipients(item)}\n              key={`${index}${item.phoneNumber}${item.name}${item.phoneType}`}\n              titleEnabled={titleEnabled}\n              contactInfoRenderer={contactInfoRenderer}\n              contactPhoneRenderer={contactPhoneRenderer}\n            />\n          ))\n        }\n      </ul>\n    );\n  }\n}\n\nContactDropdownList.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  scrollDirection: PropTypes.string,\n  visibility: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    entityType: PropTypes.string.isRequired,\n    phoneType: PropTypes.string.isRequired,\n    phoneNumber: PropTypes.string.isRequired,\n  })).isRequired,\n  formatContactPhone: PropTypes.func.isRequired,\n  addToRecipients: PropTypes.func.isRequired,\n  setSelectedIndex: PropTypes.func.isRequired,\n  selectedIndex: PropTypes.number.isRequired,\n  titleEnabled: PropTypes.bool,\n  listRef: PropTypes.func,\n  phoneTypeRenderer: PropTypes.func,\n  contactInfoRenderer: PropTypes.func,\n  contactPhoneRenderer: PropTypes.func,\n};\n\nContactDropdownList.defaultProps = {\n  className: null,\n  scrollDirection: null,\n  titleEnabled: undefined,\n  listRef: undefined,\n  phoneTypeRenderer: undefined,\n  contactInfoRenderer: undefined,\n  contactPhoneRenderer: undefined,\n};\n\nexport default ContactDropdownList;\n"]}