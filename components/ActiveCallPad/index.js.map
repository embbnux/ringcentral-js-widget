{"version":3,"sources":["components/ActiveCallPad/index.js"],"names":["MoreActionItem","DisplayButtonNumber","ACTIONS_CTRL_MAP","muteCtrl","keypadCtrl","holdCtrl","mergeOrAddCtrl","recordCtrl","transferCtrl","flipCtrl","title","Icon","icon","disabled","onClick","iconClassName","styles","buttonIcon","buttonDisabled","buttonActive","buttonItem","buttonName","propTypes","PropTypes","string","isRequired","func","bool","ActiveCallPad","props","moreButton","dropdown","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","nextProps","nextState","showUpdate","p","Object","prototype","hasOwnProperty","val","buttons","push","isOnMute","MuteIcon","id","i18n","getString","currentLocale","isOnHold","onUnmute","UnmuteIcon","onMute","KeypadIcon","onShowKeyPad","layout","callCtrlLayouts","conferenceCtrl","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","onUnhold","onHold","conferenceCallEquipped","showMerge","mergeCtrl","normalCtrl","hasConferenceCall","MergeIcon","mergeDisabled","onMerge","showRipple","CombineIcon","addDisabled","onAdd","RecordIcon","recordStatus","recording","pending","noAccess","onStopRecord","onRecord","disabledTransfer","TransferIcon","onToggleTransferPanel","disabledFlip","flipNumbers","length","FlipIcon","onShowFlipPanel","actions","moreActions","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","isLessBtn","root","className","callCtrlButtonGroup","biggerButton","buttonRow","stopButtonGroup","button","stopButton","onHangup","EndIcon","Component","array","defaultProps","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport recordStatus from 'ringcentral-integration/modules/Webphone/recordStatus';\nimport { isObject } from 'ringcentral-integration/lib/di/utils/is_type';\n\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport ActiveCallButton from '../ActiveCallButton';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\n// import ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport { pickElements } from './utils';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst DisplayButtonNumber = 6;\n\nexport const ACTIONS_CTRL_MAP = {\n  muteCtrl: 'muteCtrl',\n  keypadCtrl: 'keypadCtrl',\n  holdCtrl: 'holdCtrl',\n  mergeOrAddCtrl: 'mergeOrAddCtrl',\n  recordCtrl: 'recordCtrl',\n  transferCtrl: 'transferCtrl',\n  flipCtrl: 'flipCtrl'\n};\n\nexport function MoreActionItem({\n  title,\n  icon: Icon,\n  disabled,\n  onClick,\n}) {\n  const iconClassName = classnames(\n    styles.buttonIcon,\n    disabled ? styles.buttonDisabled : styles.buttonActive\n  );\n  return (\n    <div\n      className={styles.buttonItem}\n      onClick={disabled ? null : onClick}>\n      <div className={iconClassName}>\n        {<Icon />}\n      </div>\n      <div className={styles.buttonName}>\n        {title}\n      </div>\n    </div>\n  );\n}\n\nMoreActionItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nclass ActiveCallPad extends Component {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this:: this.onClick;\n    this.toggleMore = this:: this.toggleMore;\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const { dom: { current } } = this.dropdown.current;\n\n      if (\n        !current.contains(e.target)\n        && !this.moreButton.current.contains(e.target)\n        && this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n\n  toggleMore() {\n    this.setState(prevState => ({\n      expandMore: !prevState.expandMore\n    }));\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState !== this.state) {\n      return true;\n    }\n\n    let showUpdate = false;\n\n    for (const p in nextProps) {\n      if (nextProps::Object.prototype.hasOwnProperty(p)) {\n        const val = nextProps[p];\n\n        if (\n          val !== this.props[p] &&\n            (typeof val !== 'function')\n        ) {\n          showUpdate = true;\n          break;\n        }\n      }\n    }\n    return showUpdate;\n  }\n\n  render() {\n    let buttons = [];\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(this.props.isOnMute\n      ? {\n        icon: MuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl,\n        title: i18n.getString('unmute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onUnmute,\n      }\n      : {\n        icon: UnmuteIcon,\n        id: ACTIONS_CTRL_MAP.muteCtrl,\n        title: i18n.getString('mute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onMute,\n      }\n    );\n\n    /* --------------------- keyPad --------------------------- */\n    buttons.push(\n      {\n        icon: KeypadIcon,\n        id: ACTIONS_CTRL_MAP.keypadCtrl,\n        title: i18n.getString('keypad', this.props.currentLocale),\n        onClick: this.props.onShowKeyPad,\n        disabled: this.props.layout === callCtrlLayouts.conferenceCtrl,\n      }\n    );\n\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push(\n      {\n        icon: HoldIcon,\n        id: ACTIONS_CTRL_MAP.holdCtrl,\n        iconWidth: 120,\n        iconHeight: 160,\n        iconX: 190,\n        iconY: 165,\n        title: this.props.isOnHold\n          ? i18n.getString('onHold', this.props.currentLocale)\n          : i18n.getString('hold', this.props.currentLocale),\n        active: this.props.isOnHold,\n        onClick: this.props.isOnHold\n          ? this.props.onUnhold\n          : this.props.onHold,\n      }\n    );\n\n    /* --------------------- Add/Merge --------------------------- */\n    if (this.props.conferenceCallEquipped) {\n      const showMerge = (\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        (this.props.layout === callCtrlLayouts.normalCtrl && this.props.hasConferenceCall)\n      );\n      buttons.push(showMerge\n        ? {\n          icon: MergeIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('mergeToConference', this.props.currentLocale),\n          disabled: this.props.mergeDisabled,\n          onClick: this.props.onMerge,\n          showRipple: !this.props.mergeDisabled,\n        }\n        : {\n          icon: CombineIcon,\n          id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n          title: i18n.getString('add', this.props.currentLocale),\n          disabled: this.props.addDisabled,\n          onClick: this.props.onAdd,\n        }\n      );\n    }\n\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push(\n      {\n        icon: RecordIcon,\n        id: ACTIONS_CTRL_MAP.recordCtrl,\n        title: this.props.recordStatus === recordStatus.recording\n          ? i18n.getString('stopRecord', this.props.currentLocale)\n          : i18n.getString('record', this.props.currentLocale),\n        active: this.props.recordStatus === recordStatus.recording,\n        disabled: (\n          this.props.isOnHold\n          || this.props.recordStatus === recordStatus.pending\n          || this.props.layout === callCtrlLayouts.mergeCtrl\n          || this.props.recordStatus === recordStatus.noAccess\n        ),\n        onClick: this.props.recordStatus === recordStatus.recording\n          ? this.props.onStopRecord\n          : this.props.onRecord,\n      }\n    );\n\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = (\n      this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: TransferIcon,\n        id: ACTIONS_CTRL_MAP.transferCtrl,\n        title: i18n.getString('transfer', this.props.currentLocale),\n        disabled: disabledTransfer,\n        onClick: this.props.onToggleTransferPanel,\n      }\n    );\n\n    /* --------------------- Flip --------------------------- */\n    const disabledFlip = (\n      this.props.flipNumbers.length === 0\n      || this.props.isOnHold\n      || this.props.layout !== callCtrlLayouts.normalCtrl\n    );\n    buttons.push(\n      {\n        icon: FlipIcon,\n        id: ACTIONS_CTRL_MAP.flipCtrl,\n        title: i18n.getString('flip', this.props.currentLocale),\n        disabled: disabledFlip,\n        onClick: this.props.onShowFlipPanel,\n      }\n    );\n\n    // filter actions\n    const { actions } = this.props;\n    if (actions.length > 0) {\n      buttons = pickElements(actions, buttons);\n    }\n\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      moreActions = (\n        <span\n          className={styles.moreButtonContainer}\n          ref={this.moreButton}\n        >\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', this.props.currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={disabledFlip && disabledTransfer}\n            icon={MoreIcon} />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}>\n            <div className={styles.buttonPopup}>\n              {\n                buttons.slice(DisplayButtonNumber - 1).map(({\n                  title,\n                  ...opts\n                }) => (<MoreActionItem\n                  key={title}\n                  title={title}\n                  {...opts}\n                />))\n              }\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n\n    const isLessBtn = (buttons.length <= 3) && moreActions === null;\n    return (\n      <div className={classnames(styles.root, this.props.className)}>\n        <div className={classnames(styles.callCtrlButtonGroup, isLessBtn && styles.biggerButton)}>\n          <div className={styles.buttonRow}>\n            {\n              buttons.slice(0, DisplayButtonNumber - (moreActions ? 1 : 0)).map(opts => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))\n            }\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={styles.stopButton}\n              onClick={this.props.onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nActiveCallPad.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  // onPark: PropTypes.func.isRequired,\n  onShowKeyPad: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onShowFlipPanel: PropTypes.func.isRequired,\n  onToggleTransferPanel: PropTypes.func.isRequired,\n  flipNumbers: PropTypes.array.isRequired,\n  layout: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  expandMore: PropTypes.bool,\n  actions: PropTypes.array\n};\n\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n  actions: []\n};\n\nexport default ActiveCallPad;\n"]}