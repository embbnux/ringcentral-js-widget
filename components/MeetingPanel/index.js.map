{"version":3,"sources":["components/MeetingPanel/index.js"],"names":["MINUTE_SCALE","HOUR_SCALE","MAX_TOPIC_LENGTH","PASSWORD_REGEX","NO_NUMBER_REGEX","isSafari","test","navigator","userAgent","getMinutesList","result","index","length","value","text","slice","concat","Array","getHoursList","Error","minutesList","hoursList","Topic","update","currentLocale","meeting","that","styles","inline","label","i18n","getString","ref","topic","event","target","preventDefault","clipboardData","items","getAsString","data","isOverLength","positionStart","selectionStart","positionEnd","selectionEnd","select","restLength","isOver","insertText","split","splice","join","newPosition","setSelectionRange","input","clearTimeout","topicSetTimeoutId","setTimeout","propTypes","PropTypes","func","isRequired","string","object","When","isRecurring","onToggle","minTime","changeTime","allInputBlur","document","querySelectorAll","hours","startTime","Date","schedule","parseInt","minutes","setHours","setMinutes","time","getTime","Minutes","getMinutes","Hours","getHours","accumulator","max","currentValue","isValid","isUpKey","keyCode","isDownKey","preventReplay","isFocus","dateBlur","focus","dateTimeBox","list","datePicker","currentStartTime","date","setFullYear","getFullYear","getMonth","getDate","now","dateTimeText","dateText","format","dateIcon","icon","timePicker","timeText","timeInput","replace","isSelectionEnd","isRightKey","colon","isDelKey","isLeftKey","isSelectionHead","timeIcon","bool","Duration","spaceBetween","duration","durationInMinutes","restMinutes","isMax","restHours","RecurringMeeting","section","isCheckRecurring","meetingType","recurringDescribe","Video","labelLight","fixTopMargin","startHostVideo","startParticipantsVideo","AudioOptions","key","audioOptions","array","MeetingOptions","_requireMeetingPassword","password","passwordBox","allowJoinBeforeHost","MeetingPanel","args","props","init","state","Moment","locale","nextProps","hidden","disabled","invite","ScheduleButton","scheduleButton","recipientsSection","showWhen","showDuration","showRecurringMeeting","type","isToggle","_values","open","inner","close","toggle","telephonyOnly","voIPOnly","both","AUDIO_OPTIONS","min","meetingPanel","scroll","opener","window","Component","node","defaultProps","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { reduce } from 'ramda';\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker';\nimport DropdownList from 'react-widgets/lib/DropdownList';\nimport Moment from 'moment';\nimport momentLocalizer from 'react-widgets-moment';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport DateIcon from '../../assets/images/Date.svg';\nimport TimeIcon from '../../assets/images/Time.svg';\n\nimport styles from './styles.scss';\nimport Switch from '../Switch';\nimport CheckBox from '../CheckBox';\nimport i18n from './i18n';\nimport MeetingSection from '../MeetingSection';\n\nconst MINUTE_SCALE = 4;\nconst HOUR_SCALE = 13;\nconst MAX_TOPIC_LENGTH = 128;\nexport const PASSWORD_REGEX = /^[A-Za-z0-9]{0,10}$/;\nconst NO_NUMBER_REGEX = /[^\\d]/g;\n\nconst isSafari = () => /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\nfunction getMinutesList(MINUTE_SCALE) {\n  return reduce((result) => {\n    const index = result.length;\n    const value = 60 / MINUTE_SCALE * index;\n    const text = `${(`${value}0`).slice(0, 2)} m.`;\n    return result.concat({\n      value,\n      text\n    });\n  }, [], new Array(MINUTE_SCALE));\n}\n\nfunction getHoursList(HOUR_SCALE) {\n  if (HOUR_SCALE > 23) {\n    throw new Error('HOUR_SCALE must be less than 23.');\n  }\n  return reduce((result) => {\n    const value = result.length;\n    const text = `${(`0${value}0`).slice(-3, -1)} h.`;\n    return result.concat({\n      value,\n      text\n    });\n  }, [], new Array(HOUR_SCALE));\n}\n\nconst minutesList = getMinutesList(MINUTE_SCALE);\nconst hoursList = getHoursList(HOUR_SCALE);\n\nconst Topic = (\n  {\n    update,\n    currentLocale,\n    meeting,\n    that,\n  }\n) => (\n    <MeetingSection hideTopBorderLine>\n      <div className={styles.inline}>\n        <span className={styles.label}>\n          {i18n.getString('topic', currentLocale)}\n        </span>\n        <input\n          ref={(ref) => { that.topic = ref; }}\n          onPaste={(event) => {\n            const topic = event.target.value;\n            event.preventDefault();\n            event.clipboardData.items[0].getAsString((data) => {\n              const isOverLength = topic.length >= 0 && topic.length <= MAX_TOPIC_LENGTH;\n              const positionStart = that.topic.selectionStart;\n              const positionEnd = that.topic.selectionEnd;\n              const select = positionEnd - positionStart;\n              const restLength = MAX_TOPIC_LENGTH - topic.length + select;\n              const isOver = isOverLength && restLength > 0;\n              if (isOver) {\n                const isOverLength = restLength >= data.length;\n                const insertText = isOverLength ? data : data.slice(0, !isOver ? select : restLength);\n                const value = topic.split('');\n                value.splice(positionStart, select, insertText);\n                that.topic.value = value.join('');\n                const newPosition = positionStart + insertText.length;\n                that.topic.setSelectionRange(newPosition, newPosition);\n              }\n              update({\n                ...meeting,\n                topic: that.topic.value,\n              });\n            });\n          }}\n          type=\"text\"\n          className={styles.input}\n          defaultValue={meeting.topic || ''}\n          onChange={({ target }) => {\n            const topic = target.value;\n            if (topic.length >= 0 && topic.length <= MAX_TOPIC_LENGTH) {\n              clearTimeout(that.topicSetTimeoutId);\n              that.topicSetTimeoutId = setTimeout(\n                () => {\n                  update({\n                    ...meeting,\n                    topic,\n                  });\n                },\n                10\n              );\n            } else {\n              target.value = meeting.topic || '';\n            }\n          }} />\n      </div>\n    </MeetingSection>\n  );\n\nTopic.propTypes = {\n  update: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  meeting: PropTypes.object.isRequired,\n  that: PropTypes.object.isRequired,\n};\n\nconst When = (\n  {\n    isRecurring,\n    currentLocale,\n    meeting,\n    update,\n    that,\n    onToggle,\n    minTime\n  }\n) => {\n  const changeTime = () => {\n    setTimeout(() => {\n      const allInputBlur = document.querySelectorAll('input[flag=timeInput]:focus').length;\n      if (!allInputBlur && that.hours) {\n        const startTime = new Date(meeting.schedule.startTime);\n        const hours = parseInt(that.hours.value, 10);\n        const minutes = parseInt(that.minutes.value, 10);\n        startTime.setHours(hours);\n        startTime.setMinutes(minutes);\n        let time = startTime;\n        if (startTime.getTime() > new Date().getTime()) {\n          update({\n            ...meeting,\n            schedule: {\n              ...meeting.schedule,\n              startTime: startTime.getTime(),\n            }\n          });\n        } else {\n          time = new Date(meeting.schedule.startTime);\n        }\n        const Minutes = time.getMinutes();\n        const Hours = time.getHours();\n        that.minutes.value = `0${Minutes}0`.slice(-3, -1);\n        that.hours.value = `0${Hours}0`.slice(-3, -1);\n      }\n    }, 100);\n  };\n  const accumulator = (event, max) => {\n    const currentValue = parseInt(event.target.value, 10);\n    const isValid = value => currentValue > 0 - value && currentValue < max - value;\n    const isUpKey = event.keyCode === 38;\n    if (isUpKey) {\n      const value = isValid(1) ? currentValue + 1 : 0;\n      event.target.value = `0${value}0`.slice(-3, -1);\n    }\n    const isDownKey = event.keyCode === 40;\n    if (isDownKey) {\n      const value = isValid(0) ? currentValue - 1 : max - 1;\n      event.target.value = `0${value}0`.slice(-3, -1);\n    }\n  };\n  const preventReplay = (isFocus) => {\n    that.dateBlur = true;\n    setTimeout(() => {\n      if (!isFocus) {\n        that.topic.focus();\n      }\n      that.dateBlur = false;\n    }, 200);\n  };\n  return (\n    !isRecurring ? (\n      <MeetingSection title={i18n.getString('when', currentLocale)}>\n        <div className={styles.dateTimeBox}>\n          <div className={styles.list}>\n            <div className={styles.datePicker}>\n              <DateTimePicker\n                culture={currentLocale}\n                time={false}\n                value={new Date(meeting.schedule.startTime)}\n                onChange={(currentStartTime) => {\n                  preventReplay(false);\n                  if (currentStartTime) {\n                    const date = new Date(meeting.schedule.startTime);\n                    date.setFullYear(currentStartTime.getFullYear(), currentStartTime.getMonth(), currentStartTime.getDate());\n                    let startTime = date.getTime();\n                    const now = (new Date()).getTime();\n                    if (startTime < now) {\n                      startTime = now;\n                      const Minutes = new Date().getMinutes();\n                      const Hours = new Date().getHours();\n                      that.minutes.value = `0${Minutes}0`.slice(-3, -1);\n                      that.hours.value = `0${Hours}0`.slice(-3, -1);\n                    }\n                    update({\n                      ...meeting,\n                      schedule: {\n                        ...meeting.schedule,\n                        startTime,\n                      }\n                    });\n                  }\n                }}\n                onBlur={() => {\n                  preventReplay(false);\n                }}\n                onToggle={preventReplay}\n                ref={(ref) => { that.date = ref; }}\n                format=\"MM/DD/YY\"\n                min={new Date()}\n              />\n              <div\n                onClick={() => onToggle('date')}\n                className={classnames(styles.dateTimeText, styles.dateText)}>\n                {Moment(meeting.schedule.startTime).format('MM/DD/YY')}\n              </div>\n            </div>\n            <div\n              ref={(ref) => { that.dateIcon = ref; }}\n              className={styles.dateIcon}>\n              <DateIcon\n                onClick={() => onToggle('date')}\n                className={styles.icon} />\n            </div>\n          </div>\n          <div className={styles.list}>\n            <div className={styles.timePicker}>\n              <DateTimePicker\n                culture=\"en\"\n                date={false}\n                ref={(ref) => { that.time = ref; }}\n                value={new Date(meeting.schedule.startTime)}\n                onChange={(startTime) => {\n                  if (startTime) {\n                    update({\n                      ...meeting,\n                      schedule: {\n                        ...meeting.schedule,\n                        startTime: startTime.getTime(),\n                      }\n                    });\n                  }\n                }}\n                format=\"hh:mm A\"\n                {...minTime}\n              />\n              <div className={styles.timeText}>\n                <input\n                  flag=\"timeInput\"\n                  ref={(ref) => { that.hours = ref; }}\n                  className={styles.timeInput}\n                  defaultValue={Moment(meeting.schedule.startTime).format('HH')}\n                  onChange={({ target }) => {\n                    that.hours.value = target.value.replace(NO_NUMBER_REGEX, '');\n                    const isSelectionEnd = target.selectionEnd === 2;\n                    if (isSelectionEnd) {\n                      that.minutes.value = '';\n                      that.minutes.focus();\n                    }\n                  }}\n                  onKeyDown={(event) => {\n                    accumulator(event, 24);\n                    const isRightKey = event.keyCode === 39;\n                    const isSelectionEnd = event.target.selectionEnd === 2;\n                    if (isRightKey && isSelectionEnd) {\n                      that.minutes.focus();\n                    }\n                  }}\n                  onBlur={changeTime}\n                  maxLength={2}\n                  type=\"text\" />\n                <div className={styles.colon}>:</div>\n                <input\n                  flag=\"timeInput\"\n                  ref={(ref) => { that.minutes = ref; }}\n                  className={styles.timeInput}\n                  defaultValue={Moment(meeting.schedule.startTime).format('mm')}\n                  onKeyDown={(event) => {\n                    const isDelKey = event.keyCode === 8;\n                    const isLeftKey = event.keyCode === 37;\n                    const isSelectionHead = event.target.selectionEnd === 0;\n                    if (isSelectionHead && (isDelKey || isLeftKey)) {\n                      that.hours.focus();\n                      that.hours.setSelectionRange(2, 2);\n                    }\n                    accumulator(event, 60);\n                  }}\n                  onChange={({ target }) => {\n                    that.minutes.value = target.value.replace(NO_NUMBER_REGEX, '');\n                  }}\n                  onBlur={changeTime}\n                  maxLength={2}\n                  type=\"text\" />\n              </div>\n            </div>\n            <div className={styles.timeIcon}>\n              <TimeIcon\n                className={styles.icon} />\n            </div>\n          </div>\n        </div>\n      </MeetingSection>\n    ) : null\n  );\n};\n\nWhen.propTypes = {\n  update: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  meeting: PropTypes.object.isRequired,\n  isRecurring: PropTypes.bool.isRequired,\n  that: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  minTime: PropTypes.object.isRequired,\n};\n\nconst Duration = (\n  {\n    isRecurring,\n    currentLocale,\n    meeting,\n    update\n  }\n) => (\n    !isRecurring ? (\n      <MeetingSection title={i18n.getString('duration', currentLocale)}>\n        <div className={classnames(styles.spaceBetween, styles.duration)}>\n          <div className={styles.list}>\n            <div className={styles.hoursList}>\n              <DropdownList\n                data={hoursList}\n                valueField=\"value\"\n                textField=\"text\"\n                value={parseInt((meeting.schedule.durationInMinutes / 60), 10)}\n                onChange={({ value }) => {\n                  let restMinutes = meeting.schedule.durationInMinutes % 60;\n                  const isMax = value === hoursList.slice(-1)[0].value;\n                  restMinutes = isMax ? 0 : restMinutes;\n                  const durationInMinutes = value * 60 + restMinutes;\n                  update({\n                    ...meeting,\n                    schedule: {\n                      ...meeting.schedule,\n                      durationInMinutes,\n                    }\n                  });\n                }} />\n            </div>\n          </div>\n          <div className={styles.list}>\n            <div className={styles.minutesList}>\n              <DropdownList\n                data={minutesList}\n                valueField=\"value\"\n                textField=\"text\"\n                value={(meeting.schedule.durationInMinutes % 60) || 0}\n                onChange={({ value }) => {\n                  const restHours = parseInt((meeting.schedule.durationInMinutes / 60), 10);\n                  const isMax = restHours === hoursList.slice(-1)[0].value;\n                  const minutes = isMax ? 0 : value;\n                  const durationInMinutes = restHours * 60 + minutes;\n                  update({\n                    ...meeting,\n                    schedule: {\n                      ...meeting.schedule,\n                      durationInMinutes,\n                    }\n                  });\n                }} />\n            </div>\n          </div>\n        </div>\n      </MeetingSection>\n    ) : null\n  );\n\nDuration.propTypes = {\n  update: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  meeting: PropTypes.object.isRequired,\n  isRecurring: PropTypes.bool.isRequired,\n};\n\nconst RecurringMeeting = (\n  {\n    isRecurring,\n    currentLocale,\n    update,\n    meeting,\n  }\n) => (\n    <MeetingSection className={styles.section}>\n      <div>\n        <div className={styles.spaceBetween}>\n          <span className={styles.label}>\n            {i18n.getString('recurringMeeting', currentLocale)}\n          </span>\n          <Switch\n            checked={isRecurring}\n            onChange={(isCheckRecurring) => {\n              const meetingType = isCheckRecurring ? 'Recurring' : 'Scheduled';\n              update({\n                ...meeting,\n                meetingType,\n              });\n            }} />\n        </div>\n        {\n          isRecurring ? (\n            <div className={styles.recurringDescribe}>\n              {i18n.getString('recurringDescribe', currentLocale)}\n            </div>\n          ) : null\n        }\n      </div>\n    </MeetingSection>\n  );\n\nRecurringMeeting.propTypes = {\n  update: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  meeting: PropTypes.object.isRequired,\n  isRecurring: PropTypes.bool.isRequired,\n};\n\nconst Video = (\n  {\n    currentLocale,\n    meeting,\n    update,\n  }\n) => (\n    <MeetingSection title={i18n.getString('video', currentLocale)} withSwitch>\n      <div>\n        <div className={classnames(styles.labelLight, styles.fixTopMargin)}>\n          {i18n.getString('videoDescribe', currentLocale)}\n        </div>\n        <div className={classnames(styles.spaceBetween, styles.fixTopMargin)}>\n          <span className={styles.labelLight}>\n            {i18n.getString('host', currentLocale)}\n          </span>\n          <Switch\n            checked={meeting.startHostVideo}\n            onChange={(startHostVideo) => {\n              update({\n                ...meeting,\n                startHostVideo,\n              });\n            }} />\n        </div>\n        <div className={classnames(styles.spaceBetween, styles.fixTopMargin)}>\n          <span className={styles.labelLight}>\n            {i18n.getString('participants', currentLocale)}\n          </span>\n          <Switch\n            checked={meeting.startParticipantsVideo}\n            onChange={(startParticipantsVideo) => {\n              update({\n                ...meeting,\n                startParticipantsVideo,\n              });\n            }} />\n        </div>\n      </div>\n    </MeetingSection>\n  );\n\nVideo.propTypes = {\n  update: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  meeting: PropTypes.object.isRequired,\n};\n\nconst AudioOptions = (\n  {\n    currentLocale,\n    update,\n    meeting,\n    data,\n  }\n) => (\n    <MeetingSection title={i18n.getString('audioOptions', currentLocale)} withSwitch>\n      <CheckBox\n        onSelect={({ key }) => {\n          const audioOptions = key.split('_');\n          update({\n            ...meeting,\n            audioOptions,\n          });\n        }}\n        valueField=\"key\"\n        textField=\"text\"\n        selected={meeting.audioOptions.join('_')}\n        data={data} />\n    </MeetingSection>\n  );\n\nAudioOptions.propTypes = {\n  update: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  meeting: PropTypes.object.isRequired,\n  data: PropTypes.array.isRequired,\n};\n\nconst MeetingOptions = (\n  {\n    currentLocale,\n    meeting,\n    update,\n    that,\n  }\n) => (\n    <MeetingSection\n      title={i18n.getString('meetingOptions', currentLocale)}\n      toggle={false}\n      withSwitch>\n      <div>\n        <div className={classnames(styles.spaceBetween, styles.fixTopMargin)}>\n          <span className={styles.labelLight}>\n            {i18n.getString('requirePassword', currentLocale)}\n          </span>\n          <Switch\n            checked={meeting._requireMeetingPassword}\n            onChange={(_requireMeetingPassword) => {\n              if (_requireMeetingPassword) {\n                setTimeout(() => {\n                  that.password.focus();\n                }, 100);\n              }\n              const password = _requireMeetingPassword ? null : meeting.password;\n              update({\n                ...meeting,\n                _requireMeetingPassword,\n                password,\n              });\n            }} />\n        </div>\n        {\n          meeting._requireMeetingPassword ? (\n            <div className={styles.passwordBox}>\n              <div className={styles.labelLight}>\n                {i18n.getString('password', currentLocale)}\n              </div>\n              <input\n                type=\"text\"\n                className={styles.password}\n                ref={(ref) => { that.password = ref; }}\n                value={meeting.password || ''}\n                onChange={({ target }) => {\n                  if (PASSWORD_REGEX.test(target.value)) {\n                    update({\n                      ...meeting,\n                      password: target.value\n                    });\n                  }\n                }} />\n            </div>\n          ) : null\n        }\n        <div className={classnames(styles.spaceBetween, styles.fixTopMargin)}>\n          <span className={styles.labelLight}>\n            {i18n.getString('enableJoinBeforeHost', currentLocale)}\n          </span>\n          <Switch\n            checked={meeting.allowJoinBeforeHost}\n            onChange={(allowJoinBeforeHost) => {\n              update({\n                ...meeting,\n                allowJoinBeforeHost,\n              });\n            }} />\n        </div>\n      </div>\n    </MeetingSection>\n  );\n\nMeetingOptions.propTypes = {\n  update: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  meeting: PropTypes.object.isRequired,\n  that: PropTypes.object.isRequired,\n};\n\nclass MeetingPanel extends Component {\n  constructor(...args) {\n    super(...args);\n    this.props.init();\n    this.state = {};\n    Moment.locale(this.props.currentLocale);\n    momentLocalizer();\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      if (this.hours) this.hours.value = Moment(this.props.meeting.schedule.startTime).format('HH');\n      if (this.minutes) this.minutes.value = Moment(this.props.meeting.schedule.startTime).format('mm');\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.meeting.topic !== nextProps.meeting.topic) {\n      setTimeout(() => {\n        if (!this.topic) return;\n        const selectionStart = this.topic.selectionStart;\n        const selectionEnd = this.topic.selectionEnd;\n        this.topic.value = nextProps.meeting.topic;\n        this.topic.setSelectionRange(selectionStart, selectionEnd);\n      });\n    }\n    if (this.props.meeting.schedule &&\n      this.props.meeting.schedule.startTime !== nextProps.meeting.schedule.startTime\n    ) {\n      if (this.hours) this.hours.value = Moment(nextProps.meeting.schedule.startTime).format('HH');\n      if (this.minutes) this.minutes.value = Moment(nextProps.meeting.schedule.startTime).format('mm');\n    }\n  }\n\n  render() {\n    const {\n      update,\n      meeting,\n      hidden,\n      disabled,\n      invite,\n      currentLocale,\n      scheduleButton: ScheduleButton,\n      recipientsSection,\n      showWhen,\n      showDuration,\n      showRecurringMeeting,\n    } = this.props;\n    if (!Object.keys(meeting).length) {\n      return null;\n    }\n    const onToggle = (type) => {\n      const isToggle = !this[`${type}Blur`];\n      if (isToggle) {\n        if (this[type]._values.open) {\n          this[type].inner.close();\n        } else {\n          this[type].focus();\n          this[type].inner.toggle();\n        }\n      }\n    };\n    const isRecurring = meeting.meetingType === 'Recurring';\n    const telephonyOnly = i18n.getString('telephonyOnly', currentLocale);\n    const voIPOnly = i18n.getString('voIPOnly', currentLocale);\n    const both = i18n.getString('both', currentLocale);\n    const AUDIO_OPTIONS = [\n      {\n        key: 'Phone',\n        text: telephonyOnly,\n      },\n      {\n        key: 'ComputerAudio',\n        text: voIPOnly,\n\n      },\n      {\n        key: 'Phone_ComputerAudio',\n        text: both,\n      },\n    ];\n    const minTime = new Date(meeting.schedule.startTime) < +new Date() ? { min: new Date() } : {};\n    return (\n      <div className={styles.meetingPanel}>\n        {\n          !hidden ? (\n            <div className={styles.scroll}>\n              <Topic\n                that={this}\n                meeting={meeting}\n                update={update}\n                currentLocale={currentLocale} />\n              {\n                recipientsSection\n              }\n              {\n                showWhen ? <When\n                  isRecurring={isRecurring}\n                  currentLocale={currentLocale}\n                  meeting={meeting}\n                  update={update}\n                  that={this}\n                  onToggle={onToggle}\n                  minTime={minTime}\n                /> : null\n              }\n              {\n                showDuration ? <Duration\n                  isRecurring={isRecurring}\n                  currentLocale={currentLocale}\n                  meeting={meeting}\n                  update={update}\n                /> : null\n              }\n              {\n                showRecurringMeeting ? <RecurringMeeting\n                  isRecurring={isRecurring}\n                  currentLocale={currentLocale}\n                  meeting={meeting}\n                  update={update}\n                /> : null\n              }\n              <Video\n                currentLocale={currentLocale}\n                meeting={meeting}\n                update={update} />\n              <AudioOptions\n                data={AUDIO_OPTIONS}\n                currentLocale={currentLocale}\n                meeting={meeting}\n                update={update} />\n              <MeetingOptions\n                currentLocale={currentLocale}\n                meeting={meeting}\n                that={this}\n                update={update} />\n            </div>\n          ) : null\n        }\n        <ScheduleButton\n          currentLocale={currentLocale}\n          hidden={hidden}\n          disabled={disabled}\n          meeting={meeting}\n          onClick={() => {\n            if (!disabled) {\n              setTimeout(() => {\n                const opener = isSafari() ? window.open() : null;\n                invite(this.props.meeting, opener);\n              }, 100);\n            }\n          }} />\n      </div>\n    );\n  }\n}\n\nMeetingPanel.propTypes = {\n  update: PropTypes.func.isRequired,\n  invite: PropTypes.func.isRequired,\n  init: PropTypes.func.isRequired,\n  meeting: PropTypes.object.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  scheduleButton: PropTypes.func.isRequired,\n  recipientsSection: PropTypes.node,\n  disabled: PropTypes.bool,\n  hidden: PropTypes.bool,\n  showWhen: PropTypes.bool,\n  showDuration: PropTypes.bool,\n  showRecurringMeeting: PropTypes.bool,\n};\n\nMeetingPanel.defaultProps = {\n  recipientsSection: undefined,\n  disabled: false,\n  hidden: false,\n  showWhen: true,\n  showDuration: true,\n  showRecurringMeeting: true,\n};\n\nexport default MeetingPanel;\n"]}