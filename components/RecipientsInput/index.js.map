{"version":3,"sources":["components/RecipientsInput/index.js"],"names":["SelectedRecipientItem","props","className","phoneNumber","length","blue","name","removeReceiver","onRemove","propTypes","string","isRequired","func","SelectedRecipients","items","selectReceivers","map","item","removeFromRecipients","PropTypes","arrayOf","shape","RecipientsInput","state","isFocusOnInput","onReceiversInputFocus","setState","onReceiversInputBlur","relatedContactList","value","searchContactList","container","recipients","onChange","onKeyUp","onKeyDown","numberInput","placeholder","removeButton","onClean","addToRecipients","formatPhone","contactsDropdown","entityType","phoneType","defaultProps"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport styles from './styles.scss';\nimport RemoveButton from '../RemoveButton';\nimport ContactDropdownList from '../ContactDropdownList';\n\nfunction SelectedRecipientItem(props) {\n  const className = props.phoneNumber.length > 5 ? styles.blue : null;\n  return (\n    <li className={className}>\n      <span>{props.name}</span>\n      <RemoveButton\n        className={styles.removeReceiver}\n        onClick={props.onRemove}\n        visibility\n      />\n    </li>\n  );\n}\n\nSelectedRecipientItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  phoneNumber: PropTypes.string.isRequired,\n  onRemove: PropTypes.func.isRequired,\n};\n\nfunction SelectedRecipients(props) {\n  const items = props.items;\n  if (items.length < 1) {\n    return null;\n  }\n  return (\n    <ul className={styles.selectReceivers}>\n      {\n        items.map(item => (\n          <SelectedRecipientItem\n            key={item.phoneNumber}\n            name={item.name}\n            phoneNumber={item.phoneNumber}\n            onRemove={() => props.removeFromRecipients(item.phoneNumber)}\n          />\n        ))\n      }\n    </ul>\n  );\n}\n\nSelectedRecipients.propTypes = {\n  removeFromRecipients: PropTypes.func.isRequired,\n  items: React.PropTypes.arrayOf(PropTypes.shape({\n    phoneNumber: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nclass RecipientsInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocusOnInput: false,\n    };\n\n    this.onReceiversInputFocus = () => {\n      this.setState({\n        isFocusOnInput: true,\n      });\n    };\n\n    this.onReceiversInputBlur = () => {\n      this.setState({\n        isFocusOnInput: false,\n      });\n    };\n  }\n\n  render() {\n    let relatedContactList = [];\n    if (this.props.value.length >= 3) {\n      relatedContactList = this.props.searchContactList;\n    }\n    return (\n      <div className={styles.container}>\n        <SelectedRecipients\n          items={this.props.recipients}\n          removeFromRecipients={this.props.removeFromRecipients}\n        />\n        <input\n          name=\"receiver\"\n          value={this.props.value}\n          onChange={this.props.onChange}\n          onKeyUp={this.props.onKeyUp}\n          onKeyDown={this.props.onKeyDown}\n          className={styles.numberInput}\n          maxLength={30}\n          onFocus={this.onReceiversInputFocus}\n          onBlur={this.onReceiversInputBlur}\n          placeholder={this.props.placeholder}\n          autoComplete=\"off\"\n        />\n        <RemoveButton\n          className={styles.removeButton}\n          onClick={this.props.onClean}\n          visibility={\n            this.props.value.length > 0 &&\n            this.state.isFocusOnInput\n          }\n        />\n        <ContactDropdownList\n          addToRecipients={this.props.addToRecipients}\n          items={relatedContactList}\n          formatPhone={this.props.formatPhone}\n          className={styles.contactsDropdown}\n          visibility={this.state.isFocusOnInput}\n        />\n      </div>\n    );\n  }\n}\n\nRecipientsInput.propTypes = {\n  placeholder: PropTypes.string,\n  searchContactList: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    entityType: PropTypes.string.isRequired,\n    phoneType: PropTypes.string.isRequired,\n    phoneNumber: PropTypes.string.isRequired,\n  })).isRequired,\n  recipients: PropTypes.arrayOf(PropTypes.shape({\n    phoneNumber: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n  })).isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClean: PropTypes.func.isRequired,\n  onKeyUp: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  addToRecipients: PropTypes.func.isRequired,\n  removeFromRecipients: PropTypes.func.isRequired,\n  formatPhone: PropTypes.func.isRequired,\n};\n\nRecipientsInput.defaultProps = {\n  placeholder: '',\n  onKeyUp: () => null,\n  onKeyDown: () => null,\n};\n\nexport default RecipientsInput;\n"]}