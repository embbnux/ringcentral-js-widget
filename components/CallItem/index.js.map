{"version":3,"sources":["components/CallItem/index.js"],"names":["callIconMap","callDirections","inbound","dynamicsFont","outbound","missed","CallIcon","direction","active","ringing","inboundTitle","outboundTitle","missedTitle","type","icon","messageTypes","fax","messageDirection","title","styles","activeCall","callIcon","propTypes","PropTypes","string","isRequired","bool","defaultProps","CallItem","props","onSelectContact","value","idx","selected","showContactDisplayPlaceholder","parseInt","_userSelection","setState","autoLog","logCall","redirect","toggleExtended","e","contactDisplay","contains","target","preState","extended","onSizeChanged","undefined","renderIndex","state","getSelectedContact","contactMatches","getContactMatches","length","bind","viewSelectedContact","onViewContact","contact","createSelectedContact","entityType","onCreateContact","_mounted","isCreating","phoneNumber","getPhoneNumber","name","enableContactFallback","getFallbackContactName","clickToSms","countryCode","areaCode","onClickToSms","formatted","clickToDial","onClickToDial","externalViewEntity","call","getInitialContactIndex","isLogging","loading","_loadingTimeout","setTimeout","nextProps","activityMatches","fromMatches","toMatches","prevProps","prevState","clearTimeout","activity","index","findIndex","isLoggedContact","toNumberEntity","id","from","extensionNumber","to","onLogCall","root","telephonyStatus","result","startTime","duration","offset","toName","brand","currentLocale","disableLinks","disableClickToDial","outboundSmsPermission","internalSmsPermission","createEntityTypes","dateTimeFormatter","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","renderContactName","renderExtraButton","contactDisplayStyle","externalHasEntity","readTextPermission","fallbackContactName","parsedInfo","isExtension","hasPlus","number","disableClickToSms","durationEl","i18n","getString","dateEl","utcTimestamp","statusEl","contactName","extraButton","wrapper","infoWrapper","ref","dropdownSelect","details","Component","shape","array","webphoneSession","object","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA;;AAeA;;;AAtBA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AAKA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;;;;;AAEA,IAAMA,8EACHC,yBAAeC,OADZ,EACsBC,uBAAaD,OADnC,+CAEHD,yBAAeG,QAFZ,EAEuBD,uBAAaC,QAFpC,yDAGID,uBAAaE,MAHjB,gBAAN;;AAMA,SAASC,QAAT,OASG;AAAA,MARDC,SAQC,QARDA,SAQC;AAAA,MAPDF,MAOC,QAPDA,MAOC;AAAA,MANDG,MAMC,QANDA,MAMC;AAAA,MALDC,OAKC,QALDA,OAKC;AAAA,MAJDC,YAIC,QAJDA,YAIC;AAAA,MAHDC,aAGC,QAHDA,aAGC;AAAA,MAFDC,WAEC,QAFDA,WAEC;AAAA,MADDC,IACC,QADDA,IACC;;AACD,MAAIC,OAAO,IAAX;AACA,UAAQD,IAAR;AACE,SAAKE,uBAAaC,GAAlB;AAAuB;AACrBF,eACEP,cAAcU,2BAAiBf,OAA/B,GACE;AAAA;AAAA,YAAM,OAAOQ,YAAb;AACE,wCAAC,oBAAD,IAAgB,OAAO,EAAvB;AADF,SADF,GAKE;AAAA;AAAA,YAAM,OAAOC,aAAb;AACE,wCAAC,qBAAD,IAAiB,OAAO,EAAxB;AADF,SANJ;AAUA;AACD;AACD;AAAS;AACP,YAAIO,QAAQ,IAAZ;AACA,YAAIb,MAAJ,EAAY;AACVa,kBAAQN,WAAR;AACD,SAFD,MAEO,IAAIL,cAAcN,yBAAeC,OAAjC,EAA0C;AAC/CgB,kBAAQR,YAAR;AACD,SAFM,MAEA;AACLQ,kBAAQP,aAAR;AACD;AACDG,eACE;AACE,qBAAW,0BACTT,SAASL,YAAYK,MAArB,GAA8BL,YAAYO,SAAZ,CADrB,EAETC,UAAUW,iBAAOC,UAFR,EAGTX,WAAWU,iBAAOV,OAHT,EAITJ,UAAUc,iBAAOd,MAJR,CADb;AAOE,iBAAOa;AAPT,UADF;AAWD;AAlCH;AAoCA,SAAO;AAAA;AAAA,MAAK,WAAWC,iBAAOE,QAAvB;AAAkCP;AAAlC,GAAP;AACD;AACDR,SAASgB,SAAT,GAAqB;AACnBf,aAAWgB,oBAAUC,MAAV,CAAiBC,UADT;AAEnBpB,UAAQkB,oBAAUG,IAFC;AAGnBlB,UAAQe,oBAAUG,IAHC;AAInBjB,WAASc,oBAAUG,IAJA;AAKnBhB,gBAAca,oBAAUC,MALL;AAMnBb,iBAAeY,oBAAUC,MANN;AAOnBZ,eAAaW,oBAAUC,MAPJ;AAQnBX,QAAMU,oBAAUC;AARG,CAArB;AAUAlB,SAASqB,YAAT,GAAwB;AACtBtB,UAAQ,KADc;AAEtBG,UAAQ,KAFc;AAGtBC,WAAS,KAHa;AAItBC,gBAAc,EAJQ;AAKtBC,iBAAe,EALO;AAMtBC,eAAa,EANS;AAOtBC,QAAM;AAPgB,CAAxB;;IAUqBe,Q;;;AACnB,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAAA,0IACXA,KADW;;AAAA,UAiDnBC,eAjDmB,GAiDD,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAChC,UAAMC,WAAW,MAAKJ,KAAL,CAAWK,6BAAX,GACbC,SAASH,GAAT,EAAc,EAAd,IAAoB,CADP,GAEbG,SAASH,GAAT,EAAc,EAAd,CAFJ;AAGA,YAAKI,cAAL,GAAsB,IAAtB;AACA,YAAKC,QAAL,CAAc;AACZJ;AADY,OAAd;AAGA,UAAI,MAAKJ,KAAL,CAAWS,OAAf,EAAwB;AACtB,cAAKC,OAAL,CAAa,EAAEC,UAAU,KAAZ,EAAmBP,kBAAnB,EAAb;AACD;AACF,KA5DkB;;AAAA,UA8DnBQ,cA9DmB,GA8DF,UAACC,CAAD,EAAO;AACtB,UAAI,MAAKC,cAAL,IAAuB,MAAKA,cAAL,CAAoBC,QAApB,CAA6BF,EAAEG,MAA/B,CAA3B,EAAmE;AACjE;AACD;AACD,YAAKR,QAAL,CACE,UAACS,QAAD;AAAA,eAAe;AACbC,oBAAU,CAACD,SAASC;AADP,SAAf;AAAA,OADF,EAIE,YAAM;AAAA,0BAIA,MAAKlB,KAJL;AAAA,gDAEFmB,aAFE;AAAA,YAEFA,aAFE,yCAEcC,SAFd;AAAA,gDAGFC,WAHE;AAAA,YAGFA,WAHE,yCAGYD,SAHZ;;AAKJ,YAAID,aAAJ,EAAmB;AACjBA,wBAAcE,WAAd,EAA2B,MAAKC,KAAL,CAAWJ,QAAtC;AACD;AACF,OAZH;AAcD,KAhFkB;;AAAA,UAqGnBK,kBArGmB,GAqGE,YAAoC;AAAA,UAAnCnB,QAAmC,uEAAxB,MAAKkB,KAAL,CAAWlB,QAAa;;AACvD,UAAMoB,iBAAiB,MAAKC,iBAAL,EAAvB;AACA,aACGrB,WAAW,CAAC,CAAZ,IAAiBoB,eAAepB,QAAf,CAAlB,IACCoB,eAAeE,MAAf,KAA0B,CAA1B,IAA+BF,eAAe,CAAf,CADhC,IAEA,IAHF;AAKD,KA5GkB;;AAAA,UAiJnBd,OAjJmB,GAiJT,MAAKA,OAAL,CAAaiB,IAAb,OAjJS;;AAAA,UAmJnBC,mBAnJmB,GAmJG,YAAM;AAC1B,UAAI,OAAO,MAAK5B,KAAL,CAAW6B,aAAlB,KAAoC,UAAxC,EAAoD;AAClD,cAAK7B,KAAL,CAAW6B,aAAX,CAAyB;AACvBC,mBAAS,MAAKP,kBAAL;AADc,SAAzB;AAGD;AACF,KAzJkB;;AAAA,UA2JnBQ,qBA3JmB;AAAA,2FA2JK,iBAAOC,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGpB,OAAO,MAAKhC,KAAL,CAAWiC,eAAlB,KAAsC,UAAtC,IACA,MAAKC,QADL,IAEA,CAAC,MAAKZ,KAAL,CAAWa,UALQ;AAAA;AAAA;AAAA;;AAOpB,sBAAK3B,QAAL,CAAc;AACZ2B,8BAAY;AADA,iBAAd;AAGA;AACMC,2BAXc,GAWA,MAAKC,cAAL,EAXA;AAAA;AAAA,uBAYd,MAAKrC,KAAL,CAAWiC,eAAX,CAA2B;AAC/BG,0CAD+B;AAE/BE,wBAAM,MAAKtC,KAAL,CAAWuC,qBAAX,GACF,MAAKC,sBAAL,EADE,GAEF,EAJ2B;AAK/BR;AAL+B,iBAA3B,CAZc;;AAAA;;AAoBpB,oBAAI,MAAKE,QAAT,EAAmB;AACjB,wBAAK1B,QAAL,CAAc;AACZ2B,gCAAY;AADA,mBAAd;AAGA;AACD;;AAzBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA3JL;;AAAA;AAAA;AAAA;AAAA;;AAAA,UAuLnBM,UAvLmB,GAuLN,iBAA+B;AAAA,UAA5BC,WAA4B,SAA5BA,WAA4B;AAAA,UAAfC,QAAe,SAAfA,QAAe;;AAC1C,UAAI,MAAK3C,KAAL,CAAW4C,YAAf,EAA6B;AAC3B,YAAMR,cAAc,MAAKC,cAAL,EAApB;AACA,YAAMP,UAAU,MAAKP,kBAAL,EAAhB;AACA,YAAIO,OAAJ,EAAa;AACX,gBAAK9B,KAAL,CAAW4C,YAAX,4BACKd,OADL;AAEEM;AAFF;AAID,SALD,MAKO;AACL,cAAMS,YAAY,4BAAa;AAC7BT,oCAD6B;AAE7BM,oCAF6B;AAG7BC;AAH6B,WAAb,CAAlB;AAKA,gBAAK3C,KAAL,CAAW4C,YAAX,CACE;AACEN,kBAAM,MAAKtC,KAAL,CAAWuC,qBAAX,GACF,MAAKC,sBAAL,EADE,GAEFK,SAHN;AAIET;AAJF,WADF,EAOE,IAPF;AASD;AACF;AACF,KAjNkB;;AAAA,UAkNnBU,WAlNmB,GAkNL,YAAM;AAClB,UAAI,MAAK9C,KAAL,CAAW+C,aAAf,EAA8B;AAC5B,YAAMjB,UAAU,MAAKP,kBAAL,MAA6B,EAA7C;AACA,YAAMa,cAAc,MAAKC,cAAL,EAApB;;AAEA,YAAID,WAAJ,EAAiB;AACf,gBAAKpC,KAAL,CAAW+C,aAAX,4BACKjB,OADL;AAEEM;AAFF;AAID;AACF;AACF,KA9NkB;;AAAA,UA+NnBY,kBA/NmB,GA+NE;AAAA,aAAM,MAAKhD,KAAL,CAAWgD,kBAAX,CAA8B,MAAKhD,KAAL,CAAWiD,IAAzC,CAAN;AAAA,KA/NF;;AAGjB,UAAK3B,KAAL,GAAa;AACXlB,gBAAU,MAAK8C,sBAAL,EADC;AAEXC,iBAAW,KAFA;AAGXhB,kBAAY,KAHD;AAIXiB,eAAS,IAJE;AAKXlC,gBAAU;AALC,KAAb;AAOA,UAAKX,cAAL,GAAsB,KAAtB;AAViB;AAWlB;;;;wCACmB;AAAA;;AAClB,WAAK2B,QAAL,GAAgB,IAAhB;AACA,WAAKmB,eAAL,GAAuBC,WAAW,YAAM;AACtC;AACA,YAAI,OAAKpB,QAAT,EAAmB;AACjB,iBAAK1B,QAAL,CAAc;AACZ4C,qBAAS;AADG,WAAd;AAGD;AACF,OAPsB,EAOpB,EAPoB,CAAvB;AAQD;;;8CACyBG,S,EAAW;AACnC,UACE,CAAC,KAAKhD,cAAN,KACCgD,UAAUN,IAAV,CAAeO,eAAf,KAAmC,KAAKxD,KAAL,CAAWiD,IAAX,CAAgBO,eAAnD,IACCD,UAAUN,IAAV,CAAeQ,WAAf,KAA+B,KAAKzD,KAAL,CAAWiD,IAAX,CAAgBQ,WADhD,IAECF,UAAUN,IAAV,CAAeS,SAAf,KAA6B,KAAK1D,KAAL,CAAWiD,IAAX,CAAgBS,SAH/C,CADF,EAKE;AACA,aAAKlD,QAAL,CAAc;AACZJ,oBAAU,KAAK8C,sBAAL,CAA4BK,SAA5B;AADE,SAAd;AAGD;AACF;;;uCAEkBI,S,EAAWC,S,EAAW;AACvC,UAAI,KAAK5D,KAAL,CAAWkB,QAAX,KAAwB0C,UAAU1C,QAAtC,EAAgD;AAC9C,aAAKV,QAAL,CAAc,EAAEU,UAAU,KAAKlB,KAAL,CAAWkB,QAAvB,EAAd;AACD;AACF;;;2CAEsB;AACrB,WAAKgB,QAAL,GAAgB,KAAhB;AACA,UAAI,KAAKmB,eAAT,EAA0B;AACxBQ,qBAAa,KAAKR,eAAlB;AACA,aAAKA,eAAL,GAAuB,IAAvB;AACD;AACF;;;6CAkC8C;AAAA;;AAAA,UAAxBE,SAAwB,uEAAZ,KAAKvD,KAAO;;AAC7C,UAAMwB,iBAAiB,KAAKC,iBAAL,CAAuB8B,SAAvB,CAAvB;AACA,UAAMC,kBAAkBD,UAAUN,IAAV,CAAeO,eAAvC;AACA;;AAH6C,iCAIlCM,QAJkC;AAK3C,YAAMC,QAAQvC,eAAewC,SAAf,CAAyB,UAAClC,OAAD;AAAA;AACrC;AACA,mBAAK9B,KAAL,CAAWiE,eAAX,CAA2BV,UAAUN,IAArC,EAA2Ca,QAA3C,EAAqDhC,OAArD;AAFqC;AAAA,SAAzB,CAAd;AAIA,YAAIiC,QAAQ,CAAC,CAAb,EAAgB;AAAA,eAAOA;AAAP;AAT2B;;AAAA;AAAA;AAAA;;AAAA;AAI7C,wDAAuBP,eAAvB,4GAAwC;AAAA,cAA7BM,QAA6B;;AAAA,2BAA7BA,QAA6B;;AAAA;AAMvC;AAV4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAW7C,UAAIP,UAAUN,IAAV,CAAeiB,cAAnB,EAAmC;AACjC,YAAMH,QAAQvC,eAAewC,SAAf,CACZ,UAAClC,OAAD;AAAA,iBAAaA,QAAQqC,EAAR,KAAeZ,UAAUN,IAAV,CAAeiB,cAA3C;AAAA,SADY,CAAd;AAGA,eAAOH,KAAP;AACD;AACD,aAAO,KAAK/D,KAAL,CAAWK,6BAAX,GAA2C,CAAC,CAA5C,GAAgD,CAAvD;AACD;;;qCASgB;AACf,aAAO,+BAAU,KAAKL,KAAL,CAAWiD,IAArB,IACH,KAAKjD,KAAL,CAAWiD,IAAX,CAAgBmB,IAAhB,CAAqBhC,WAArB,IAAoC,KAAKpC,KAAL,CAAWiD,IAAX,CAAgBmB,IAAhB,CAAqBC,eADtD,GAEH,KAAKrE,KAAL,CAAWiD,IAAX,CAAgBqB,EAAhB,CAAmBlC,WAAnB,IAAkC,KAAKpC,KAAL,CAAWiD,IAAX,CAAgBqB,EAAhB,CAAmBD,eAFzD;AAGD;;;wCACyC;AAAA,UAAxBd,SAAwB,uEAAZ,KAAKvD,KAAO;;AACxC,aAAO,+BAAUuD,UAAUN,IAApB,IACHM,UAAUN,IAAV,CAAeQ,WADZ,GAEHF,UAAUN,IAAV,CAAeS,SAFnB;AAGD;;;6CACwB;AACvB,aAAO,+BAAU,KAAK1D,KAAL,CAAWiD,IAArB,IACH,KAAKjD,KAAL,CAAWiD,IAAX,CAAgBmB,IAAhB,CAAqB9B,IADlB,GAEH,KAAKtC,KAAL,CAAWiD,IAAX,CAAgBqB,EAAhB,CAAmBhC,IAFvB;AAGD;;;;;mCACe3B,Q;YAAAA,Q,kCAAW,I;YAAMP,Q,SAAAA,Q;;;;;sBAE7B,OAAO,KAAKJ,KAAL,CAAWuE,SAAlB,KAAgC,UAAhC,IACA,KAAKrC,QADL,IAEA,CAAC,KAAKZ,KAAL,CAAW6B,S;;;;;AAEZ,qBAAK3C,QAAL,CAAc;AACZ2C,6BAAW;AADC,iBAAd;;uBAGM,KAAKnD,KAAL,CAAWuE,SAAX,CAAqB;AACzBzC,2BAAS,KAAKP,kBAAL,CAAwBnB,QAAxB,CADgB;AAEzB6C,wBAAM,KAAKjD,KAAL,CAAWiD,IAFQ;AAGzBtC;AAHyB,iBAArB,C;;;AAKN,oBAAI,KAAKuB,QAAT,EAAmB;AACjB,uBAAK1B,QAAL,CAAc;AACZ2C,+BAAW;AADC,mBAAd;AAGD;;;;;;;;;;;;;;;;;;6BAkFI;AAAA;;AACP,UAAI,KAAK7B,KAAL,CAAW8B,OAAf,EAAwB;AACtB,eAAO,uCAAK,WAAW9D,iBAAOkF,IAAvB,GAAP;AACD;AAHM,mBA4CH,KAAKxE,KA5CF;AAAA,+BAKLiD,IALK;AAAA,UAMHvE,SANG,eAMHA,SANG;AAAA,UAOH+F,eAPG,eAOHA,eAPG;AAAA,UAQHC,MARG,eAQHA,MARG;AAAA,UASHC,SATG,eASHA,SATG;AAAA,UAUHC,QAVG,eAUHA,QAVG;AAAA,UAWHpB,eAXG,eAWHA,eAXG;AAAA,UAYHqB,MAZG,eAYHA,MAZG;AAAA,UAaH7F,IAbG,eAaHA,IAbG;AAAA,UAcH8F,MAdG,eAcHA,MAdG;AAAA,UAgBLC,KAhBK,UAgBLA,KAhBK;AAAA,UAiBLC,aAjBK,UAiBLA,aAjBK;AAAA,UAkBLrC,QAlBK,UAkBLA,QAlBK;AAAA,UAmBLD,WAnBK,UAmBLA,WAnBK;AAAA,UAoBLuC,YApBK,UAoBLA,YApBK;AAAA,UAqBLC,kBArBK,UAqBLA,kBArBK;AAAA,UAsBLC,qBAtBK,UAsBLA,qBAtBK;AAAA,UAuBLC,qBAvBK,UAuBLA,qBAvBK;AAAA,UAwBLzG,MAxBK,UAwBLA,MAxBK;AAAA,UAyBLkD,aAzBK,UAyBLA,aAzBK;AAAA,UA0BLI,eA1BK,UA0BLA,eA1BK;AAAA,UA2BLoD,iBA3BK,UA2BLA,iBA3BK;AAAA,UA4BLd,SA5BK,UA4BLA,SA5BK;AAAA,UA6BLxB,aA7BK,UA6BLA,aA7BK;AAAA,UA8BLH,YA9BK,UA8BLA,YA9BK;AAAA,UA+BL0C,iBA/BK,UA+BLA,iBA/BK;AAAA,UAgCLnC,SAhCK,UAgCLA,SAhCK;AAAA,UAiCLZ,qBAjCK,UAiCLA,qBAjCK;AAAA,UAkCLlC,6BAlCK,UAkCLA,6BAlCK;AAAA,UAmCLkF,WAnCK,UAmCLA,WAnCK;AAAA,UAoCLC,iBApCK,UAoCLA,iBApCK;AAAA,UAqCLC,uBArCK,UAqCLA,uBArCK;AAAA,UAsCLC,iBAtCK,UAsCLA,iBAtCK;AAAA,UAuCLC,iBAvCK,UAuCLA,iBAvCK;AAAA,UAwCLC,mBAxCK,UAwCLA,mBAxCK;AAAA,UAyCL5C,kBAzCK,UAyCLA,kBAzCK;AAAA,UA0CL6C,iBA1CK,UA0CLA,iBA1CK;AAAA,UA2CLC,kBA3CK,UA2CLA,kBA3CK;;AA6CP,UAAM1D,cAAc,KAAKC,cAAL,EAApB;AACA,UAAMb,iBAAiB,KAAKC,iBAAL,EAAvB;AACA,UAAMsE,sBAAsB,KAAKvD,sBAAL,EAA5B;AACA,UAAM5D,UAAU,+BAAU,KAAKoB,KAAL,CAAWiD,IAArB,CAAhB;AACA,UAAMzE,SAAS,+BAAU,KAAKwB,KAAL,CAAWiD,IAArB,KAA8B,8BAAS,KAAKjD,KAAL,CAAWiD,IAApB,CAA7C;AACA,UAAM+C,aAAa,2BAAY;AAC7B5D,gCAD6B;AAE7BM,gCAF6B;AAG7BC;AAH6B,OAAZ,CAAnB;AAKA,UAAMsD,cACJ,CAACD,WAAWE,OAAZ,IAAuBF,WAAWG,MAAlC,IAA4CH,WAAWG,MAAX,CAAkBzE,MAAlB,IAA4B,CAD1E;AAEA,UAAM0E,oBAAoB,EACxBxD,iBACCqD,cAAcb,qBAAd,GAAsCD,qBADvC,CADwB,CAA1B;;AAKA,UAAIkB,aAAa,IAAjB;AACA,UAAI,OAAOzB,QAAP,KAAoB,WAAxB,EAAqC;AACnCyB,qBAAapB,eACXqB,eAAKC,SAAL,CAAe,aAAf,EAA8BvB,aAA9B,CADW,GAGX,8BAAC,yBAAD,IAAiB,WAAWL,SAA5B,EAAuC,QAAQE,MAA/C,GAHF;AAKD,OAND,MAMO;AACLwB,qBAAa,8BAAezB,QAAf,CAAb;AACD;AACD,UAAI4B,SAAS,EAAb;AACA,UAAI,CAAC7H,MAAL,EAAa;AACX6H,iBAASlB,kBAAkB,EAAEmB,cAAc9B,SAAhB,EAAlB,CAAT;AACD;AACD,UAAI+B,WAAW,EAAf;AACA,UAAI/H,MAAJ,EAAY;AACV+H,mBAAWJ,eAAKC,SAAL,CAAe7B,UAAUD,eAAzB,EAA0CO,aAA1C,CAAX;AACD;AACD,UAAM2B,cACJ,OAAOjB,iBAAP,KAA6B,UAA7B,GACIA,kBAAkB,KAAK1F,KAAL,CAAWiD,IAA7B,CADJ,GAEI7B,SAHN;AAIA,UAAMwF,cACJ,OAAOjB,iBAAP,KAA6B,UAA7B,GACIA,kBAAkB,KAAK3F,KAAL,CAAWiD,IAA7B,CADJ,GAEI7B,SAHN;AAIA,aACE;AAAA;AAAA,UAAK,WAAW9B,iBAAOkF,IAAvB,EAA6B,SAAS,KAAK5D,cAA3C;AACE;AAAA;AAAA,YAAK,WAAWtB,iBAAOuH,OAAvB;AACE,wCAAC,QAAD;AACE,uBAAWnI,SADb;AAEE,qBAASE,OAFX;AAGE,oBAAQD,MAHV;AAIE,oBAAQH,MAJV;AAKE,0BAAc8H,eAAKC,SAAL,CAAe,aAAf,EAA8BvB,aAA9B,CALhB;AAME,2BAAesB,eAAKC,SAAL,CAAe,cAAf,EAA+BvB,aAA/B,CANjB;AAOE,yBAAasB,eAAKC,SAAL,CAAe,YAAf,EAA6BvB,aAA7B,CAPf;AAQE,kBAAMhG;AARR,YADF;AAWE;AAAA;AAAA,cAAK,WAAWM,iBAAOwH,WAAvB;AACE,0CAAC,wBAAD;AACE,kCACEpI,cAAcN,yBAAeG,QAA7B,IAAyCuG,WAAW,YAFxD;AAIE,2BAAa6B,WAJf;AAKE,yBAAW,mBAACI,GAAD,EAAS;AAClB,uBAAKjG,cAAL,GAAsBiG,GAAtB;AACD,eAPH;AAQE,yBAAW,0BACTzH,iBAAOwB,cADE,EAET8E,mBAFS,EAGTpH,UAAUc,iBAAOd,MAHR,EAITG,UAAUW,iBAAOX,MAJR,CARb;AAcE,+BAAiBW,iBAAO0H,cAd1B;AAeE,qBAAOjC,KAfT;AAgBE,2BAAaQ,WAhBf;AAiBE,iCAAmBC,iBAjBrB;AAkBE,uCAAyBC,uBAlB3B;AAmBE,8BAAgBjE,cAnBlB;AAoBE,wBAAU,KAAKF,KAAL,CAAWlB,QApBvB;AAqBE,+BAAiB,KAAKH,eArBxB;AAsBE,wBAAUgF,YAtBZ;AAuBE,yBAAW9B,aAAa,KAAK7B,KAAL,CAAW6B,SAvBrC;AAwBE,4BAAc4C,mBAxBhB;AAyBE,qCAAuBxD,qBAzBzB;AA0BE,wBAAUI,QA1BZ;AA2BE,2BAAaD,WA3Bf;AA4BE,2BAAaN,WA5Bf;AA6BE,6BAAe4C,aA7BjB;AA8BE,+BAAiB,KA9BnB;AA+BE,wBAAU,KA/BZ;AAgCE,+BAAiB3E;AAhCnB,cADF;AAmCE;AAAA;AAAA,gBAAK,WAAWf,iBAAO2H,OAAvB;AACGZ,wBADH;AAAA,sBAESG,MAFT,GAEkBE;AAFlB;AAnCF,WAXF;AAmDGE;AAnDH,SADF;AAsDE,sCAAC,oBAAD;AACE,oBAAU,KAAKtF,KAAL,CAAWJ,QADvB;AAEE,oBAAU,KAAKN,cAFjB;AAGE,yBAAeoE,aAHjB;AAIE,iBAAOT,aAAa,KAAK7D,OAJ3B;AAKE,wBAAcmB,iBAAiB,KAAKD,mBALtC;AAME,0BAAgBK,mBAAmB,KAAKF,qBAN1C;AAOE,6BAAmBsD,iBAPrB;AAQE,qBAAW,CAAC,CAAC7D,eAAeE,MAR9B;AASE,yBAAeqB,iBAAiB,KAAKD,WATvC;AAUE,wBACEgD,qBACI;AAAA,mBAAM,OAAKrD,UAAL,CAAgB,EAAEC,wBAAF,EAAeC,kBAAf,EAAhB,CAAN;AAAA,WADJ,GAEIvB,SAbR;AAeE,uBAAagB,WAff;AAgBE,wBAAc6C,YAhBhB;AAiBE,8BAAoBC,kBAjBtB;AAkBE,qBAAW/B,aAAa,KAAK7B,KAAL,CAAW6B,SAlBrC;AAmBE,oBAAUK,gBAAgB9B,MAAhB,GAAyB,CAnBrC;AAoBE,sBAAY,KAAKJ,KAAL,CAAWa,UApBzB;AAqBE,uBAAamE,eAAKC,SAAL,CAAe,QAAf,EAAyBvB,aAAzB,CArBf;AAsBE,wBAAcsB,eAAKC,SAAL,CAAe,SAAf,EAA0BvB,aAA1B,CAtBhB;AAuBE,qBAAWsB,eAAKC,SAAL,CAAe,MAAf,EAAuBvB,aAAvB,CAvBb;AAwBE,qBAAWsB,eAAKC,SAAL,CAAe,MAAf,EAAuBvB,aAAvB,CAxBb;AAyBE,6BAAmBsB,eAAKC,SAAL,CAAe,WAAf,EAA4BvB,aAA5B,CAzBrB;AA0BE,2BAAiBsB,eAAKC,SAAL,CAAe,aAAf,EAA8BvB,aAA9B,CA1BnB;AA2BE,8BAAoBhC,sBAAsB,KAAKA,kBA3BjD;AA4BE,6BACE6C,qBAAqBA,kBAAkB,KAAK7F,KAAL,CAAWiD,IAA7B,CA7BzB;AA+BE,6BAAmBmD;AA/BrB;AAtDF,OADF;AA0FD;;;EAnZmCc,gB;;kBAAjBnH,Q;;;AAsZrBA,SAASN,SAAT,GAAqB;AACnB4B,eAAa3B,oBAAUyG,MADJ;AAEnBjF,YAAUxB,oBAAUG,IAFD;AAGnBoD,QAAMvD,oBAAUyH,KAAV,CAAgB;AACpBzI,eAAWgB,oBAAUC,MAAV,CAAiBC,UADR;AAEpB6E,qBAAiB/E,oBAAUC,MAFP;AAGpBgF,eAAWjF,oBAAUyG,MAAV,CAAiBvG,UAHR;AAIpB4D,qBAAiB9D,oBAAU0H,KAAV,CAAgBxH,UAJb;AAKpB6D,iBAAa/D,oBAAU0H,KAAV,CAAgBxH,UALT;AAMpB8D,eAAWhE,oBAAU0H,KAAV,CAAgBxH,UANP;AAOpBwE,UAAM1E,oBAAUyH,KAAV,CAAgB;AACpB/E,mBAAa1C,oBAAUC,MADH;AAEpB0E,uBAAiB3E,oBAAUC,MAFP;AAGpB2C,YAAM5C,oBAAUC;AAHI,KAAhB,EAIHC,UAXiB;AAYpB0E,QAAI5E,oBAAUyH,KAAV,CAAgB;AAClB/E,mBAAa1C,oBAAUC,MADL;AAElB0E,uBAAiB3E,oBAAUC,MAFT;AAGlB2C,YAAM5C,oBAAUC;AAHE,KAAhB,CAZgB;AAiBpB0H,qBAAiB3H,oBAAU4H;AAjBP,GAAhB,EAkBH1H,UArBgB;AAsBnB+C,YAAUjD,oBAAUC,MAAV,CAAiBC,UAtBR;AAuBnBmF,SAAOrF,oBAAUC,MAAV,CAAiBC,UAvBL;AAwBnB8C,eAAahD,oBAAUC,MAAV,CAAiBC,UAxBX;AAyBnBoF,iBAAetF,oBAAUC,MAAV,CAAiBC,UAzBb;AA0BnB2E,aAAW7E,oBAAU6H,IA1BF;AA2BnB1F,iBAAenC,oBAAU6H,IA3BN;AA4BnBtF,mBAAiBvC,oBAAU6H,IA5BR;AA6BnBlC,qBAAmB3F,oBAAU0H,KA7BV;AA8BnBrE,iBAAerD,oBAAU6H,IA9BN;AA+BnB3E,gBAAclD,oBAAU6H,IA/BL;AAgCnBtD,mBAAiBvE,oBAAU6H,IAhCR;AAiCnBtC,gBAAcvF,oBAAUG,IAjCL;AAkCnBqF,sBAAoBxF,oBAAUG,IAlCX;AAmCnBsF,yBAAuBzF,oBAAUG,IAnCd;AAoCnBuF,yBAAuB1F,oBAAUG,IApCd;AAqCnBlB,UAAQe,oBAAUG,IAAV,CAAeD,UArCJ;AAsCnB0F,qBAAmB5F,oBAAU6H,IAAV,CAAe3H,UAtCf;AAuCnBuD,aAAWzD,oBAAUG,IAvCF;AAwCnB0C,yBAAuB7C,oBAAUG,IAxCd;AAyCnBY,WAASf,oBAAUG,IAzCA;AA0CnBQ,iCAA+BX,oBAAUG,IA1CtB;AA2CnB0F,eAAa7F,oBAAU4H,MA3CJ;AA4CnB9B,qBAAmB9F,oBAAU6H,IA5CV;AA6CnB9B,2BAAyB/F,oBAAU6H,IA7ChB;AA8CnB7B,qBAAmBhG,oBAAU6H,IA9CV;AA+CnB5B,qBAAmBjG,oBAAU6H,IA/CV;AAgDnB3B,uBAAqBlG,oBAAUC,MAhDZ;AAiDnBqD,sBAAoBtD,oBAAU6H,IAjDX;AAkDnB1B,qBAAmBnG,oBAAU6H,IAlDV;AAmDnBzB,sBAAoBpG,oBAAUG,IAnDX;AAoDnBsB,iBAAezB,oBAAU6H;AApDN,CAArB;;AAuDAxH,SAASD,YAAT,GAAwB;AACtBuB,eAAaD,SADS;AAEtBF,YAAU,KAFY;AAGtBqD,aAAWnD,SAHW;AAItB2B,iBAAe3B,SAJO;AAKtBwB,gBAAcxB,SALQ;AAMtBS,iBAAeT,SANO;AAOtBa,mBAAiBb,SAPK;AAQtBiE,qBAAmBjE,SARG;AAStB6C,mBAAiB;AAAA,WAAM,KAAN;AAAA,GATK;AAUtBd,aAAW,KAVW;AAWtB+B,sBAAoB,KAXE;AAYtBC,yBAAuB,KAZD;AAatBC,yBAAuB,KAbD;AActBH,gBAAc,KAdQ;AAetB1C,yBAAuBnB,SAfD;AAgBtBf,iCAA+B,IAhBT;AAiBtBI,WAAS,KAjBa;AAkBtB8E,eAAanE,SAlBS;AAmBtBoE,qBAAmBpE,SAnBG;AAoBtBqE,2BAAyBrE,SApBH;AAqBtBsE,qBAAmBtE,SArBG;AAsBtBuE,qBAAmBvE,SAtBG;AAuBtBwE,uBAAqBxE,SAvBC;AAwBtB4B,sBAAoB5B,SAxBE;AAyBtByE,qBAAmBzE,SAzBG;AA0BtB0E,sBAAoB,IA1BE;AA2BtB3E,iBAAeC;AA3BO,CAAxB","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport 'core-js/fn/array/find';\nimport callDirections from 'ringcentral-integration/enums/callDirections';\nimport messageTypes from 'ringcentral-integration/enums/messageTypes';\nimport messageDirection from 'ringcentral-integration/enums/messageDirection';\n// import sessionStatus from 'ringcentral-integration/modules/Webphone/sessionStatus';\nimport {\n  isInbound,\n  isRinging,\n  isMissed,\n} from 'ringcentral-integration/lib/callLogHelpers';\nimport parseNumber from 'ringcentral-integration/lib/parseNumber';\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport DurationCounter from '../DurationCounter';\nimport ContactDisplay from '../ContactDisplay';\nimport formatDuration from '../../lib/formatDuration';\nimport ActionMenu from '../ActionMenu';\nimport FaxInboundIcon from '../../assets/images/FaxInbound.svg';\nimport FaxOutboundIcon from '../../assets/images/FaxOutbound.svg';\n// import Button from '../Button';\nimport styles from './styles.scss';\n\nimport i18n from './i18n';\n\nconst callIconMap = {\n  [callDirections.inbound]: dynamicsFont.inbound,\n  [callDirections.outbound]: dynamicsFont.outbound,\n  missed: dynamicsFont.missed,\n};\n\nfunction CallIcon({\n  direction,\n  missed,\n  active,\n  ringing,\n  inboundTitle,\n  outboundTitle,\n  missedTitle,\n  type,\n}) {\n  let icon = null;\n  switch (type) {\n    case messageTypes.fax: {\n      icon =\n        direction === messageDirection.inbound ? (\n          <span title={inboundTitle}>\n            <FaxInboundIcon width={21} />\n          </span>\n        ) : (\n          <span title={outboundTitle}>\n            <FaxOutboundIcon width={21} />\n          </span>\n        );\n      break;\n    }\n    default: {\n      let title = null;\n      if (missed) {\n        title = missedTitle;\n      } else if (direction === callDirections.inbound) {\n        title = inboundTitle;\n      } else {\n        title = outboundTitle;\n      }\n      icon = (\n        <span\n          className={classnames(\n            missed ? callIconMap.missed : callIconMap[direction],\n            active && styles.activeCall,\n            ringing && styles.ringing,\n            missed && styles.missed,\n          )}\n          title={title}\n        />\n      );\n    }\n  }\n  return <div className={styles.callIcon}>{icon}</div>;\n}\nCallIcon.propTypes = {\n  direction: PropTypes.string.isRequired,\n  missed: PropTypes.bool,\n  active: PropTypes.bool,\n  ringing: PropTypes.bool,\n  inboundTitle: PropTypes.string,\n  outboundTitle: PropTypes.string,\n  missedTitle: PropTypes.string,\n  type: PropTypes.string,\n};\nCallIcon.defaultProps = {\n  missed: false,\n  active: false,\n  ringing: false,\n  inboundTitle: '',\n  outboundTitle: '',\n  missedTitle: '',\n  type: '',\n};\n\nexport default class CallItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: this.getInitialContactIndex(),\n      isLogging: false,\n      isCreating: false,\n      loading: true,\n      extended: false,\n    };\n    this._userSelection = false;\n  }\n  componentDidMount() {\n    this._mounted = true;\n    this._loadingTimeout = setTimeout(() => {\n      // clear timeout is probably not necessary\n      if (this._mounted) {\n        this.setState({\n          loading: false,\n        });\n      }\n    }, 10);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (\n      !this._userSelection &&\n      (nextProps.call.activityMatches !== this.props.call.activityMatches ||\n        nextProps.call.fromMatches !== this.props.call.fromMatches ||\n        nextProps.call.toMatches !== this.props.call.toMatches)\n    ) {\n      this.setState({\n        selected: this.getInitialContactIndex(nextProps),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.extended !== prevState.extended) {\n      this.setState({ extended: this.props.extended });\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    if (this._loadingTimeout) {\n      clearTimeout(this._loadingTimeout);\n      this._loadingTimeout = null;\n    }\n  }\n  onSelectContact = (value, idx) => {\n    const selected = this.props.showContactDisplayPlaceholder\n      ? parseInt(idx, 10) - 1\n      : parseInt(idx, 10);\n    this._userSelection = true;\n    this.setState({\n      selected,\n    });\n    if (this.props.autoLog) {\n      this.logCall({ redirect: false, selected });\n    }\n  };\n\n  toggleExtended = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n    this.setState(\n      (preState) => ({\n        extended: !preState.extended,\n      }),\n      () => {\n        const {\n          onSizeChanged = undefined,\n          renderIndex = undefined,\n        } = this.props;\n        if (onSizeChanged) {\n          onSizeChanged(renderIndex, this.state.extended);\n        }\n      },\n    );\n  };\n\n  getInitialContactIndex(nextProps = this.props) {\n    const contactMatches = this.getContactMatches(nextProps);\n    const activityMatches = nextProps.call.activityMatches;\n    // console.log('getInitialContactIndex:', nextProps.call.toNumberEntity);\n    for (const activity of activityMatches) {\n      const index = contactMatches.findIndex((contact) =>\n        // TODO find a better name or mechanism...\n        this.props.isLoggedContact(nextProps.call, activity, contact),\n      );\n      if (index > -1) return index;\n    }\n    if (nextProps.call.toNumberEntity) {\n      const index = contactMatches.findIndex(\n        (contact) => contact.id === nextProps.call.toNumberEntity,\n      );\n      return index;\n    }\n    return this.props.showContactDisplayPlaceholder ? -1 : 0;\n  }\n  getSelectedContact = (selected = this.state.selected) => {\n    const contactMatches = this.getContactMatches();\n    return (\n      (selected > -1 && contactMatches[selected]) ||\n      (contactMatches.length === 1 && contactMatches[0]) ||\n      null\n    );\n  };\n  getPhoneNumber() {\n    return isInbound(this.props.call)\n      ? this.props.call.from.phoneNumber || this.props.call.from.extensionNumber\n      : this.props.call.to.phoneNumber || this.props.call.to.extensionNumber;\n  }\n  getContactMatches(nextProps = this.props) {\n    return isInbound(nextProps.call)\n      ? nextProps.call.fromMatches\n      : nextProps.call.toMatches;\n  }\n  getFallbackContactName() {\n    return isInbound(this.props.call)\n      ? this.props.call.from.name\n      : this.props.call.to.name;\n  }\n  async logCall({ redirect = true, selected }) {\n    if (\n      typeof this.props.onLogCall === 'function' &&\n      this._mounted &&\n      !this.state.isLogging\n    ) {\n      this.setState({\n        isLogging: true,\n      });\n      await this.props.onLogCall({\n        contact: this.getSelectedContact(selected),\n        call: this.props.call,\n        redirect,\n      });\n      if (this._mounted) {\n        this.setState({\n          isLogging: false,\n        });\n      }\n    }\n  }\n  logCall = this.logCall.bind(this);\n\n  viewSelectedContact = () => {\n    if (typeof this.props.onViewContact === 'function') {\n      this.props.onViewContact({\n        contact: this.getSelectedContact(),\n      });\n    }\n  };\n\n  createSelectedContact = async (entityType) => {\n    // console.log('click createSelectedContact!!', entityType);\n    if (\n      typeof this.props.onCreateContact === 'function' &&\n      this._mounted &&\n      !this.state.isCreating\n    ) {\n      this.setState({\n        isCreating: true,\n      });\n      // console.log('start to create: isCreating...', this.state.isCreating);\n      const phoneNumber = this.getPhoneNumber();\n      await this.props.onCreateContact({\n        phoneNumber,\n        name: this.props.enableContactFallback\n          ? this.getFallbackContactName()\n          : '',\n        entityType,\n      });\n\n      if (this._mounted) {\n        this.setState({\n          isCreating: false,\n        });\n        // console.log('created: isCreating...', this.state.isCreating);\n      }\n    }\n  };\n  clickToSms = ({ countryCode, areaCode }) => {\n    if (this.props.onClickToSms) {\n      const phoneNumber = this.getPhoneNumber();\n      const contact = this.getSelectedContact();\n      if (contact) {\n        this.props.onClickToSms({\n          ...contact,\n          phoneNumber,\n        });\n      } else {\n        const formatted = formatNumber({\n          phoneNumber,\n          countryCode,\n          areaCode,\n        });\n        this.props.onClickToSms(\n          {\n            name: this.props.enableContactFallback\n              ? this.getFallbackContactName()\n              : formatted,\n            phoneNumber,\n          },\n          true,\n        );\n      }\n    }\n  };\n  clickToDial = () => {\n    if (this.props.onClickToDial) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        this.props.onClickToDial({\n          ...contact,\n          phoneNumber,\n        });\n      }\n    }\n  };\n  externalViewEntity = () => this.props.externalViewEntity(this.props.call);\n  render() {\n    if (this.state.loading) {\n      return <div className={styles.root} />;\n    }\n    const {\n      call: {\n        direction,\n        telephonyStatus,\n        result,\n        startTime,\n        duration,\n        activityMatches,\n        offset,\n        type,\n        toName,\n      },\n      brand,\n      currentLocale,\n      areaCode,\n      countryCode,\n      disableLinks,\n      disableClickToDial,\n      outboundSmsPermission,\n      internalSmsPermission,\n      active,\n      onViewContact,\n      onCreateContact,\n      createEntityTypes,\n      onLogCall,\n      onClickToDial,\n      onClickToSms,\n      dateTimeFormatter,\n      isLogging,\n      enableContactFallback,\n      showContactDisplayPlaceholder,\n      sourceIcons,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      renderContactName,\n      renderExtraButton,\n      contactDisplayStyle,\n      externalViewEntity,\n      externalHasEntity,\n      readTextPermission,\n    } = this.props;\n    const phoneNumber = this.getPhoneNumber();\n    const contactMatches = this.getContactMatches();\n    const fallbackContactName = this.getFallbackContactName();\n    const ringing = isRinging(this.props.call);\n    const missed = isInbound(this.props.call) && isMissed(this.props.call);\n    const parsedInfo = parseNumber({\n      phoneNumber,\n      countryCode,\n      areaCode,\n    });\n    const isExtension =\n      !parsedInfo.hasPlus && parsedInfo.number && parsedInfo.number.length <= 6;\n    const disableClickToSms = !(\n      onClickToSms &&\n      (isExtension ? internalSmsPermission : outboundSmsPermission)\n    );\n\n    let durationEl = null;\n    if (typeof duration === 'undefined') {\n      durationEl = disableLinks ? (\n        i18n.getString('unavailable', currentLocale)\n      ) : (\n        <DurationCounter startTime={startTime} offset={offset} />\n      );\n    } else {\n      durationEl = formatDuration(duration);\n    }\n    let dateEl = '';\n    if (!active) {\n      dateEl = dateTimeFormatter({ utcTimestamp: startTime });\n    }\n    let statusEl = '';\n    if (active) {\n      statusEl = i18n.getString(result || telephonyStatus, currentLocale);\n    }\n    const contactName =\n      typeof renderContactName === 'function'\n        ? renderContactName(this.props.call)\n        : undefined;\n    const extraButton =\n      typeof renderExtraButton === 'function'\n        ? renderExtraButton(this.props.call)\n        : undefined;\n    return (\n      <div className={styles.root} onClick={this.toggleExtended}>\n        <div className={styles.wrapper}>\n          <CallIcon\n            direction={direction}\n            ringing={ringing}\n            active={active}\n            missed={missed}\n            inboundTitle={i18n.getString('inboundCall', currentLocale)}\n            outboundTitle={i18n.getString('outboundCall', currentLocale)}\n            missedTitle={i18n.getString('missedCall', currentLocale)}\n            type={type}\n          />\n          <div className={styles.infoWrapper}>\n            <ContactDisplay\n              isOnConferenceCall={\n                direction === callDirections.outbound && toName === 'Conference'\n              }\n              contactName={contactName}\n              reference={(ref) => {\n                this.contactDisplay = ref;\n              }}\n              className={classnames(\n                styles.contactDisplay,\n                contactDisplayStyle,\n                missed && styles.missed,\n                active && styles.active,\n              )}\n              selectClassName={styles.dropdownSelect}\n              brand={brand}\n              sourceIcons={sourceIcons}\n              phoneTypeRenderer={phoneTypeRenderer}\n              phoneSourceNameRenderer={phoneSourceNameRenderer}\n              contactMatches={contactMatches}\n              selected={this.state.selected}\n              onSelectContact={this.onSelectContact}\n              disabled={disableLinks}\n              isLogging={isLogging || this.state.isLogging}\n              fallBackName={fallbackContactName}\n              enableContactFallback={enableContactFallback}\n              areaCode={areaCode}\n              countryCode={countryCode}\n              phoneNumber={phoneNumber}\n              currentLocale={currentLocale}\n              stopPropagation={false}\n              showType={false}\n              showPlaceholder={showContactDisplayPlaceholder}\n            />\n            <div className={styles.details}>\n              {durationEl}\n              {` | ${dateEl}${statusEl}`}\n            </div>\n          </div>\n          {extraButton}\n        </div>\n        <ActionMenu\n          extended={this.state.extended}\n          onToggle={this.toggleExtended}\n          currentLocale={currentLocale}\n          onLog={onLogCall && this.logCall}\n          onViewEntity={onViewContact && this.viewSelectedContact}\n          onCreateEntity={onCreateContact && this.createSelectedContact}\n          createEntityTypes={createEntityTypes}\n          hasEntity={!!contactMatches.length}\n          onClickToDial={onClickToDial && this.clickToDial}\n          onClickToSms={\n            readTextPermission\n              ? () => this.clickToSms({ countryCode, areaCode })\n              : undefined\n          }\n          phoneNumber={phoneNumber}\n          disableLinks={disableLinks}\n          disableClickToDial={disableClickToDial}\n          isLogging={isLogging || this.state.isLogging}\n          isLogged={activityMatches.length > 0}\n          isCreating={this.state.isCreating}\n          addLogTitle={i18n.getString('addLog', currentLocale)}\n          editLogTitle={i18n.getString('editLog', currentLocale)}\n          textTitle={i18n.getString('text', currentLocale)}\n          callTitle={i18n.getString('call', currentLocale)}\n          createEntityTitle={i18n.getString('addEntity', currentLocale)}\n          viewEntityTitle={i18n.getString('viewDetails', currentLocale)}\n          externalViewEntity={externalViewEntity && this.externalViewEntity}\n          externalHasEntity={\n            externalHasEntity && externalHasEntity(this.props.call)\n          }\n          disableClickToSms={disableClickToSms}\n        />\n      </div>\n    );\n  }\n}\n\nCallItem.propTypes = {\n  renderIndex: PropTypes.number,\n  extended: PropTypes.bool,\n  call: PropTypes.shape({\n    direction: PropTypes.string.isRequired,\n    telephonyStatus: PropTypes.string,\n    startTime: PropTypes.number.isRequired,\n    activityMatches: PropTypes.array.isRequired,\n    fromMatches: PropTypes.array.isRequired,\n    toMatches: PropTypes.array.isRequired,\n    from: PropTypes.shape({\n      phoneNumber: PropTypes.string,\n      extensionNumber: PropTypes.string,\n      name: PropTypes.string,\n    }).isRequired,\n    to: PropTypes.shape({\n      phoneNumber: PropTypes.string,\n      extensionNumber: PropTypes.string,\n      name: PropTypes.string,\n    }),\n    webphoneSession: PropTypes.object,\n  }).isRequired,\n  areaCode: PropTypes.string.isRequired,\n  brand: PropTypes.string.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  onLogCall: PropTypes.func,\n  onViewContact: PropTypes.func,\n  onCreateContact: PropTypes.func,\n  createEntityTypes: PropTypes.array,\n  onClickToDial: PropTypes.func,\n  onClickToSms: PropTypes.func,\n  isLoggedContact: PropTypes.func,\n  disableLinks: PropTypes.bool,\n  disableClickToDial: PropTypes.bool,\n  outboundSmsPermission: PropTypes.bool,\n  internalSmsPermission: PropTypes.bool,\n  active: PropTypes.bool.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  isLogging: PropTypes.bool,\n  enableContactFallback: PropTypes.bool,\n  autoLog: PropTypes.bool,\n  showContactDisplayPlaceholder: PropTypes.bool,\n  sourceIcons: PropTypes.object,\n  phoneTypeRenderer: PropTypes.func,\n  phoneSourceNameRenderer: PropTypes.func,\n  renderContactName: PropTypes.func,\n  renderExtraButton: PropTypes.func,\n  contactDisplayStyle: PropTypes.string,\n  externalViewEntity: PropTypes.func,\n  externalHasEntity: PropTypes.func,\n  readTextPermission: PropTypes.bool,\n  onSizeChanged: PropTypes.func,\n};\n\nCallItem.defaultProps = {\n  renderIndex: undefined,\n  extended: false,\n  onLogCall: undefined,\n  onClickToDial: undefined,\n  onClickToSms: undefined,\n  onViewContact: undefined,\n  onCreateContact: undefined,\n  createEntityTypes: undefined,\n  isLoggedContact: () => false,\n  isLogging: false,\n  disableClickToDial: false,\n  outboundSmsPermission: false,\n  internalSmsPermission: false,\n  disableLinks: false,\n  enableContactFallback: undefined,\n  showContactDisplayPlaceholder: true,\n  autoLog: false,\n  sourceIcons: undefined,\n  phoneTypeRenderer: undefined,\n  phoneSourceNameRenderer: undefined,\n  renderContactName: undefined,\n  renderExtraButton: undefined,\n  contactDisplayStyle: undefined,\n  externalViewEntity: undefined,\n  externalHasEntity: undefined,\n  readTextPermission: true,\n  onSizeChanged: undefined,\n};\n"]}