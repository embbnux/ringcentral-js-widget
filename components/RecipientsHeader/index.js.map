{"version":3,"sources":["components/RecipientsHeader/index.js"],"names":["Recipient","props","recipient","onClick","title","name","propTypes","string","isRequired","func","defaultProps","RecipientList","recipients","className","map","receiver","extensionNumber","phoneNumber","getRecipientName","titleEnabled","setDefaultRecipient","bool","arrayOf","shape","undefined","RecipientsHeader","state","showDropdownList","toggleDropdown","setState","preState","context","changeDefaultRecipient","length","dropdownClass","dropdownList","dropdownArrowClass","arrow","dropdownIcon","container","currentLocale","defaultRecipient","active","dropdownActiveIcon","contextTypes"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport classnames from 'classnames';\n\nimport RecipientHeader from '../RecipientHeader';\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\n\nimport styles from './styles.scss';\n\nfunction Recipient(props) {\n  return (\n    <a href=\"#recipient\" className={styles.recipient} onClick={props.onClick} title={props.title}>\n      {props.name}\n    </a>\n  );\n}\n\nRecipient.propTypes = {\n  name: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  title: PropTypes.string\n};\nRecipient.defaultProps = {\n  title: null,\n};\n\nfunction RecipientList(props) {\n  const recipients = props.recipients;\n  return (\n    <div className={props.className}>\n      {\n        recipients.map(receiver => (\n          <Recipient\n            key={`${receiver.extensionNumber}${receiver.phoneNumber}${receiver.name}`}\n            name={props.getRecipientName(receiver)}\n            title={props.titleEnabled && props.getRecipientName(receiver)}\n            onClick={\n              () => props.setDefaultRecipient(\n                receiver.extensionNumber || receiver.phoneNumber\n              )\n            }\n          />\n        ))\n      }\n    </div>\n  );\n}\n\nRecipientList.propTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n  setDefaultRecipient: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  titleEnabled: PropTypes.bool,\n  recipients: PropTypes.arrayOf(PropTypes.shape({\n    phoneNumber: PropTypes.string,\n    extensionNumber: PropTypes.string,\n    name: PropTypes.string,\n  })).isRequired,\n};\nRecipientList.defaultProps = {\n  titleEnabled: undefined,\n};\n\nclass RecipientsHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDropdownList: false,\n    };\n    this.toggleDropdown = () => {\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n    this.setDefaultRecipient = (phoneNumber) => {\n      this.context.changeDefaultRecipient(phoneNumber);\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n  }\n\n  render() {\n    const recipients = this.props.recipients;\n    if (recipients.length === 0) {\n      return null;\n    }\n    // console.debug('recipients', recipients);\n    let dropdownClass = styles.dropdownList;\n    let dropdownArrowClass = classnames(dynamicsFont.arrow, styles.dropdownIcon);\n    if (recipients.length === 1) {\n      return (\n        <h1 className={styles.container}>\n          <RecipientHeader\n            recipient={recipients[0]}\n            currentLocale={this.props.currentLocale}\n            dropdownClassName={dropdownClass}\n          />\n        </h1>\n      );\n    }\n    const defaultRecipient = recipients[0];\n    if (this.state.showDropdownList) {\n      dropdownClass = classnames(dropdownClass, styles.active);\n      dropdownArrowClass = classnames(dynamicsFont.arrow, styles.dropdownActiveIcon);\n    }\n    return (\n      <h1 className={styles.container}>\n        <Recipient\n          name={this.context.getRecipientName(defaultRecipient)}\n          title={this.context.getRecipientName(defaultRecipient)}\n          onClick={this.toggleDropdown}\n        />\n        <i\n          className={dropdownArrowClass}\n          onClick={this.toggleDropdown}\n        />\n        <RecipientList\n          recipients={recipients}\n          className={dropdownClass}\n          setDefaultRecipient={this.setDefaultRecipient}\n          getRecipientName={this.context.getRecipientName}\n          titleEnabled\n        />\n      </h1>\n    );\n  }\n}\n\nRecipientsHeader.propTypes = {\n  recipients: RecipientList.propTypes.recipients,\n  currentLocale: PropTypes.string.isRequired,\n};\n\nRecipientsHeader.contextTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n  changeDefaultRecipient: PropTypes.func.isRequired,\n};\n\nexport default RecipientsHeader;\n"]}