{"version":3,"sources":["components/RecipientsHeader/index.js"],"names":["Recipient","props","recipient","onClick","name","propTypes","string","isRequired","func","RecipientList","recipients","className","map","receiver","getRecipientName","setDefaultRecipient","extensionNumber","phoneNumber","arrayOf","shape","RecipientsHeader","state","showDropdownList","toggleDropdown","setState","preState","context","changeDefaultRecipient","length","dropdownIcon","arrow","dropdownClass","dropdownList","container","currentLocale","defaultRecipient","active","contextTypes"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport classnames from 'classnames';\n\nimport RecipientHeader from '../RecipientHeader';\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\n\nimport styles from './styles.scss';\n\nfunction Recipient(props) {\n  return (\n    <a href=\"#recipient\" className={styles.recipient} onClick={props.onClick}>\n      {props.name}\n    </a>\n  );\n}\n\nRecipient.propTypes = {\n  name: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nfunction RecipientList(props) {\n  const recipients = props.recipients;\n  return (\n    <div className={props.className}>\n      {\n        recipients.map(receiver => (\n          <Recipient\n            key={JSON.stringify(receiver)}\n            name={props.getRecipientName(receiver)}\n            onClick={\n              () => props.setDefaultRecipient(\n                receiver.extensionNumber || receiver.phoneNumber\n              )\n            }\n          />\n        ))\n      }\n    </div>\n  );\n}\n\nRecipientList.propTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n  setDefaultRecipient: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  recipients: PropTypes.arrayOf(PropTypes.shape({\n    phoneNumber: PropTypes.string,\n    extensionNumber: PropTypes.string,\n    name: PropTypes.string,\n  })).isRequired,\n};\n\nclass RecipientsHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDropdownList: false,\n    };\n    this.toggleDropdown = () => {\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n    this.setDefaultRecipient = (phoneNumber) => {\n      this.context.changeDefaultRecipient(phoneNumber);\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n  }\n\n  render() {\n    const recipients = this.props.recipients;\n    if (recipients.length === 0) {\n      return null;\n    }\n    const dropdownIcon = (\n      <i className={classnames(dynamicsFont.arrow, styles.dropdownIcon)} />\n    );\n    let dropdownClass = styles.dropdownList;\n    if (recipients.length === 1) {\n      return (\n        <h1 className={styles.container}>\n          <RecipientHeader\n            recipient={recipients[0]}\n            currentLocale={this.props.currentLocale}\n            dropdownIcon={dropdownIcon}\n            dropdownClassName={dropdownClass}\n          />\n        </h1>\n      );\n    }\n    const defaultRecipient = recipients[0];\n    if (this.state.showDropdownList) {\n      dropdownClass = classnames(dropdownClass, styles.active);\n    }\n    return (\n      <h1 className={styles.container}>\n        <Recipient\n          name={this.context.getRecipientName(defaultRecipient)}\n          onClick={this.toggleDropdown}\n        />\n        {dropdownIcon}\n        <RecipientList\n          recipients={recipients}\n          className={dropdownClass}\n          setDefaultRecipient={this.setDefaultRecipient}\n          getRecipientName={this.context.getRecipientName}\n        />\n      </h1>\n    );\n  }\n}\n\nRecipientsHeader.propTypes = {\n  recipients: RecipientList.propTypes.recipients,\n  currentLocale: PropTypes.string.isRequired,\n};\n\nRecipientsHeader.contextTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n  changeDefaultRecipient: PropTypes.func.isRequired,\n};\n\nexport default RecipientsHeader;\n"]}