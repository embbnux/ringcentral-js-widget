{"version":3,"sources":["components/RecipientsHeader/index.js"],"names":["Recipient","props","recipient","onClick","name","propTypes","string","isRequired","func","RecipientList","recipients","className","map","receiver","getRecipientName","setDefaultRecipient","extensionNumber","phoneNumber","arrayOf","shape","RecipientsHeader","state","showDropdownList","toggleDropdown","hasDropdown","setState","preState","context","changeDefaultRecipient","length","defaultRecipient","dropdownList","dropdownClass","active","container","icon_dropdown_arrow","dropdownIcon","contextTypes"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport classnames from 'classnames';\n\nimport rcFont from '../../assets/RcFont/RcFont.scss';\n\nimport styles from './styles.scss';\n\nfunction Recipient(props) {\n  return (\n    <a href=\"#recipient\" className={styles.recipient} onClick={props.onClick}>\n      {props.name}\n    </a>\n  );\n}\n\nRecipient.propTypes = {\n  name: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nfunction RecipientList(props) {\n  const recipients = props.recipients;\n  return (\n    <div className={props.className}>\n      {\n        recipients.map(receiver => (\n          <Recipient\n            key={JSON.stringify(receiver)}\n            name={props.getRecipientName(receiver)}\n            onClick={\n              () => props.setDefaultRecipient(\n                receiver.extensionNumber || receiver.phoneNumber\n              )\n            }\n          />\n        ))\n      }\n    </div>\n  );\n}\n\nRecipientList.propTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n  setDefaultRecipient: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  recipients: PropTypes.arrayOf(PropTypes.shape({\n    phoneNumber: PropTypes.string,\n    extensionNumber: PropTypes.string,\n    name: PropTypes.string,\n  })).isRequired,\n};\n\nclass RecipientsHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDropdownList: false,\n    };\n    this.toggleDropdown = () => {\n      if (!this.hasDropdown()) {\n        return;\n      }\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n    this.setDefaultRecipient = (phoneNumber) => {\n      this.context.changeDefaultRecipient(phoneNumber);\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n  }\n\n  hasDropdown() {\n    return this.props.recipients.length > 1;\n  }\n\n  render() {\n    const recipients = this.props.recipients;\n    const defaultRecipient = recipients[0];\n    let dropdownList = null;\n    const hasDropdown = this.hasDropdown();\n    if (hasDropdown) {\n      let dropdownClass = styles.dropdownList;\n      if (this.state.showDropdownList) {\n        dropdownClass = classnames(dropdownClass, styles.active);\n      }\n      dropdownList = (\n        <RecipientList\n          recipients={recipients}\n          className={dropdownClass}\n          setDefaultRecipient={this.setDefaultRecipient}\n          getRecipientName={this.context.getRecipientName}\n        />\n      );\n    }\n    return (\n      <h1 className={styles.container}>\n        {\n          defaultRecipient &&\n          <Recipient\n            name={this.context.getRecipientName(defaultRecipient)}\n            onClick={this.toggleDropdown}\n          />\n        }\n        {\n          hasDropdown &&\n          <i className={classnames(rcFont.icon_dropdown_arrow, styles.dropdownIcon)} />\n        }\n        {dropdownList}\n      </h1>\n    );\n  }\n}\n\nRecipientsHeader.propTypes = {\n  recipients: RecipientList.propTypes.recipients,\n};\n\nRecipientsHeader.contextTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n  changeDefaultRecipient: PropTypes.func.isRequired,\n};\n\nexport default RecipientsHeader;\n"]}