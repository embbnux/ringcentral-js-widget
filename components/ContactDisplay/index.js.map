{"version":3,"sources":["components/ContactDisplay/index.js"],"names":["ContactDisplay","displayFomatter","entityName","entityType","phoneNumber","getString","className","contactMatches","selected","onSelectContact","disabled","isLogging","fallBackName","enableContactFallback","areaCode","countryCode","currentLocale","groupNumbers","contentEl","display","join","length","title","name","options","select","entity","value","root","propTypes","string","arrayOf","any","isRequired","number","func","bool","defaultProps","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PropTypes } from 'react';\r\nimport classnames from 'classnames';\r\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\r\nimport DropdownSelect from '../DropdownSelect';\r\nimport i18n from './i18n';\r\nimport styles from './styles.scss';\r\n\r\nconst displayFomatter = ({ entityName, entityType, phoneNumber }) => {\r\n  if (phoneNumber && entityName && entityType) {\r\n    return `${entityName} | ${i18n.getString(`phoneSource.${entityType}`)} ${phoneNumber}`;\r\n  } else if (entityName && entityType) {\r\n    return `${entityName} | ${i18n.getString(`phoneSource.${entityType}`)}`;\r\n  } else if (phoneNumber) {\r\n    return `${phoneNumber}`;\r\n  }\r\n  return '';\r\n};\r\n\r\nexport default function ContactDisplay({\r\n  className,\r\n  contactMatches,\r\n  selected,\r\n  onSelectContact,\r\n  disabled,\r\n  isLogging,\r\n  fallBackName,\r\n  enableContactFallback,\r\n  areaCode,\r\n  countryCode,\r\n  phoneNumber,\r\n  currentLocale,\r\n  groupNumbers,\r\n}) {\r\n  let contentEl;\r\n  if (groupNumbers) {\r\n    const display = groupNumbers.join(', ');\r\n    contentEl = (\r\n      <div title={display}>\r\n        {display}\r\n      </div>\r\n    );\r\n  } else if (contactMatches.length === 0) {\r\n    const display = (enableContactFallback && fallBackName) ||\r\n      (phoneNumber && formatNumber({\r\n        phoneNumber,\r\n        countryCode,\r\n        areaCode,\r\n      })) ||\r\n      i18n.getString('unknownNumber', currentLocale);\r\n    const title = (enableContactFallback && fallBackName) ||\r\n      phoneNumber || '';\r\n    contentEl = (\r\n      <div title={title}>\r\n        {display}\r\n      </div>\r\n    );\r\n  } else if (contactMatches.length === 1) {\r\n    const display = contactMatches[0].name;\r\n    const title = displayFomatter({\r\n      entityName: display,\r\n      entityType: contactMatches[0].entityType,\r\n      phoneNumber,\r\n    });\r\n    contentEl = (\r\n      <div title={title}>\r\n        {display}\r\n      </div>\r\n    );\r\n  } else if (contactMatches.length > 1) {\r\n    const options = [\r\n      ...contactMatches,\r\n    ];\r\n    contentEl = (\r\n      <DropdownSelect\r\n        className={styles.select}\r\n        value={`${selected}`}\r\n        onChange={onSelectContact}\r\n        disabled={disabled || isLogging}\r\n        options={options}\r\n        placeholder={i18n.getString('select', currentLocale)}\r\n        renderFunction={entity => (\r\n          displayFomatter({\r\n            entityName: entity.name,\r\n            entityType: entity.entityType,\r\n          })\r\n        )}\r\n        renderValue={value => (\r\n          displayFomatter({\r\n            entityName: options[value].name,\r\n            entityType: options[value].entityType,\r\n          })\r\n        )}\r\n        renderTitle={entity => (\r\n          entity ? displayFomatter({\r\n            entityName: entity.name,\r\n            entityType: entity.entityType,\r\n            phoneNumber,\r\n          }) : phoneNumber)\r\n        }\r\n        dropdownAlign=\"left\"\r\n        titleEnabled\r\n        stopPropagation\r\n        noPadding\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <div\r\n      className={classnames(\r\n        styles.root,\r\n        className,\r\n      )} >\r\n      {contentEl}\r\n    </div>\r\n  );\r\n}\r\nContactDisplay.propTypes = {\r\n  className: PropTypes.string,\r\n  contactMatches: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n  selected: PropTypes.number.isRequired,\r\n  onSelectContact: PropTypes.func,\r\n  disabled: PropTypes.bool.isRequired,\r\n  isLogging: PropTypes.bool.isRequired,\r\n  fallBackName: PropTypes.string,\r\n  enableContactFallback: PropTypes.bool,\r\n  areaCode: PropTypes.string.isRequired,\r\n  countryCode: PropTypes.string.isRequired,\r\n  phoneNumber: PropTypes.string,\r\n  currentLocale: PropTypes.string.isRequired,\r\n  groupNumbers: PropTypes.arrayOf(PropTypes.string),\r\n};\r\nContactDisplay.defaultProps = {\r\n  className: undefined,\r\n  onSelectContact: undefined,\r\n  fallBackName: '',\r\n  phoneNumber: undefined,\r\n  groupNumbers: undefined,\r\n  enableContactFallback: undefined,\r\n};\r\n"]}