{"version":3,"sources":["components/ConferencePanel/index.js"],"names":["CheckBox","checked","onChange","className","styles","checkbox","propTypes","PropTypes","bool","isRequired","func","defaultProps","DialInNumberItem","region","formattedPhoneNumber","dialInNumberItem","string","DialInNumberList","dialInNumbers","selected","length","dialInNumberList","map","e","indexOf","phoneNumber","selectChange","newSelection","forEach","curNum","push","concat","array","formatPin","number","replace","dialInNumbersLinks","att","bt","rc","telus","ConferencePanel","props","checkOverlap","mainCtrl","overlappedHeight","scrollHeight","clientHeight","scrollTop","mainCtrlOverlapped","state","setState","onSelectToggle","open","style","overflow","onAddionalNumbersSwitch","showAdditionalNumbers","inviteTxt","dialInNumber","additionalNumbers","participantCode","brand","alert","messages","requireAditionalNumbers","formattedDialInNumber","find","additionalNumbersTxt","obj","p","fmt","join","additionalNumbersSection","i18n","getString","currentLocale","code","brandName","name","inviteWithText","txt","formatDialInNumbers","showAdditionalNumberList","countryCode","areaCode","international","nextProps","window","addEventListener","removeEventListener","hostCode","updateDialInNumber","updateAdditionalNumbers","joinAsHost","allowJoinBeforeHost","additionalButtons","onAllowJoinBeforeHostChange","showHelpCommands","disableTxtBtn","showJoinAsHost","showEnableJoinBeforeHost","recipientsSection","selectNumberPage","filter","additionalNumberObjs","n","additionalNumbersCtrl","width","linkLine","bottomClass","bottom","overlapped","setTimeout","container","main","ref","select","option","console","warn","itemOptions","formGroup","field","link","Date","now","button","primaryButton","Component","object","node","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\nimport messages from 'ringcentral-integration/modules/Conference/messages';\nimport Switch from '../Switch';\nimport i18n from './i18n';\nimport styles from './styles.scss';\nimport Select from '../DropdownSelect';\nimport BackHeader from '../BackHeader';\nimport Button from '../Button';\nimport LinkLine from '../LinkLine';\nimport formatMessage from 'format-message';\n\n// TODO Move to a separate folder.\nfunction CheckBox({ checked, onChange }) {\n  const className = classNames(styles.checkbox, checked ? styles.checked : '');\n  return (\n    <div\n      className={className}\n      onClick={() => onChange && onChange(!checked)}>\n      ✓\n    </div>\n  );\n}\n\nCheckBox.propTypes = {\n  checked: PropTypes.bool.isRequired,\n  onChange: PropTypes.func\n};\n\nCheckBox.defaultProps = {\n  onChange: null\n};\n\nfunction DialInNumberItem({ region, formattedPhoneNumber }) {\n  return (\n    <div className={styles.dialInNumberItem} title={region}>\n      <span className={styles.region}>{region}</span>\n      <span>{formattedPhoneNumber}</span>\n    </div>\n  );\n}\nDialInNumberItem.propTypes = {\n  region: PropTypes.string.isRequired,\n  formattedPhoneNumber: PropTypes.string.isRequired,\n};\n\nfunction DialInNumberList({ dialInNumbers, selected, onChange }) {\n  if (dialInNumbers.length === 0) {\n    return '';\n  }\n  return (\n    <ul className={styles.dialInNumberList}>\n      {dialInNumbers.map((e) => {\n        const checked = selected.indexOf(e.phoneNumber) > -1;\n        const selectChange = () => {\n          let newSelection = [];\n          if (checked) {\n            selected.forEach(curNum => curNum !== e.phoneNumber && newSelection.push(curNum));\n          } else {\n            newSelection = selected.concat(e.phoneNumber);\n          }\n          onChange(newSelection);\n        };\n        return (\n          <li\n            key={e.phoneNumber}\n            onClick={selectChange}\n            title={e.region}\n          >\n            <CheckBox className={styles.checkbox} checked={checked} />\n            <div className={styles.region}>{e.region}</div>\n            <div className={styles.phoneNumber}>{e.formattedPhoneNumber}</div>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\nDialInNumberList.propTypes = {\n  dialInNumbers: PropTypes.array.isRequired,\n  selected: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction formatPin(number) {\n  return number.replace(/(\\d{3})/g, '$1-').replace(/-$/, '');\n}\n\nconst dialInNumbersLinks = {\n  att: 'https://rcconf.net/1L06Hd5', // att reuse rc brand\n  bt: 'https://www.btcloudphone.bt.com/conferencing',\n  rc: 'https://rcconf.net/1L06Hd5',\n  telus: 'https://telus.com/BusinessConnect/ConferencingFrequentlyAskedQuestions',\n};\n\nclass ConferencePanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialInNumbers: this.formatDialInNumbers(props),\n      showAdditionalNumbers: false,\n      showAdditionalNumberList: false,\n      mainCtrlOverlapped: false\n    };\n  }\n\n  checkOverlap = () => {\n    const { mainCtrl } = this;\n    if (!mainCtrl) {\n      return;\n    }\n    const overlappedHeight = mainCtrl.scrollHeight - mainCtrl.clientHeight - mainCtrl.scrollTop;\n    const mainCtrlOverlapped = overlappedHeight > 1;\n    if (mainCtrlOverlapped !== this.state.mainCtrlOverlapped) {\n      this.setState({ mainCtrlOverlapped });\n    }\n  }\n\n  // Fix bug: Dropdown select on Mac Chrome 63.0.3239.108 doesn't scroll\n  onSelectToggle = (open) => {\n    const { mainCtrl } = this;\n    if (!mainCtrl) {\n      return;\n    }\n    if (open) {\n      mainCtrl.style.overflow = 'hidden';\n    } else {\n      mainCtrl.style.overflow = '';\n    }\n  }\n\n  onAddionalNumbersSwitch = (checked) => {\n    this.setState({\n      showAdditionalNumbers: checked,\n    });\n  };\n\n  inviteTxt = () => {\n    const {\n      dialInNumber, additionalNumbers, participantCode, brand, alert\n    } = this.props;\n    const { dialInNumbers, showAdditionalNumbers } = this.state;\n    if (showAdditionalNumbers && additionalNumbers.length < 1) {\n      alert(messages.requireAditionalNumbers);\n      return '';\n    }\n    const formattedDialInNumber = dialInNumbers.find(\n      e => e.phoneNumber === dialInNumber\n    ).formattedPhoneNumber;\n    const additionalNumbersTxt = additionalNumbers.map(p =>\n      dialInNumbers.find(obj => obj.phoneNumber === p)\n    ).map(fmt => `${fmt.region}  ${fmt.formattedPhoneNumber}`)\n      .join('\\n');\n    let additionalNumbersSection = '';\n    if (showAdditionalNumbers) {\n      additionalNumbersSection = `${i18n.getString('internationalNumber', this.props.currentLocale)}\\n${additionalNumbersTxt}`;\n    }\n    //     return `\n    // Please join the ${brand.name} conference.\n\n    // Dial-In Number: ${formattedDialInNumber}\n    // ${additionalNumbersSection}\n    // Participant Access: ${formatPin(participantCode)}\n\n    // Need an international dial-in phone number? Please visit ${dialInNumbersLinks[brand.code]}\n\n    // This conference call is brought to you by ${brand.name} Conferencing.`;\n    // return i18n.getString('inviteText', this.props.currentLocale);\n    return formatMessage(i18n.getString(`inviteText_${brand.code}`, this.props.currentLocale), {\n      brandName: brand.name,\n      formattedDialInNumber,\n      additionalNumbersSection,\n      participantCode: formatPin(participantCode),\n      dialInNumbersLinks: dialInNumbersLinks[brand.code],\n    });\n  }\n\n  inviteWithText = () => {\n    const txt = this.inviteTxt();\n    if (txt) {\n      this.props.inviteWithText(txt);\n    }\n  };\n\n  formatDialInNumbers({\n    dialInNumbers,\n    countryCode,\n    areaCode,\n  }) {\n    return dialInNumbers.map(e => ({\n      ...e,\n      formattedPhoneNumber: formatNumber({\n        phoneNumber: e.phoneNumber,\n        countryCode,\n        areaCode,\n        international: true\n      })\n    }));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.dialInNumbers !== this.props.dialInNumbers ||\n      nextProps.countryCode !== this.props.countryCode ||\n      nextProps.areaCode !== this.props.areaCode\n    ) {\n      this.setState({\n        dialInNumbers: this.formatDialInNumbers(nextProps),\n      });\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.checkOverlap, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.checkOverlap, false);\n  }\n\n  render() {\n    const {\n      currentLocale,\n      hostCode,\n      participantCode,\n      dialInNumber,\n      additionalNumbers,\n      updateDialInNumber,\n      updateAdditionalNumbers,\n      joinAsHost,\n      allowJoinBeforeHost,\n      additionalButtons,\n      onAllowJoinBeforeHostChange,\n      showHelpCommands,\n      disableTxtBtn,\n      showJoinAsHost = true,\n      showEnableJoinBeforeHost = true,\n      recipientsSection,\n    } = this.props;\n    const {\n      dialInNumbers,\n      showAdditionalNumbers,\n      showAdditionalNumberList,\n      mainCtrlOverlapped\n    } = this.state;\n    if (showAdditionalNumberList) {\n      return (\n        <div className={styles.selectNumberPage}>\n          <BackHeader onBackClick={() => this.setState({ showAdditionalNumberList: false })}>\n            {i18n.getString('selectNumbers', currentLocale)}\n          </BackHeader>\n          <DialInNumberList\n            dialInNumbers={dialInNumbers.filter(e => e.phoneNumber !== dialInNumber)}\n            selected={additionalNumbers}\n            onChange={updateAdditionalNumbers} />\n        </div>\n      );\n    }\n    const additionalNumberObjs = [];\n    for (const n of additionalNumbers) {\n      if (n !== dialInNumber) {\n        additionalNumberObjs.push(dialInNumbers.find(e => e.phoneNumber === n));\n      }\n    }\n    const additionalNumbersCtrl = showAdditionalNumbers ? (\n      <div style={{ width: '100%' }}>\n        <LinkLine\n          className={styles.linkLine}\n          onClick={() => { this.setState({ showAdditionalNumberList: true }); }} >\n          {i18n.getString('selectNumbers', currentLocale)}\n        </LinkLine>\n        <DialInNumberList\n          dialInNumbers={additionalNumberObjs}\n          selected={additionalNumbers}\n          onChange={updateAdditionalNumbers} />\n      </div>\n    ) : '';\n    const bottomClass = [styles.bottom];\n    if (mainCtrlOverlapped) bottomClass.push(styles.overlapped);\n    setTimeout(this.checkOverlap, 1);\n    return (\n      <div className={styles.container}>\n        <div\n          className={styles.main}\n          onScroll={this.checkOverlap}\n          ref={(ref) => { this.mainCtrl = ref; }}>\n          <div className={styles.dialInNumber}>\n            <label>{i18n.getString('dialInNumber', currentLocale)}</label>\n            <Select\n              className={styles.select}\n              value={dialInNumber}\n              onChange={option => updateDialInNumber(option.phoneNumber)}\n              renderFunction={DialInNumberItem}\n              renderValue={(phoneNumber) => {\n                const option = dialInNumbers.find(p => p.phoneNumber === phoneNumber);\n                if (!option) {\n                  console.warn(`Conference dial in number ${phoneNumber} is not found in the list.`);\n                }\n                const itemOptions = option || dialInNumbers[0];\n                if (itemOptions) {\n                  return DialInNumberItem(itemOptions);\n                }\n                return '';\n              }}\n              onToggle={this.onSelectToggle}\n              options={dialInNumbers}\n              disabled={false}\n              dropdownAlign=\"left\"\n            />\n          </div>\n          <div className={styles.formGroup}>\n            <label>{i18n.getString('hostAccess', currentLocale)}</label>\n            <div className={styles.field}>\n              {formatPin(hostCode)}\n            </div>\n          </div>\n          <div className={styles.formGroup}>\n            <label>{i18n.getString('participantsAccess', currentLocale)}</label>\n            <div className={styles.field}>\n              {formatPin(participantCode)}\n            </div>\n          </div>\n          {\n            recipientsSection\n          }\n          <div className={styles.formGroup}>\n            <label>{i18n.getString('addinalDialInNumbers', currentLocale)}</label>\n            <span className={styles.field}>\n              <Switch\n                checked={showAdditionalNumbers}\n                onChange={this.onAddionalNumbersSwitch}\n              />\n            </span>\n            {additionalNumbersCtrl}\n          </div>\n          {\n            showEnableJoinBeforeHost &&\n            <div className={styles.formGroup}>\n              <label>{i18n.getString('enableJoinBeforeHost', currentLocale)}</label>\n              <span className={styles.field}>\n                <Switch\n                  checked={allowJoinBeforeHost}\n                  onChange={onAllowJoinBeforeHostChange}\n                />\n              </span>\n            </div>\n          }\n\n          <Button\n            onClick={showHelpCommands}\n            className={styles.link}>\n            {i18n.getString('conferenceCommands', currentLocale)}\n          </Button>\n        </div>\n        <div className={bottomClass.join(' ')}>\n          {additionalButtons.map(\n            Btn => (\n              <Btn\n                currentLocale={currentLocale}\n                dialInNumber={dialInNumber}\n                getInviteTxt={this.inviteTxt}\n                key={Date.now()}\n              />)\n          )}\n          {\n            !disableTxtBtn &&\n            <Button\n              className={styles.button}\n              onClick={this.inviteWithText}>\n              {i18n.getString('inviteWithText', currentLocale)}\n            </Button>\n          }\n          {\n            showJoinAsHost &&\n            <Button\n              className={styles.primaryButton}\n              onClick={joinAsHost}>\n              {i18n.getString('joinAsHost', currentLocale)}\n            </Button>\n          }\n        </div>\n      </div>\n    );\n  }\n}\nConferencePanel.propTypes = {\n  dialInNumbers: PropTypes.array,\n  dialInNumber: PropTypes.string.isRequired,\n  additionalNumbers: PropTypes.array.isRequired,\n  updateAdditionalNumbers: PropTypes.func.isRequired,\n  updateDialInNumber: PropTypes.func.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  areaCode: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  hostCode: PropTypes.string.isRequired,\n  participantCode: PropTypes.string.isRequired,\n  inviteWithText: PropTypes.func.isRequired,\n  joinAsHost: PropTypes.func.isRequired,\n  allowJoinBeforeHost: PropTypes.bool.isRequired,\n  onAllowJoinBeforeHostChange: PropTypes.func.isRequired,\n  additionalButtons: PropTypes.array,\n  showHelpCommands: PropTypes.func.isRequired,\n  alert: PropTypes.func.isRequired,\n  disableTxtBtn: PropTypes.bool.isRequired,\n  showJoinAsHost: PropTypes.bool,\n  showEnableJoinBeforeHost: PropTypes.bool,\n  brand: PropTypes.object.isRequired,\n  recipientsSection: PropTypes.node,\n};\nConferencePanel.defaultProps = {\n  dialInNumbers: [],\n  additionalButtons: [],\n  recipientsSection: undefined,\n  showJoinAsHost: true,\n  showEnableJoinBeforeHost: true,\n};\n\nexport default ConferencePanel;\n"]}