{"version":3,"sources":["components/ActiveCallPanel/index.js"],"names":["ActiveCallPanel","showBackButton","backButtonLabel","onBackButtonClick","currentLocale","nameMatches","fallBackName","phoneNumber","formatPhone","startTime","startTimeOffset","areaCode","countryCode","selectedMatcherIndex","onSelectMatcherName","avatarUrl","isOnMute","isOnHold","recordStatus","onMute","onUnmute","onHold","onUnhold","onRecord","onStopRecord","onShowKeyPad","onHangup","onPark","onAdd","onMerge","onShowFlipPanel","onToggleTransferPanel","gotoParticipantsCtrl","children","showContactDisplayPlaceholder","brand","flipNumbers","sourceIcons","layout","direction","addDisabled","mergeDisabled","conferenceCallEquipped","hasConferenceCall","conferenceCallParties","lastCallInfo","getAvatarUrl","actions","backHeader","timeCounter","styles","currentCallTitle","length","name","callInfo","callCtrlLayouts","mergeCtrl","conferenceCtrl","root","panel","callPad","propTypes","PropTypes","string","arrayOf","object","isRequired","number","bool","func","node","array","defaultProps","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isArray } from 'ringcentral-integration/lib/di/utils/is_type';\nimport CallInfo from './CallInfo';\nimport MergeInfo from './MergeInfo';\nimport ConferenceInfo from './ConferenceInfo';\nimport BackButton from '../BackButton';\nimport BackHeader from '../BackHeader';\nimport Panel from '../Panel';\nimport DurationCounter from '../DurationCounter';\nimport ActiveCallPad from '../ActiveCallPad';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport styles from './styles.scss';\n\nfunction ActiveCallPanel({\n  showBackButton,\n  backButtonLabel,\n  onBackButtonClick,\n  currentLocale,\n  nameMatches,\n  fallBackName,\n  phoneNumber,\n  formatPhone,\n  startTime,\n  startTimeOffset,\n  areaCode,\n  countryCode,\n  selectedMatcherIndex,\n  onSelectMatcherName,\n  avatarUrl,\n  isOnMute,\n  isOnHold,\n  recordStatus,\n  onMute,\n  onUnmute,\n  onHold,\n  onUnhold,\n  onRecord,\n  onStopRecord,\n  onShowKeyPad,\n  onHangup,\n  onPark,\n  onAdd,\n  onMerge,\n  onShowFlipPanel,\n  onToggleTransferPanel,\n  gotoParticipantsCtrl,\n  children,\n  showContactDisplayPlaceholder,\n  brand,\n  flipNumbers,\n  sourceIcons,\n  layout,\n  direction,\n  addDisabled,\n  mergeDisabled,\n  conferenceCallEquipped,\n  hasConferenceCall,\n  conferenceCallParties,\n  lastCallInfo,\n  getAvatarUrl,\n  actions,\n}) {\n  const backHeader = showBackButton ? (\n    <BackHeader\n      onBackClick={onBackButtonClick}\n      backButton={<BackButton label={backButtonLabel} />}\n    />\n  ) : null;\n\n  const timeCounter = (\n    <div className={styles.timeCounter}>\n      {\n        startTime\n          ? <DurationCounter startTime={startTime} offset={startTimeOffset} />\n          : <span aria-hidden=\"true\">&nbsp;</span>\n      }\n    </div>\n  );\n\n  const currentCallTitle = (isArray(nameMatches) && nameMatches.length)\n    ? nameMatches[0].name\n    : formatPhone(phoneNumber);\n\n  let callInfo;\n\n  switch (layout) {\n    case callCtrlLayouts.mergeCtrl:\n      callInfo = (<MergeInfo\n        currentLocale={currentLocale}\n        timeCounter={timeCounter}\n        lastCallInfo={lastCallInfo}\n        currentCallAvatarUrl={avatarUrl}\n        currentCallTitle={currentCallTitle || fallBackName}\n        formatPhone={formatPhone}\n        getAvatarUrl={getAvatarUrl}\n      />);\n      break;\n\n    case callCtrlLayouts.conferenceCtrl:\n      callInfo = (<ConferenceInfo\n        currentLocale={currentLocale}\n        partyProfiles={conferenceCallParties}\n        onClick={gotoParticipantsCtrl}\n      />);\n      break;\n\n    default:\n      callInfo = (<CallInfo\n        currentLocale={currentLocale}\n        nameMatches={nameMatches}\n        fallBackName={fallBackName}\n        phoneNumber={phoneNumber}\n        formatPhone={formatPhone}\n        startTime={startTime}\n        areaCode={areaCode}\n        countryCode={countryCode}\n        selectedMatcherIndex={selectedMatcherIndex}\n        onSelectMatcherName={onSelectMatcherName}\n        avatarUrl={avatarUrl}\n        brand={brand}\n        showContactDisplayPlaceholder={showContactDisplayPlaceholder}\n        sourceIcons={sourceIcons}\n      />);\n      break;\n  }\n\n  return (\n    <div className={styles.root}>\n      {backHeader}\n      <Panel className={styles.panel}>\n        {layout !== callCtrlLayouts.mergeCtrl ? timeCounter : null}\n        {callInfo}\n        <ActiveCallPad\n          className={styles.callPad}\n          currentLocale={currentLocale}\n          isOnMute={isOnMute}\n          isOnHold={isOnHold}\n          recordStatus={recordStatus}\n          onMute={onMute}\n          onUnmute={onUnmute}\n          onHold={onHold}\n          onUnhold={onUnhold}\n          onRecord={onRecord}\n          onStopRecord={onStopRecord}\n          onShowKeyPad={onShowKeyPad}\n          onHangup={onHangup}\n          onAdd={onAdd}\n          onMerge={onMerge}\n          onShowFlipPanel={onShowFlipPanel}\n          onToggleTransferPanel={onToggleTransferPanel}\n          flipNumbers={flipNumbers}\n          onPark={onPark}\n          layout={layout}\n          direction={direction}\n          addDisabled={addDisabled}\n          mergeDisabled={mergeDisabled}\n          conferenceCallEquipped={conferenceCallEquipped}\n          hasConferenceCall={hasConferenceCall}\n          actions={actions}\n        />\n        {children}\n      </Panel>\n    </div>\n  );\n}\n\nActiveCallPanel.propTypes = {\n  phoneNumber: PropTypes.string,\n  nameMatches: PropTypes.arrayOf(PropTypes.object).isRequired,\n  fallBackName: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  startTime: PropTypes.number,\n  startTimeOffset: PropTypes.number,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onHangup: PropTypes.func.isRequired,\n  onPark: PropTypes.func.isRequired,\n  showBackButton: PropTypes.bool,\n  backButtonLabel: PropTypes.string,\n  onBackButtonClick: PropTypes.func,\n  onShowKeyPad: PropTypes.func.isRequired,\n  formatPhone: PropTypes.func.isRequired,\n  children: PropTypes.node,\n  areaCode: PropTypes.string.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  selectedMatcherIndex: PropTypes.number.isRequired,\n  onSelectMatcherName: PropTypes.func.isRequired,\n  avatarUrl: PropTypes.string,\n  brand: PropTypes.string,\n  showContactDisplayPlaceholder: PropTypes.bool,\n  onShowFlipPanel: PropTypes.func,\n  flipNumbers: PropTypes.array,\n  onToggleTransferPanel: PropTypes.func,\n  gotoParticipantsCtrl: PropTypes.func,\n  sourceIcons: PropTypes.object,\n  layout: PropTypes.string.isRequired,\n  direction: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallParties: PropTypes.array,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  lastCallInfo: PropTypes.object,\n  getAvatarUrl: PropTypes.func,\n  actions: PropTypes.array,\n};\n\nActiveCallPanel.defaultProps = {\n  startTime: null,\n  startTimeOffset: 0,\n  isOnMute: false,\n  isOnHold: false,\n  phoneNumber: null,\n  children: undefined,\n  avatarUrl: null,\n  showBackButton: false,\n  backButtonLabel: 'Active Calls',\n  onBackButtonClick: null,\n  brand: 'RingCentral',\n  showContactDisplayPlaceholder: true,\n  flipNumbers: [],\n  onAdd: undefined,\n  onMerge: undefined,\n  onShowFlipPanel: () => null,\n  onToggleTransferPanel: () => null,\n  gotoParticipantsCtrl: () => null,\n  sourceIcons: undefined,\n  direction: null,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  conferenceCallParties: undefined,\n  lastCallInfo: undefined,\n  getAvatarUrl: () => null,\n  actions: []\n};\n\nexport default ActiveCallPanel;\n"]}