{"version":3,"sources":["lib/di/container.js"],"names":["Container","parent","_map","token","has","get","metadata","set","entries","values","clear"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;;IAEqBA,S;AACnB,uBAAc;AAAA;;AACZ,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,IAAL,GAAY,mBAAZ;AACD;;;;wBAEGC,K,EAAO;AACT,UAAI,KAAKD,IAAL,CAAUE,GAAV,CAAcD,KAAd,CAAJ,EAA0B,OAAO,IAAP;AAC1B,UAAI,KAAKF,MAAL,KAAgB,IAApB,EAA0B,OAAO,KAAKA,MAAL,CAAYG,GAAZ,CAAgBD,KAAhB,CAAP;AAC1B,aAAO,KAAP;AACD;;;wBAEGA,K,EAAO;AACT,UAAI,KAAKD,IAAL,CAAUE,GAAV,CAAcD,KAAd,CAAJ,EAA0B,OAAO,KAAKD,IAAL,CAAUG,GAAV,CAAcF,KAAd,CAAP;AAC1B,UAAI,KAAKF,MAAL,KAAgB,IAApB,EAA0B,OAAO,KAAKA,MAAL,CAAYI,GAAZ,CAAgBF,KAAhB,CAAP;AAC1B,YAAM,+CAAiCA,KAAjC,oBAAN;AACD;;;wBAEGA,K,EAAOG,Q,EAAU;AACnB,UAAI,KAAKJ,IAAL,CAAUE,GAAV,CAAcD,KAAd,CAAJ,EAA0B;AACxB,cAAM,oEAAsDA,KAAtD,oBAAN;AACD;AACD,aAAO,KAAKD,IAAL,CAAUK,GAAV,CAAcJ,KAAd,EAAqBG,QAArB,CAAP;AACD;;;6BAEQH,K,EAAO;AACd,aAAO,KAAKD,IAAL,CAAUE,GAAV,CAAcD,KAAd,CAAP;AACD;;;6BAEQA,K,EAAO;AACd,aAAO,KAAKD,IAAL,CAAUG,GAAV,CAAcF,KAAd,CAAP;AACD;;;8BAESF,M,EAAQ;AAChB,WAAKA,MAAL,GAAcA,MAAd;AACD;;;8BAES;AACR,aAAO,KAAKC,IAAL,CAAUM,OAAV,EAAP;AACD;;;6BAEQ;AACP,aAAO,KAAKN,IAAL,CAAUO,MAAV,EAAP;AACD;;;4BAEO;AACN,WAAKP,IAAL,CAAUQ,KAAV;AACD;;;;;kBA/CkBV,S","file":"container.js","sourcesContent":["import { DIError } from './utils/error';\n\nexport default class Container {\n  constructor() {\n    this.parent = null;\n    this._map = new Map();\n  }\n\n  has(token) {\n    if (this._map.has(token)) return true;\n    if (this.parent !== null) return this.parent.has(token);\n    return false;\n  }\n\n  get(token) {\n    if (this._map.has(token)) return this._map.get(token);\n    if (this.parent !== null) return this.parent.get(token);\n    throw DIError(`Cannot find provider [${token}] in Container`);\n  }\n\n  set(token, metadata) {\n    if (this._map.has(token)) {\n      throw DIError(`Cannot store duplicated provider instance [${token}] to Container`);\n    }\n    return this._map.set(token, metadata);\n  }\n\n  localHas(token) {\n    return this._map.has(token);\n  }\n\n  localGet(token) {\n    return this._map.get(token);\n  }\n\n  setParent(parent) {\n    this.parent = parent;\n  }\n\n  entries() {\n    return this._map.entries();\n  }\n\n  values() {\n    return this._map.values();\n  }\n\n  reset() {\n    this._map.clear();\n  }\n}\n"]}