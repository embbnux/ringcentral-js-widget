{"version":3,"sources":["lib/batchApiHelper.js"],"names":["platform","url","query","body","boundry","uuid","v4","options","headers","ApiResponse","_contentType","_multipartContentType","reduce","data","item","_jsonContentType","put","result","multipart","batchPutApi","get","batchGetApi"],"mappings":";;;;;;;;;;;;;;;;;;;;uFAGO;AAAA,QACLA,QADK,QACLA,QADK;AAAA,QAELC,GAFK,QAELA,GAFK;AAAA,QAGLC,KAHK,QAGLA,KAHK;AAAA,QAILC,IAJK,QAILA,IAJK;AAAA;AAAA;AAAA;AAAA;AAAA;AAMCC,mBAND,iBAMuBC,eAAKC,EAAL,EANvB;AAOCC,mBAPD,GAOW,EAAEC,SAAS,EAAX,EAPX;;AAQLD,oBAAQC,OAAR,CAAgBC,sBAAYC,YAA5B,IACOD,sBAAYE,qBADnB,mBACsDP,OADtD;AAEAD,mBAAOA,KAAKS,MAAL,CAAY,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACjCD,6BAAaT,OAAb;AACAS,sBAAWJ,sBAAYC,YAAvB,UAAwCD,sBAAYM,gBAApD;AACAF,sBAAW,yBAAeC,KAAKX,IAApB,CAAX;AACA,qBAAOU,IAAP;AACD,aALM,EAKJ,EALI,CAAP;AAMAV,2BAAaC,OAAb;AAhBK;AAAA,mBAiBgBJ,SAASgB,GAAT,CAAaf,GAAb,EAAkBE,IAAlB,EAAwBD,KAAxB,EAA+BK,OAA/B,CAjBhB;;AAAA;AAiBCU,kBAjBD;AAAA,6CAkBEA,OAAOC,SAAP,EAlBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,W;;;;;;uFAqBf;AAAA,QACLnB,QADK,SACLA,QADK;AAAA,QAELC,GAFK,SAELA,GAFK;AAAA,QAGLC,KAHK,SAGLA,KAHK;AAAA;AAAA;AAAA;AAAA;AAAA;AAKCE,mBALD,iBAKuBC,eAAKC,EAAL,EALvB;AAMCC,mBAND,GAMW,EAAEC,SAAS,EAAX,EANX;;AAOLD,oBAAQC,OAAR,CAAgBC,sBAAYC,YAA5B,IACOD,sBAAYE,qBADnB,mBACsDP,OADtD;AAPK;AAAA,mBASgBJ,SAASoB,GAAT,CAAanB,GAAb,EAAkBC,KAAlB,EAAyBK,OAAzB,CAThB;;AAAA;AASCU,kBATD;AAAA,8CAUEA,OAAOC,SAAP,EAVF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeG,W;;;;;AAxBtB;;;;AACA","file":"batchApiHelper.js","sourcesContent":["import ApiResponse from 'ringcentral/src/http/ApiResponse';\nimport uuid from 'uuid';\n\nexport async function batchPutApi({\n  platform,\n  url,\n  query,\n  body,\n}) {\n  const boundry = `Boundary_${uuid.v4()}`;\n  const options = { headers: {} };\n  options.headers[ApiResponse._contentType]\n    = `${ApiResponse._multipartContentType}; boundary=${boundry}`;\n  body = body.reduce((data, item) => {\n    data += `--${boundry}\\r\\n`;\n    data += `${ApiResponse._contentType}: ${ApiResponse._jsonContentType}\\r\\n\\r\\n`;\n    data += `${JSON.stringify(item.body)}\\r\\n`;\n    return data;\n  }, '');\n  body += `--${boundry}--`;\n  const result = await platform.put(url, body, query, options);\n  return result.multipart();\n}\n\nexport async function batchGetApi({\n  platform,\n  url,\n  query,\n}) {\n  const boundry = `Boundary_${uuid.v4()}`;\n  const options = { headers: {} };\n  options.headers[ApiResponse._contentType]\n    = `${ApiResponse._multipartContentType}; boundary=${boundry}`;\n  const result = await platform.get(url, query, options);\n  return result.multipart();\n}\n"]}