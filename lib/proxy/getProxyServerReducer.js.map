{"version":3,"sources":["lib/proxy/getProxyServerReducer.js"],"names":["getProxyServerReducer","moduleReducer","transport","prefix","actionTypes","enumMap","baseActionTypes","state","target","undefined","type","initModule","lastAction","actionNumber","action","nextActionNumber","push","payload"],"mappings":";;;;;kBAGwBA,qB;;AAHxB;;AACA;;;;;;AAEe,SAASA,qBAAT,OAAqE;AAAA,MAApCC,aAAoC,QAApCA,aAAoC;AAAA,MAArBC,SAAqB,QAArBA,SAAqB;AAAA,MAAVC,MAAU,QAAVA,MAAU;;AAClF,MAAMC,cAAc,sBAAW,EAAEC,SAASC,yBAAX,EAA4BH,cAA5B,EAAX,CAApB;AACA,SAAO,YASF;AAAA,QARHI,KAQG,uEARK;AACNC,cAAQP,cAAcQ,SAAd,EAAyB;AAC/BC,cAAMN,YAAYO;AADa,OAAzB,CADF;AAINC,kBAAY,IAJN;AAKNC,oBAAc,CAAC;AALT,KAQL;AAAA,QADHC,MACG;;AACH,QAAI,CAACA,MAAL,EAAa,OAAOP,KAAP;AACb,QAAMQ,mBAAmBR,MAAMM,YAAN,GAAqB,CAA9C;AACAX,cAAUc,IAAV,CAAe;AACbC,eAAS;AACPP,cAAMN,YAAYU,MADX;AAEPA,sBAFO;AAGPD,sBAAcE;AAHP;AADI,KAAf;AAOA,WAAO;AACLP,cAAQP,cAAcM,MAAMC,MAApB,EAA4BM,MAA5B,CADH;AAELF,kBAAYE,MAFP;AAGLD,oBAAcE;AAHT,KAAP;AAKD,GAxBD;AAyBD","file":"getProxyServerReducer.js","sourcesContent":["import { prefixEnum } from '../Enum';\nimport baseActionTypes from './baseActionTypes';\n\nexport default function getProxyServerReducer({ moduleReducer, transport, prefix }) {\n  const actionTypes = prefixEnum({ enumMap: baseActionTypes, prefix });\n  return (\n    state = {\n      target: moduleReducer(undefined, {\n        type: actionTypes.initModule,\n      }),\n      lastAction: null,\n      actionNumber: -1,\n    },\n    action,\n  ) => {\n    if (!action) return state;\n    const nextActionNumber = state.actionNumber + 1;\n    transport.push({\n      payload: {\n        type: actionTypes.action,\n        action,\n        actionNumber: nextActionNumber,\n      },\n    });\n    return {\n      target: moduleReducer(state.target, action),\n      lastAction: action,\n      actionNumber: nextActionNumber,\n    };\n  };\n}\n"]}