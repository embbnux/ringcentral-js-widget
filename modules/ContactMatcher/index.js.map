{"version":3,"sources":["modules/ContactMatcher/index.js"],"names":["ContactMatcher","deps","dep","optional","options","name","phoneNumber","ignoreCache","match","queries","dataMapping","length","DataMatcher","proxify"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;IAOqBA,c,WAHpB,gBAAO;AACNC,QAAM,CAAC,EAAEC,KAAK,uBAAP,EAAgCC,UAAU,IAA1C,EAAD;AADA,CAAP,C;;;AAIC;;;AAGA,gCAEG;AAAA,QADEC,OACF;AAAA;AAAA;AAECC,YAAM;AAFP,OAGID,OAHJ;AAKF;;;;;;YAGsBE,W,SAAAA,W;sCAAaC,W;YAAAA,W,qCAAc,K;;;;;;uBAC1C,KAAKC,KAAL,CAAW;AACfC,2BAAS,CAACH,WAAD,CADM;AAEfC;AAFe,iBAAX,C;;;iDAIC,CAAC,CAAC,KAAKG,WAAL,CAAiBJ,WAAjB,CAAF,IAAmC,KAAKI,WAAL,CAAiBJ,WAAjB,EAA8BK,MAA9B,GAAuC,C;;;;;;;;;;;;;;;;;;;;YAI1DL,W,SAAAA,W;;;;;;uBACjB,KAAKE,KAAL,CAAW;AACfC,2BAAS,CAACH,WAAD,CADM;AAEfC,+BAAa;AAFE,iBAAX,C;;;;;;;;;;;;;;;;;;EAxBkCK,qB,oEAazCC,iB,uKASAA,iB;kBAtBkBb,c","file":"index.js","sourcesContent":["import { Module } from '../../lib/di';\nimport DataMatcher from '../../lib/DataMatcher';\nimport proxify from '../../lib/proxy/proxify';\n\n/**\n * @class\n * @description Contact matcher managing module\n */\n@Module({\n  deps: [{ dep: 'ContactMatcherOptions', optional: true }]\n})\nexport default class ContactMatcher extends DataMatcher {\n  /**\n   * @constructor\n   */\n  constructor({\n    ...options\n  }) {\n    super({\n      name: 'contactMatcher',\n      ...options\n    });\n  }\n\n  @proxify\n  async hasMatchNumber({ phoneNumber, ignoreCache = false }) {\n    await this.match({\n      queries: [phoneNumber],\n      ignoreCache\n    });\n    return !!this.dataMapping[phoneNumber] && this.dataMapping[phoneNumber].length > 0;\n  }\n\n  @proxify\n  async forceMatchNumber({ phoneNumber }) {\n    await this.match({\n      queries: [phoneNumber],\n      ignoreCache: true\n    });\n  }\n}\n"]}