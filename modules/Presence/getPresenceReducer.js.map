{"version":3,"sources":["modules/Presence/getPresenceReducer.js"],"names":["getDndStatusReducer","getLastNotDisturbDndStatusReducer","getPresenceStatusReducer","getUserStatusReducer","getMessageReducer","getPresenceReducer","types","state","type","dndStatus","notification","fetchSuccess","updateSuccess","updateError","update","resetSuccess","lastDndStatus","dndStatuses","doNotAcceptAnyCalls","presenceStatus","userStatus","message","reducers","status"],"mappings":"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","file":"getPresenceReducer.js","sourcesContent":["import { combineReducers } from 'redux';\nimport getModuleStatusReducer from '../../lib/getModuleStatusReducer';\nimport dndStatuses from './dndStatus';\n\nexport function getDndStatusReducer(types) {\n  return (state = null, { type, dndStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n      case types.updateError:\n      case types.update:\n        return dndStatus;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getLastNotDisturbDndStatusReducer(types) {\n  return (state = null, { type, dndStatus, lastDndStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n      case types.update:\n        if (\n          lastDndStatus !== dndStatuses.doNotAcceptAnyCalls &&\n          lastDndStatus !== dndStatus\n        ) {\n          return lastDndStatus;\n        }\n        return state;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getPresenceStatusReducer(types) {\n  return (state = null, { type, presenceStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n        return presenceStatus;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getUserStatusReducer(types) {\n  return (state = null, { type, userStatus = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n      case types.update:\n      case types.updateError:\n        return userStatus;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getMessageReducer(types) {\n  return (state = null, { type, message = state }) => {\n    switch (type) {\n      case types.notification:\n      case types.fetchSuccess:\n      case types.updateSuccess:\n        return message;\n      case types.resetSuccess:\n        return null;\n      default:\n        return state;\n    }\n  };\n}\n\nexport default function getPresenceReducer(types, reducers = {}) {\n  return combineReducers({\n    ...reducers,\n    status: getModuleStatusReducer(types),\n    dndStatus: getDndStatusReducer(types),\n    presenceStatus: getPresenceStatusReducer(types),\n    userStatus: getUserStatusReducer(types),\n    message: getMessageReducer(types),\n  });\n}\n"]}