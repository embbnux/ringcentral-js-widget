{"version":3,"sources":["containers/SettingsPage/index.js"],"names":["mapToProps","_","accountInfo","auth","brand","callingSettingsUrl","extensionInfo","locale","regionSettings","regionSettingsUrl","version","rolesAndPermissions","loggedIn","loginStatus","loginNumber","ready","phoneNumber","mainCompanyNumber","extensionNumber","countryCode","areaCode","showRegion","id","availableCountries","length","find","c","isoCode","currentLocale","brandId","ringoutEnabled","outboundSMS","permissions","OutboundSMS","mapToFunctions","onLogoutButtonClick","logout","SettingsPage","propTypes","instanceOf","isRequired","string","default"],"mappings":";;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,SAASA,UAAT,CAAoBC,CAApB,QAWG;AAAA,MAVDC,WAUC,QAVDA,WAUC;AAAA,MATDC,IASC,QATDA,IASC;AAAA,MARDC,KAQC,QARDA,KAQC;AAAA,MAPDC,kBAOC,QAPDA,kBAOC;AAAA,MANDC,aAMC,QANDA,aAMC;AAAA,MALDC,MAKC,QALDA,MAKC;AAAA,MAJDC,cAIC,QAJDA,cAIC;AAAA,MAHDC,iBAGC,QAHDA,iBAGC;AAAA,MAFDC,OAEC,QAFDA,OAEC;AAAA,MADDC,mBACC,QADDA,mBACC;;AACD,MAAMC,WAAWT,KAAKU,WAAL,KAAqB,sBAAYD,QAAlD;AACA,MAAME,cAAeF,YACnBV,YAAYa,KADO,IAEnBT,cAAcS,KAFI,GAIlB,4BAAa;AACXC,iBACEd,YAAYe,iBADd,SAEIX,cAAcY,eAHP;AAIXC,iBAAaX,eAAeW,WAJjB;AAKXC,cAAUZ,eAAeY;AALd,GAAb,CAJkB,GAWlB,EAXF;AAYA,SAAO;AACLC,gBAAYT,YAAYR,MAAMkB,EAAN,KAAa,MAAzB,KACVd,eAAee,kBAAf,CAAkCC,MAAlC,GAA2C,CAA3C,IACA,CAAC,CAAChB,eAAee,kBAAf,CAAkCE,IAAlC,CAAuC;AAAA,aAAKC,EAAEC,OAAF,KAAc,IAAnB;AAAA,KAAvC,CADF,IAEA,CAAC,CAACnB,eAAee,kBAAf,CAAkCE,IAAlC,CAAuC;AAAA,aAAKC,EAAEC,OAAF,KAAc,IAAnB;AAAA,KAAvC,CAHQ,CADP;AAMLb,4BANK;AAOLJ,oBAPK;AAQLkB,mBAAerB,OAAOqB,aARjB;AASLC,aAASzB,MAAMkB,EATV;AAULjB,0CAVK;AAWLI,wCAXK;AAYLqB,oBAAgBnB,oBAAoBmB,cAZ/B;AAaLC,iBAAapB,oBAAoBqB,WAApB,CAAgCC;AAbxC,GAAP;AAeD;;AAED,SAASC,cAAT,CAAwBjC,CAAxB,SAEG;AAAA;;AAAA,MADDE,IACC,SADDA,IACC;;AACD,SAAO;AACLgC;AAAA,6EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACbhC,KAAKiC,MAAL,EADa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAArB;;AAAA;AAAA;AAAA;AAAA;AADK,GAAP;AAKD;AACD,IAAMC,eAAe,yBACnBrC,UADmB,EAEnBkC,cAFmB,0BAArB;;AAKA,IAAMI,YAAY;AAChBpC,eAAa,iBAAUqC,UAAV,wBAAkCC,UAD/B;AAEhBrC,QAAM,iBAAUoC,UAAV,iBAA2BC,UAFjB;AAGhBpC,SAAO,iBAAUmC,UAAV,kBAA4BC,UAHnB;AAIhBlC,iBAAe,iBAAUiC,UAAV,0BAAoCC,UAJnC;AAKhBjC,UAAQ,iBAAUgC,UAAV,mBAA6BC,UALrB;AAMhBhC,kBAAgB,iBAAU+B,UAAV,2BAAqCC,UANrC;AAOhBnC,sBAAoB,iBAAUoC,MAAV,CAAiBD,UAPrB;AAQhB/B,qBAAmB,iBAAUgC,MAAV,CAAiBD,UARpB;AAShB9B,WAAS,iBAAU+B,MAAV,CAAiBD,UATV;AAUhB7B,uBAAqB,iBAAU4B,UAAV,gCAA0CC;AAV/C,CAAlB;;AAaAH,aAAaC,SAAb,GAAyBA,SAAzB;;QAGEJ,c,GAAAA,c;QACAlC,U,GAAAA,U;QACAsC,S,GAAAA,S;QACgBI,O,GAAhBL,Y","file":"index.js","sourcesContent":["import { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport loginStatus from 'ringcentral-integration/modules/Auth/loginStatus';\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\nimport AccountInfo from 'ringcentral-integration/modules/AccountInfo';\nimport Auth from 'ringcentral-integration/modules/Auth';\nimport Brand from 'ringcentral-integration/modules/Brand';\nimport ExtensionInfo from 'ringcentral-integration/modules/ExtensionInfo';\nimport Locale from 'ringcentral-integration/modules/Locale';\nimport RegionSettings from 'ringcentral-integration/modules/RegionSettings';\nimport RolesAndPermissions from 'ringcentral-integration/modules/RolesAndPermissions';\n\nimport SettingsPanel from '../../components/SettingsPanel';\n\nfunction mapToProps(_, {\n  accountInfo,\n  auth,\n  brand,\n  callingSettingsUrl,\n  extensionInfo,\n  locale,\n  regionSettings,\n  regionSettingsUrl,\n  version,\n  rolesAndPermissions,\n}) {\n  const loggedIn = auth.loginStatus === loginStatus.loggedIn;\n  const loginNumber = (loggedIn &&\n    accountInfo.ready &&\n    extensionInfo.ready\n  ) ?\n    formatNumber({\n      phoneNumber: `${\n        accountInfo.mainCompanyNumber\n      }*${extensionInfo.extensionNumber}`,\n      countryCode: regionSettings.countryCode,\n      areaCode: regionSettings.areaCode,\n    }) :\n    '';\n  return {\n    showRegion: loggedIn && brand.id === '1210' && (\n      regionSettings.availableCountries.length > 1 ||\n      !!regionSettings.availableCountries.find(c => c.isoCode === 'US') ||\n      !!regionSettings.availableCountries.find(c => c.isoCode === 'CA')\n    ),\n    loginNumber,\n    version,\n    currentLocale: locale.currentLocale,\n    brandId: brand.id,\n    callingSettingsUrl,\n    regionSettingsUrl,\n    ringoutEnabled: rolesAndPermissions.ringoutEnabled,\n    outboundSMS: rolesAndPermissions.permissions.OutboundSMS,\n  };\n}\n\nfunction mapToFunctions(_, {\n  auth,\n}) {\n  return {\n    onLogoutButtonClick: async () => {\n      await auth.logout();\n    },\n  };\n}\nconst SettingsPage = connect(\n  mapToProps,\n  mapToFunctions,\n)(SettingsPanel);\n\nconst propTypes = {\n  accountInfo: PropTypes.instanceOf(AccountInfo).isRequired,\n  auth: PropTypes.instanceOf(Auth).isRequired,\n  brand: PropTypes.instanceOf(Brand).isRequired,\n  extensionInfo: PropTypes.instanceOf(ExtensionInfo).isRequired,\n  locale: PropTypes.instanceOf(Locale).isRequired,\n  regionSettings: PropTypes.instanceOf(RegionSettings).isRequired,\n  callingSettingsUrl: PropTypes.string.isRequired,\n  regionSettingsUrl: PropTypes.string.isRequired,\n  version: PropTypes.string.isRequired,\n  rolesAndPermissions: PropTypes.instanceOf(RolesAndPermissions).isRequired,\n};\n\nSettingsPage.propTypes = propTypes;\n\nexport {\n  mapToFunctions,\n  mapToProps,\n  propTypes,\n  SettingsPage as default,\n};\n"]}