{"version":3,"sources":["containers/AlertContainer/index.js"],"names":["AlertContainer","state","locale","alert","currentLocale","messages","dispatch","rateLimiter","brand","getRenderer","message","handleMessage","props","fullName","timestamp","_throttleDuration","undefined","dismiss","id","propTypes","instanceOf","isRequired"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,iBAAiB,yBAAQ,UAACC,KAAD;AAAA,MAC7BC,MAD6B,QAC7BA,MAD6B;AAAA,MAE7BC,KAF6B,QAE7BA,KAF6B;AAAA,SAGxB;AACLC,mBAAeF,OAAOE,aADjB;AAELC,cAAUF,MAAME;AAFX,GAHwB;AAAA,CAAR,EAMnB,UAACC,QAAD;AAAA,MACFC,WADE,SACFA,WADE;AAAA,MAEFC,KAFE,SAEFA,KAFE;AAAA,MAGFL,KAHE,SAGFA,KAHE;AAAA,SAIG;AACLM,iBAAa,qBAACC,OAAD,EAAa;AACxB,UAAI,oBAAUC,aAAV,CAAwBD,OAAxB,CAAJ,EAAsC;AACpC;AACD;AACD,UAAI,oBAAUC,aAAV,CAAwBD,OAAxB,CAAJ,EAAsC;AACpC,eAAO;AAAA,iBACL,8EACME,KADN;AAEE,+BAAkB,kBAFpB,IADK;AAAA,SAAP;AAKD;AACD,UAAI,+BAAqBD,aAArB,CAAmCD,OAAnC,CAAJ,EAAiD;AAC/C,eAAO;AAAA,iBACL,yFACME,KADN;AAEE,mBAAOJ,MAAMK,QAFf;AAGE,gCAAmB,mBAHrB,IADK;AAAA,SAAP;AAMD;;AAED,UAAI,8BAAoBF,aAApB,CAAkCD,OAAlC,CAAJ,EAAgD;AAC9C,eAAO;AAAA,iBACL,wFACME,KADN;AAEE,+BAAkB,kBAFpB,IADK;AAAA,SAAP;AAKD;;AAED,UAAI,6BAAmBD,aAAnB,CAAiCD,OAAjC,CAAJ,EAA+C;AAC7C;AACD;;AAED,UAAI,4BAAkBC,aAAlB,CAAgCD,OAAhC,CAAJ,EAA8C;AAC5C,eAAO;AAAA,iBACL,sFACME,KADN;AAEE,uBAAWL,YAAYO,SAFzB;AAGE,sBAAUP,YAAYQ,iBAHxB,IADK;AAAA,SAAP;AAMD;;AAED,UAAI,4BAAkBJ,aAAlB,CAAgCD,OAAhC,CAAJ,EAA8C;AAC5C;AACD;;AAED,aAAOM,SAAP;AACD,KA/CI;AAgDLC,aAAS,iBAACC,EAAD,EAAQ;AACff,YAAMc,OAAN,CAAcC,EAAd;AACD;AAlDI,GAJH;AAAA,CANmB,yBAAvB;;AA+DAlB,eAAemB,SAAf,GAA2B;AACzBhB,SAAO,iBAAUiB,UAAV,kBAA4BC,UADV;AAEzBb,SAAO,iBAAUY,UAAV,kBAA4BC,UAFV;AAGzBnB,UAAQ,iBAAUkB,UAAV,mBAA6BC,UAHZ;AAIzBd,eAAa,iBAAUa,UAAV,wBAAkCC;AAJtB,CAA3B;;kBAOerB,c","file":"index.js","sourcesContent":["import React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\n\nimport Alert from 'ringcentral-integration/modules/Alert';\nimport Brand from 'ringcentral-integration/modules/Brand';\nimport Locale from 'ringcentral-integration/modules/Locale';\nimport RateLimiter from 'ringcentral-integration/modules/RateLimiter';\n\nimport AlertDisplay from '../../components/AlertDisplay';\n\nimport AuthAlert from '../../components/AuthAlert';\nimport CallAlert from '../../components/CallAlert';\nimport CallingSettingsAlert from '../../components/CallingSettingsAlert';\nimport RegionSettingsAlert from '../../components/RegionSettingsAlert';\nimport MessageSenderAlert from '../../components/MessageSenderAlert';\nimport RateExceededAlert from '../../components/RateExceededAlert';\nimport ConnectivityAlert from '../../components/ConnectivityAlert';\n\nconst AlertContainer = connect((state, {\n  locale,\n  alert,\n}) => ({\n  currentLocale: locale.currentLocale,\n  messages: alert.messages,\n}), (dispatch, {\n  rateLimiter,\n  brand,\n  alert,\n}) => ({\n  getRenderer: (message) => {\n    if (AuthAlert.handleMessage(message)) {\n      return AuthAlert;\n    }\n    if (CallAlert.handleMessage(message)) {\n      return props => (\n        <CallAlert\n          {...props}\n          regionSettingsUrl=\"/settings/region\" />\n      );\n    }\n    if (CallingSettingsAlert.handleMessage(message)) {\n      return props => (\n        <CallingSettingsAlert\n          {...props}\n          brand={brand.fullName}\n          callingSettingsUrl=\"/settings/calling\" />\n      );\n    }\n\n    if (RegionSettingsAlert.handleMessage(message)) {\n      return props => (\n        <RegionSettingsAlert\n          {...props}\n          regionSettingsUrl=\"/settings/region\" />\n      );\n    }\n\n    if (MessageSenderAlert.handleMessage(message)) {\n      return MessageSenderAlert;\n    }\n\n    if (RateExceededAlert.handleMessage(message)) {\n      return props => (\n        <RateExceededAlert\n          {...props}\n          timestamp={rateLimiter.timestamp}\n          duration={rateLimiter._throttleDuration} />\n      );\n    }\n\n    if (ConnectivityAlert.handleMessage(message)) {\n      return ConnectivityAlert;\n    }\n\n    return undefined;\n  },\n  dismiss: (id) => {\n    alert.dismiss(id);\n  },\n}))(AlertDisplay);\n\nAlertContainer.propTypes = {\n  alert: PropTypes.instanceOf(Alert).isRequired,\n  brand: PropTypes.instanceOf(Brand).isRequired,\n  locale: PropTypes.instanceOf(Locale).isRequired,\n  rateLimiter: PropTypes.instanceOf(RateLimiter).isRequired,\n};\n\nexport default AlertContainer;\n"]}