{"version":3,"sources":["containers/ComposeTextPage/index.js"],"names":["ComposeTextPage","state","props","currentLocale","locale","sendButtonDisabled","composeText","ready","messageSender","idle","senderNumbers","senderNumbersList","senderNumber","typingToNumber","toNumbers","messageText","searchContactList","contactSearch","searching","result","dispatch","send","then","resp","conversation","messageStore","pushMessage","clean","router","history","push","id","formatPhone","phoneNumber","areaCode","regionSettings","countryCode","searchContact","search","searchString","updateSenderNumber","updateTypingToNumber","cleanTypingToNumber","addToNumber","removeToNumber","updateMessageText","propTypes","instanceOf","isRequired"],"mappings":";;;;;;AAAA;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;;;;;AAEA,IAAMA,kBAAkB,yBAAQ,UAACC,KAAD,EAAQC,KAAR;AAAA,SAAmB;AACjDC,mBAAeD,MAAME,MAAN,CAAaD,aADqB;AAEjDE,wBACE,EAAEH,MAAMI,WAAN,CAAkBC,KAAlB,IAA2BL,MAAMM,aAAN,CAAoBC,IAAjD,CAH+C;AAKjDC,mBAAeR,MAAMM,aAAN,CAAoBG,iBALc;AAMjDC,kBAAcV,MAAMI,WAAN,CAAkBM,YANiB;AAOjDC,oBAAgBX,MAAMI,WAAN,CAAkBO,cAPe;AAQjDC,eAAWZ,MAAMI,WAAN,CAAkBQ,SARoB;AASjDC,iBAAab,MAAMI,WAAN,CAAkBS,WATkB;AAUjDC,uBAAmBd,MAAMe,aAAN,CAAoBC,SAApB,CAA8BC;AAVA,GAAnB;AAAA,CAAR,EAWpB,UAACC,QAAD,EAAWlB,KAAX;AAAA,SAAsB;AACxBmB,UAAM;AAAA,aACJnB,MAAMI,WAAN,CAAkBe,IAAlB,GAAyBC,IAAzB,CAA8B,UAACC,IAAD,EAAU;AACtC,YAAIA,QAAQA,KAAKC,YAAjB,EAA+B;AAC7BtB,gBAAMuB,YAAN,CAAmBC,WAAnB,CAA+BH,IAA/B;AACArB,gBAAMI,WAAN,CAAkBqB,KAAlB;AACAzB,gBAAM0B,MAAN,CAAaC,OAAb,CAAqBC,IAArB,qBAA4CP,KAAKC,YAAL,CAAkBO,EAA9D;AACD;AACD,eAAO,IAAP;AACD,OAPD,CADI;AAAA,KADkB;AAUxBC,iBAAa;AAAA,aACX,4BAAa;AACXC,gCADW;AAEXC,kBAAUhC,MAAMiC,cAAN,CAAqBD,QAFpB;AAGXE,qBAAalC,MAAMiC,cAAN,CAAqBC;AAHvB,OAAb,CADW;AAAA,KAVW;AAiBxBC,mBAAe;AAAA,aACbnC,MAAMe,aAAN,CAAoBqB,MAApB,CAA2B,EAAEC,0BAAF,EAA3B,CADa;AAAA,KAjBS;AAoBxBC,wBAAoBtC,MAAMI,WAAN,CAAkBkC,kBApBd;AAqBxBC,0BAAsBvC,MAAMI,WAAN,CAAkBmC,oBArBhB;AAsBxBC,yBAAqBxC,MAAMI,WAAN,CAAkBoC,mBAtBf;AAuBxBC,iBAAazC,MAAMI,WAAN,CAAkBqC,WAvBP;AAwBxBC,oBAAgB1C,MAAMI,WAAN,CAAkBsC,cAxBV;AAyBxBC,uBAAmB3C,MAAMI,WAAN,CAAkBuC;AAzBb,GAAtB;AAAA,CAXoB,6BAAxB;;AAuCA7C,gBAAgB8C,SAAhB,GAA4B;AAC1BlB,UAAQ,iBAAUmB,UAAV,8BAAwCC,UADtB;AAE1B1C,eAAa,iBAAUyC,UAAV,wBAAkCC,UAFrB;AAG1BvB,gBAAc,iBAAUsB,UAAV,yBAAmCC;AAHvB,CAA5B;;kBAMehD,e","file":"index.js","sourcesContent":["import { PropTypes } from 'react';\nimport { connect } from 'react-redux';\n\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\nimport ComposeText from 'ringcentral-integration/modules/ComposeText';\nimport MessageStore from 'ringcentral-integration/modules/MessageStore';\n\nimport RouterInteraction from '../../modules/RouterInteraction';\n\nimport ComposeTextPanel from '../../components/ComposeTextPanel';\n\nconst ComposeTextPage = connect((state, props) => ({\n  currentLocale: props.locale.currentLocale,\n  sendButtonDisabled: (\n    !(props.composeText.ready && props.messageSender.idle)\n  ),\n  senderNumbers: props.messageSender.senderNumbersList,\n  senderNumber: props.composeText.senderNumber,\n  typingToNumber: props.composeText.typingToNumber,\n  toNumbers: props.composeText.toNumbers,\n  messageText: props.composeText.messageText,\n  searchContactList: props.contactSearch.searching.result,\n}), (dispatch, props) => ({\n  send: () =>\n    props.composeText.send().then((resp) => {\n      if (resp && resp.conversation) {\n        props.messageStore.pushMessage(resp);\n        props.composeText.clean();\n        props.router.history.push(`/conversations/${resp.conversation.id}`);\n      }\n      return null;\n    }),\n  formatPhone: phoneNumber => (\n    formatNumber({\n      phoneNumber,\n      areaCode: props.regionSettings.areaCode,\n      countryCode: props.regionSettings.countryCode\n    })\n  ),\n  searchContact: searchString => (\n    props.contactSearch.search({ searchString })\n  ),\n  updateSenderNumber: props.composeText.updateSenderNumber,\n  updateTypingToNumber: props.composeText.updateTypingToNumber,\n  cleanTypingToNumber: props.composeText.cleanTypingToNumber,\n  addToNumber: props.composeText.addToNumber,\n  removeToNumber: props.composeText.removeToNumber,\n  updateMessageText: props.composeText.updateMessageText,\n}))(ComposeTextPanel);\n\nComposeTextPage.propTypes = {\n  router: PropTypes.instanceOf(RouterInteraction).isRequired,\n  composeText: PropTypes.instanceOf(ComposeText).isRequired,\n  messageStore: PropTypes.instanceOf(MessageStore).isRequired,\n};\n\nexport default ComposeTextPage;\n"]}