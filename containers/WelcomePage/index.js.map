{"version":3,"sources":["containers/WelcomePage/index.js"],"names":["WelcomeContainer","props","root","currentLocale","disabled","setupProxyFrame","clearProxyFrame","onLoginButtonClick","children","propTypes","node","string","isRequired","func","bool","defaultProps","mapToProps","_","auth","locale","rateLimiter","connectivityMonitor","proxyLoaded","throttling","connectivity","mapToFunctions","onLogin","openOAuthPage","WelcomePage","instanceOf","mainUrl","default"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AAC/B,SACE;AAAA;AAAA,MAAK,WAAW,iBAAOC,IAAvB;AACE;AACE,qBAAeD,MAAME,aADvB;AAEE,gBAAUF,MAAMG,QAFlB;AAGE,uBAAiBH,MAAMI,eAHzB;AAIE,uBAAiBJ,MAAMK,eAJzB;AAKE,0BAAoBL,MAAMM;AAL5B,MADF;AAQGN,UAAMO;AART,GADF;AAYD;;AAEDR,iBAAiBS,SAAjB,GAA6B;AAC3BD,YAAU,iBAAUE,IADO;AAE3BP,iBAAe,iBAAUQ,MAAV,CAAiBC,UAFL;AAG3BP,mBAAiB,iBAAUQ,IAAV,CAAeD,UAHL;AAI3BN,mBAAiB,iBAAUO,IAAV,CAAeD,UAJL;AAK3BL,sBAAoB,iBAAUM,IAAV,CAAeD,UALR;AAM3BR,YAAU,iBAAUU;AANO,CAA7B;;AASAd,iBAAiBe,YAAjB,GAAgC;AAC9BP,YAAU,IADoB;AAE9BJ,YAAU;AAFoB,CAAhC;;AAKA,SAASY,UAAT,CAAoBC,CAApB,QAKG;AAAA,MAJDC,IAIC,QAJDA,IAIC;AAAA,MAHDC,MAGC,QAHDA,MAGC;AAAA,MAFDC,WAEC,QAFDA,WAEC;AAAA,MADDC,mBACC,QADDA,mBACC;;AACD,SAAO;AACLlB,mBAAegB,OAAOhB,aADjB;AAELC,cACE,CAACc,KAAKI,WAAN,IACAF,YAAYG,UADZ,IAEA,CAACF,oBAAoBG;AALlB,GAAP;AAQD;;AAED,SAASC,cAAT,CAAwBR,CAAxB,SAGG;AAAA,MAFDC,IAEC,SAFDA,IAEC;AAAA,MADDQ,OACC,SADDA,OACC;;AACD,SAAO;AACLrB,mBADK,6BACa;AAChBa,WAAKb,eAAL,CAAqBqB,OAArB;AACD,KAHI;AAILpB,mBAJK,6BAIa;AAChBY,WAAKZ,eAAL;AACD,KANI;AAOLC,sBAPK,gCAOgB;AACnBW,WAAKS,aAAL;AACD;AATI,GAAP;AAWD;;AAED,IAAMC,cAAc,yBAClBZ,UADkB,EAElBS,cAFkB,EAGlBzB,gBAHkB,CAApB;;AAKA,IAAMS,YAAY;AAChBS,QAAM,iBAAUW,UAAV,iBAA2BjB,UADjB;AAEhBO,UAAQ,iBAAUU,UAAV,mBAA6BjB,UAFrB;AAGhBQ,eAAa,iBAAUS,UAAV,wBAAkCjB,UAH/B;AAIhBS,uBAAqB,iBAAUQ,UAAV,gCAA0CjB,UAJ/C;AAKhBkB,WAAS,iBAAUnB,MALH;AAMhBe,WAAS,iBAAUb;AANH,CAAlB;;AASAe,YAAYnB,SAAZ,GAAwBA,SAAxB;;QAGEgB,c,GAAAA,c;QACAT,U,GAAAA,U;QACAP,S,GAAAA,S;QACesB,O,GAAfH,W","file":"index.js","sourcesContent":["import React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport Auth from 'ringcentral-integration/modules/Auth';\nimport Locale from 'ringcentral-integration/modules/Locale';\nimport RateLimiter from 'ringcentral-integration/modules/RateLimiter';\nimport ConnectivityMonitor from 'ringcentral-integration/modules/ConnectivityMonitor';\nimport LoginPanel from '../../components/LoginPanel';\n\nimport styles from './styles.scss';\n\nfunction WelcomeContainer(props) {\n  return (\n    <div className={styles.root}>\n      <LoginPanel\n        currentLocale={props.currentLocale}\n        disabled={props.disabled}\n        setupProxyFrame={props.setupProxyFrame}\n        clearProxyFrame={props.clearProxyFrame}\n        onLoginButtonClick={props.onLoginButtonClick}\n      />\n      {props.children}\n    </div>\n  );\n}\n\nWelcomeContainer.propTypes = {\n  children: PropTypes.node,\n  currentLocale: PropTypes.string.isRequired,\n  setupProxyFrame: PropTypes.func.isRequired,\n  clearProxyFrame: PropTypes.func.isRequired,\n  onLoginButtonClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n\nWelcomeContainer.defaultProps = {\n  children: null,\n  disabled: false,\n};\n\nfunction mapToProps(_, {\n  auth,\n  locale,\n  rateLimiter,\n  connectivityMonitor,\n}) {\n  return {\n    currentLocale: locale.currentLocale,\n    disabled: (\n      !auth.proxyLoaded ||\n      rateLimiter.throttling ||\n      !connectivityMonitor.connectivity\n    ),\n  };\n}\n\nfunction mapToFunctions(_, {\n  auth,\n  onLogin,\n}) {\n  return {\n    setupProxyFrame() {\n      auth.setupProxyFrame(onLogin);\n    },\n    clearProxyFrame() {\n      auth.clearProxyFrame();\n    },\n    onLoginButtonClick() {\n      auth.openOAuthPage();\n    },\n  };\n}\n\nconst WelcomePage = connect(\n  mapToProps,\n  mapToFunctions,\n)(WelcomeContainer);\n\nconst propTypes = {\n  auth: PropTypes.instanceOf(Auth).isRequired,\n  locale: PropTypes.instanceOf(Locale).isRequired,\n  rateLimiter: PropTypes.instanceOf(RateLimiter).isRequired,\n  connectivityMonitor: PropTypes.instanceOf(ConnectivityMonitor).isRequired,\n  mainUrl: PropTypes.string,\n  onLogin: PropTypes.func,\n};\n\nWelcomePage.propTypes = propTypes;\n\nexport {\n  mapToFunctions,\n  mapToProps,\n  propTypes,\n  WelcomePage as default,\n};\n"]}